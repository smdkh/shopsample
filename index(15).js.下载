/*! For license information please see index.js.LICENSE.txt */
(()=>{var t={"7od+":t=>{t.exports=function(t,e){this.v=t,this.k=e},t.exports.__esModule=!0,t.exports.default=t.exports},ACim:(t,e)=>{"use strict";e.Q=void 0,e.Q=function(t,e){const n=e||location&&location.hostname;if(n){const e=n.match(/alibaba\.(.*)/);if(e&&e.length>0)return t.replace("com",e[1])}return t}},Kq5O:(t,e,n)=>{var r=n("rHsi")();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},QQwD:(t,e,n)=>{var r=n("YovJ").default;t.exports=function(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(r(t)+" is not iterable")},t.exports.__esModule=!0,t.exports.default=t.exports},YovJ:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},Z7Vu:t=>{t.exports=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},t.exports.__esModule=!0,t.exports.default=t.exports},Zebr:(t,e)=>{"use strict";var n=location.pathname.indexOf("messengerAlone.htm")>=0,r=location.pathname.indexOf("weblitePWA.htm")>=0,o=location.pathname.indexOf("messenger.htm")>=0||location.pathname.indexOf("messengerShadow.htm")>=0,i=location.pathname.indexOf("weblite.htm")>=0,a=e.fw=location.pathname.indexOf("webATM.htm")>=0;r||location.pathname.indexOf("maDetail")},abeC:t=>{function e(n,r,o,i){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}t.exports=e=function(t,n,r,o){if(n)a?a(t,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):t[n]=r;else{var i=function(n,r){e(t,n,function(t){return this._invoke(n,r,t)})};i("next",0),i("throw",1),i("return",2)}},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r,o,i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},afaM:(t,e,n)=>{var r=n("zcII");t.exports=function(t,e,n,o,i){var a=r(t,e,n,o,i);return a.next().then(function(t){return t.done?t.value:a.next()})},t.exports.__esModule=!0,t.exports.default=t.exports},g9Ft:(t,e,n)=>{var r=n("abeC");function o(){var e,n,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.toStringTag||"@@toStringTag";function u(t,o,i,a){var c=o&&o.prototype instanceof l?o:l,u=Object.create(c.prototype);return r(u,"_invoke",function(t,r,o){var i,a,c,u=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,a=0,c=e,p.n=n,s}};function d(t,r){for(a=t,c=r,n=0;!f&&u&&!o&&n<l.length;n++){var o,i=l[n],d=p.p,h=i[2];t>3?(o=h===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=t<2&&d<i[1])?(a=0,p.v=r,p.n=i[1]):d<h&&(o=t<3||i[0]>r||r>h)&&(i[4]=t,i[5]=r,p.n=h,a=0))}if(o||t>1)return s;throw f=!0,r}return function(o,l,h){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,h),a=l,c=h;(n=a<2?e:c)||!f;){i||(a?a<3?(a>1&&(p.n=-1),d(a,c)):p.n=c:p.v=c);try{if(u=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((n=(f=p.n<0)?c:t.call(r,p))!==s)break}catch(t){i=e,a=1,c=t}finally{u=1}}return{value:n,done:f}}}(t,i,a),!0),u}var s={};function l(){}function f(){}function p(){}n=Object.getPrototypeOf;var d=[][a]?n(n([][a]())):(r(n={},a,function(){return this}),n),h=p.prototype=l.prototype=Object.create(d);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,r(t,c,"GeneratorFunction")),t.prototype=Object.create(h),t}return f.prototype=p,r(h,"constructor",p),r(p,"constructor",f),f.displayName="GeneratorFunction",r(p,c,"GeneratorFunction"),r(h),r(h,c,"Generator"),r(h,a,function(){return this}),r(h,"toString",function(){return"[object Generator]"}),(t.exports=o=function(){return{w:u,m}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},rHsi:(t,e,n)=>{var r=n("7od+"),o=n("g9Ft"),i=n("afaM"),a=n("zcII"),c=n("w/fK"),u=n("Z7Vu"),s=n("QQwD");function l(){"use strict";var e=o(),n=e.m(l),f=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function p(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))}var d={throw:1,return:2,break:3,continue:3};function h(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,d[t],e)},delegateYield:function(t,o,i){return e.resultName=o,n(r.d,s(t),i)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(t.exports=l=function(){return{wrap:function(t,n,r,o){return e.w(h(t),n,r,o&&o.reverse())},isGeneratorFunction:p,mark:e.m,awrap:function(t,e){return new r(t,e)},AsyncIterator:c,async:function(t,e,n,r,o){return(p(e)?a:i)(h(t),e,n,r,o)},keys:u,values:s}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},"w/fK":(t,e,n)=>{var r=n("7od+"),o=n("abeC");t.exports=function t(e,n){function i(t,o,a,c){try{var u=e[t](o),s=u.value;return s instanceof r?n.resolve(s.v).then(function(t){i("next",t,a,c)},function(t){i("throw",t,a,c)}):n.resolve(s).then(function(t){u.value=t,a(u)},function(t){return i("throw",t,a,c)})}catch(t){c(t)}}var a;this.next||(o(t.prototype),o(t.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),o(this,"_invoke",function(t,e,r){function o(){return new n(function(e,n){i(t,r,e,n)})}return a=a?a.then(o,o):o()},!0)},t.exports.__esModule=!0,t.exports.default=t.exports},zcII:(t,e,n)=>{var r=n("g9Ft"),o=n("w/fK");t.exports=function(t,e,n,i,a){return new o(r().w(t,e,n,i),a||Promise)},t.exports.__esModule=!0,t.exports.default=t.exports}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function e(e){return function(){var n=this,r=arguments;return new Promise(function(o,i){var a=e.apply(n,r);function c(e){t(a,o,i,c,u,"next",e)}function u(e){t(a,o,i,c,u,"throw",e)}c(void 0)})}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function c(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}function p(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=n("Kq5O"),h=n.n(d);const m=IcbuIM.React16;var v=n.n(m),g=function(){return g=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},g.apply(this,arguments)};function w(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}u((r=r.apply(t,e||[])).next())})}function y(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var b=Object.freeze({__proto__:null,get start(){return ce},get ensureJQuerySupport(){return Gt},get setBootstrapMaxTime(){return ot},get setMountMaxTime(){return it},get setUnmountMaxTime(){return at},get setUnloadMaxTime(){return ct},get registerApplication(){return Qt},get getMountedApps(){return Kt},get getAppStatus(){return Xt},get unloadApplication(){return te},get checkActivityFunctions(){return $t},get getAppNames(){return Zt},get declareChildApplication(){return Jt},get unloadChildApplication(){return Yt},get navigateToUrl(){return xt},get triggerAppChange(){return oe},get addErrorHandler(){return M},get removeErrorHandler(){return L},get mountRootParcel(){return Et},get NOT_LOADED(){return D},get LOADING_SOURCE_CODE(){return k},get NOT_BOOTSTRAPPED(){return U},get BOOTSTRAPPING(){return G},get NOT_MOUNTED(){return B},get MOUNTING(){return H},get UPDATING(){return F},get LOAD_ERROR(){return K},get MOUNTED(){return z},get UNMOUNTING(){return W},get SKIP_BECAUSE_BROKEN(){return Z}}),E=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{}).CustomEvent,_=function(){try{var t=new E("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?E:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.bubbles=Boolean(e.bubbles),n.cancelable=Boolean(e.cancelable),n.detail=e.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n};function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(n,!0).forEach(function(e){I(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t,e,n){return(x=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&R(o,n.prototype),o}).apply(null,arguments)}function A(t){var e="function"==typeof Map?new Map:void 0;return(A=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return x(t,arguments,P(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),R(r,t)})(t)}var N=[];function C(t,e){var n=j(t,e);N.length?N.forEach(function(t){return t(n)}):setTimeout(function(){throw n})}function M(t){if("function"!=typeof t)throw Error("a single-spa error handler must be a function");N.push(t)}function L(t){if("function"!=typeof t)throw Error("a single-spa error handler must be a function");var e=!1;return N=N.filter(function(n){var r=n===t;return e=e||r,!r}),e}function j(t,e){var n,r=e.unmountThisParcel?"Parcel":"Application",o="".concat(r," '").concat(e.name,"' died in status ").concat(e.status,": ");if(t instanceof Error){try{t.message=o+t.message}catch(t){}n=t}else{console.warn("While ".concat(e.status,", '").concat(e.name,"' rejected its lifecycle function promise with a non-Error. This will cause stack traces to not be accurate."));try{n=Error(o+JSON.stringify(t))}catch(e){n=t}}n.appName=e.name,n.appOrParcelName=e.name;try{n.name=e.name}catch(t){}return n}var D="NOT_LOADED",k="LOADING_SOURCE_CODE",U="NOT_BOOTSTRAPPED",G="BOOTSTRAPPING",B="NOT_MOUNTED",H="MOUNTING",z="MOUNTED",F="UPDATING",W="UNMOUNTING",q="UNLOADING",K="LOAD_ERROR",Z="SKIP_BECAUSE_BROKEN";function X(t){return t.status===z}function J(t){return!X(t)}function Q(t){return t.status!==D&&t.status!==k&&t.status!==K}function $(t){return!Q(t)}function V(t){try{return t.activeWhen(window.location)}catch(e){C(e,t),t.status=Z}}function Y(t){try{return!t.activeWhen(window.location)}catch(e){C(e,t),t.status=Z}}function tt(t){return t!==Z&&(!t||t.status!==Z)}function et(t){return t.status!==K||(new Date).getTime()-t.loadErrorTime>=200}function nt(t){return t.name}var rt={bootstrap:{millis:4e3,dieOnTimeout:!1},mount:{millis:3e3,dieOnTimeout:!1},unmount:{millis:3e3,dieOnTimeout:!1},unload:{millis:3e3,dieOnTimeout:!1}};function ot(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof t||t<=0)throw Error("bootstrap max time must be a positive integer number of milliseconds");rt.bootstrap={millis:t,dieOnTimeout:e}}function it(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof t||t<=0)throw Error("mount max time must be a positive integer number of milliseconds");rt.mount={millis:t,dieOnTimeout:e}}function at(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof t||t<=0)throw Error("unmount max time must be a positive integer number of milliseconds");rt.unmount={millis:t,dieOnTimeout:e}}function ct(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof t||t<=0)throw Error("unload max time must be a positive integer number of milliseconds");rt.unload={millis:t,dieOnTimeout:e}}function ut(t,e,n){var r=1e3;return new Promise(function(o,i){var a=!1,c=!1;function u(t){if(!a)if(!0===t)c=!0,n.dieOnTimeout?i("".concat(e," did not resolve or reject for ").concat(n.millis," milliseconds")):console.error("".concat(e," did not resolve or reject for ").concat(n.millis," milliseconds -- we're no longer going to warn you about it."));else if(!c){var o=t,s=o*r;console.warn("".concat(e," did not resolve or reject within ").concat(s," milliseconds")),s+r<n.millis&&setTimeout(function(){return u(o+1)},r)}}t.then(function(t){a=!0,o(t)}).catch(function(t){a=!0,i(t)}),setTimeout(function(){return u(1)},r),setTimeout(function(){return u(!0)},n.millis)})}function st(){return S({},rt,{},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function lt(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n];return null}function ft(t){return t&&("function"==typeof t||(e=t,Array.isArray(e)&&!lt(e,function(t){return"function"!=typeof t})));var e}function pt(t,e){return 0===(t=Array.isArray(t)?t:[t]).length&&(t=[function(){return Promise.resolve()}]),function(n){return new Promise(function(r,o){!function i(a){var c=t[a](n);dt(c)?c.then(function(){a===t.length-1?r():i(a+1)}).catch(o):o("".concat(e," at index ").concat(a," did not return a promise"))}(0)})}}function dt(t){return t&&"function"==typeof t.then&&"function"==typeof t.catch}function ht(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.resolve().then(function(){return t.status!==U?t:(t.status=G,ut(t.bootstrap(It(t)),"Bootstrapping appOrParcel '".concat(t.name,"'"),t.timeouts.bootstrap).then(function(){return t.status=B,t}).catch(function(n){if(t.status=Z,e)throw j(n,t);return C(n,t),t}))})}function mt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.resolve().then(function(){if(t.status!==z)return t;t.status=W;var n=Object.keys(t.parcels).map(function(e){return t.parcels[e].unmountThisParcel()});return Promise.all(n).then(r,function(n){return r().then(function(){var r=Error(n.message);if(e){var o=j(r,t);throw t.status=Z,o}C(r,t),t.status=Z})}).then(function(){return t});function r(){return ut(t.unmount(It(t)),"Unmounting application ".concat(t.name,"'"),t.timeouts.unmount).then(function(){t.status=B}).catch(function(n){if(e){var r=j(n,t);throw t.status=Z,r}C(n,t),t.status=Z})}})}var vt=!1,gt=!1;function wt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.resolve().then(function(){return t.status!==B?t:(vt||(window.dispatchEvent(new _("single-spa:before-first-mount")),vt=!0),ut(t.mount(It(t)),"Mounting application '".concat(t.name,"'"),t.timeouts.mount).then(function(){return t.status=z,gt||(window.dispatchEvent(new _("single-spa:first-mount")),gt=!0),t}).catch(function(n){return t.status=z,mt(t).then(r,r);function r(){if(e){var r=j(n,t);throw t.status=Z,r}return C(n,t),t.status=Z,t}}))})}var yt=0,bt={parcels:{}};function Et(){return _t.apply(bt,arguments)}function _t(t,e){var n=this;if(!t||"object"!==O(t)&&"function"!=typeof t)throw Error("Cannot mount parcel without a config object or config loading function");if(t.name&&"string"!=typeof t.name)throw Error("Parcel name must be a string, if provided");if("object"!==O(e))throw Error("Parcel ".concat(name," has invalid customProps -- must be an object"));if(!e.domElement)throw Error("Parcel ".concat(name," cannot be mounted without a domElement provided as a prop"));var r,o=yt++,i="function"==typeof t,a=i?t:function(){return Promise.resolve(t)},c={id:o,parcels:{},status:i?k:U,customProps:e,parentName:n.name,unmountThisParcel:function(){if(c.status!==z)throw Error("Cannot unmount parcel '".concat(name,"' -- it is in a ").concat(c.status," status"));return mt(c,!0).then(function(t){return c.parentName&&delete n.parcels[c.id],t}).then(function(t){return s(t),t}).catch(function(t){throw c.status=Z,l(t),t})}};n.parcels[o]=c;var u=a();if(!u||"function"!=typeof u.then)throw Error("When mounting a parcel, the config loading function must return a promise that resolves with the parcel config");var s,l,f=(u=u.then(function(t){if(!t)throw Error("When mounting a parcel, the config loading function returned a promise that did not resolve with a parcel config");var e=t.name||"parcel-".concat(o);if(!ft(t.bootstrap))throw Error("Parcel ".concat(e," must have a valid bootstrap function"));if(!ft(t.mount))throw Error("Parcel ".concat(e," must have a valid mount function"));if(!ft(t.unmount))throw Error("Parcel ".concat(e," must have a valid unmount function"));if(t.update&&!ft(t.update))throw Error("Parcel ".concat(e," provided an invalid update function"));var n=pt(t.bootstrap),i=pt(t.mount),a=pt(t.unmount);c.status=U,c.name=e,c.bootstrap=n,c.mount=i,c.unmount=a,c.timeouts=st(t.timeouts),t.update&&(c.update=pt(t.update),r.update=function(t){return c.customProps=t,Ot(function(t){return Promise.resolve().then(function(){if(t.status!==z)throw Error("Cannot update parcel '".concat(t.name,"' because it is not mounted"));return t.status=F,ut(t.update(It(t)),"Updating parcel '".concat(t.name,"'"),t.timeouts.mount).then(function(){return t.status=z,t}).catch(function(e){var n=j(e,t);throw t.status=Z,n})})}(c))})})).then(function(){return ht(c,!0)}),p=f.then(function(){return wt(c,!0)}),d=new Promise(function(t,e){s=t,l=e});return r={mount:function(){return Ot(Promise.resolve().then(function(){if(c.status!==B)throw Error("Cannot mount parcel '".concat(name,"' -- it is in a ").concat(c.status," status"));return n.parcels[o]=c,wt(c)}))},unmount:function(){return Ot(c.unmountThisParcel())},getStatus:function(){return c.status},loadPromise:Ot(u),bootstrapPromise:Ot(f),mountPromise:Ot(p),unmountPromise:Ot(d)}}function Ot(t){return t.then(function(){return null})}function It(t){var e=S({},t.customProps,{name:t.name,mountParcel:_t.bind(t),singleSpa:b});return t.unmountThisParcel&&(e.unmountSelf=t.unmountThisParcel),e}var Tt=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,P(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(t,A(Error)),t}();function St(t){return Promise.resolve().then(function(){return t.status!==D&&t.status!==K?t:(t.status=k,Promise.resolve().then(function(){var n=t.loadImpl(It(t));if(!dt(n))throw new Tt("single-spa loading function did not return a promise. Check the second argument to registerApplication('".concat(t.name,"', loadingFunction, activityFunction)"));return n.then(function(n){var r;return t.loadErrorTime=null,"object"!==O(e=n)&&(r="does not export anything"),ft(e.bootstrap)||(r="does not export a bootstrap function or array of functions"),ft(e.mount)||(r="does not export a mount function or array of functions"),ft(e.unmount)||(r="does not export an unmount function or array of functions"),r?(console.error("The loading function for single-spa application '".concat(t.name,"' resolved with the following, which does not have bootstrap, mount, and unmount functions"),e),C(r,t),t.status=Z,t):(e.devtools&&e.devtools.overlays&&(t.devtools.overlays=S({},t.devtools.overlays,{},e.devtools.overlays)),t.status=U,t.bootstrap=pt(e.bootstrap,"App '".concat(t.name,"' bootstrap function")),t.mount=pt(e.mount,"App '".concat(t.name,"' mount function")),t.unmount=pt(e.unmount,"App '".concat(t.name,"' unmount function")),t.unload=pt(e.unload||[],"App '".concat(t.name,"' unload function")),t.timeouts=st(e.timeouts),t)})}).catch(function(e){return C(e,t),e instanceof Tt?t.status=Z:(t.status=K,t.loadErrorTime=(new Date).getTime()),t}));var e})}var Pt={hashchange:[],popstate:[]},Rt=["hashchange","popstate"];function xt(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof t)e=t;else if(this&&this.href)e=this.href;else{if(!(t&&t.currentTarget&&t.currentTarget.href&&t.preventDefault))throw Error("singleSpaNavigate must be either called with a string url, with an <a> tag as its context, or with an event whose currentTarget is an <a> tag");e=t.currentTarget.href,t.preventDefault()}var r=kt(window.location.href),o=kt(e);if(0===e.indexOf("#"))window.location.hash="#"+o.anchor;else if(r.host!==o.host&&o.host){if(n.isTestingEnv)return{wouldHaveReloadedThePage:!0};window.location.href=e}else!function(t,e){return e===t||e==="/"+t}(o.path+"?"+o.query,r.path+"?"+r.query)?window.history.pushState(null,null,e):window.location.hash="#"+o.anchor}function At(t){var e=this;if(t){var n=t[0].type;Rt.indexOf(n)>=0&&Pt[n].forEach(function(n){n.apply(e,t)})}}function Nt(){ie([],arguments)}window.addEventListener("hashchange",Nt),window.addEventListener("popstate",Nt);var Ct=window.addEventListener,Mt=window.removeEventListener;window.addEventListener=function(t,e){if(!("function"==typeof e&&Rt.indexOf(t)>=0)||lt(Pt[t],function(t){return t===e}))return Ct.apply(this,arguments);Pt[t].push(e)},window.removeEventListener=function(t,e){if(!("function"==typeof e&&Rt.indexOf(t)>=0))return Mt.apply(this,arguments);Pt[t]=Pt[t].filter(function(t){return t!==e})};var Lt=window.history.pushState;window.history.pushState=function(t){var e=Lt.apply(this,arguments);return Nt(Dt(t)),e};var jt=window.history.replaceState;function Dt(t){try{return new PopStateEvent("popstate",{state:t})}catch(n){var e=document.createEvent("PopStateEvent");return e.initPopStateEvent("popstate",!1,!1,t),e}}function kt(t){for(var e={strictMode:!0,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=e.parser.strict.exec(t),r={},o=14;o--;)r[e.key[o]]=n[o]||"";return r[e.q.name]={},r[e.key[12]].replace(e.q.parser,function(t,n,o){n&&(r[e.q.name][n]=o)}),r}window.history.replaceState=function(t){var e=jt.apply(this,arguments);return Nt(Dt(t)),e},window.singleSpaNavigate=xt;var Ut=!1;function Gt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.jQuery;if(t||window.$&&window.$.fn&&window.$.fn.jquery&&(t=window.$),t&&!Ut){var e=t.fn.on,n=t.fn.off;t.fn.on=function(t,n){return Bt.call(this,e,window.addEventListener,t,n,arguments)},t.fn.off=function(t,e){return Bt.call(this,n,window.removeEventListener,t,e,arguments)},Ut=!0}}function Bt(t,e,n,r,o){return"string"!=typeof n?t.apply(this,o):(n.split(/\s+/).forEach(function(t){Rt.indexOf(t)>=0&&(e(t,r),n=n.replace(t,""))}),""===n.trim()?this:t.apply(this,o))}var Ht={};function zt(t){return Promise.resolve().then(function(){var e=Ht[t.name];return e?t.status===D?(Ft(t,e),t):t.status===q?e.promise.then(function(){return t}):t.status!==B?t:(t.status=q,ut(t.unload(It(t)),"Unloading application '".concat(t.name,"'"),t.timeouts.unload).then(function(){return Ft(t,e),t}).catch(function(n){return function(t,e,n){delete Ht[t.name],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,C(n,t),t.status=Z,e.reject(n)}(t,e,n),t})):t})}function Ft(t,e){delete Ht[t.name],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,t.status=D,e.resolve()}function Wt(t,e,n,r){Ht[t.name]={app:t,resolve:n,reject:r},Object.defineProperty(Ht[t.name],"promise",{get:e})}var qt=[];function Kt(){return qt.filter(X).map(nt)}function Zt(){return qt.map(nt)}function Xt(t){var e=lt(qt,function(e){return e.name===t});return e?e.status:null}function Jt(t,e,n){return console.warn('declareChildApplication is deprecated and will be removed in the next major version, use "registerApplication" instead'),Qt(t,e,n)}function Qt(t,e,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("string"!=typeof t||0===t.length)throw Error("The first argument must be a non-empty string 'appName'");if(-1!==Zt().indexOf(t))throw Error("There is already an app declared with name ".concat(t));if("object"!==O(o)||Array.isArray(o))throw Error("customProps must be an object");if(!e)throw Error("The application or loading function is required");if(r="function"!=typeof e?function(){return Promise.resolve(e)}:e,"function"!=typeof n)throw Error("The activeWhen argument must be a function");qt.push({loadErrorTime:null,name:t,loadImpl:r,activeWhen:n,status:D,parcels:{},devtools:{overlays:{options:{},selectors:[]}},customProps:o}),Gt(),ie()}function $t(t){for(var e=[],n=0;n<qt.length;n++)qt[n].activeWhen(t)&&e.push(qt[n].name);return e}function Vt(){return qt.filter(tt).filter(et).filter($).filter(V)}function Yt(t,e){return console.warn('unloadChildApplication is deprecated and will be removed in the next major version, use "unloadApplication" instead'),te(t,e)}function te(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waitForUnmount:!1};if("string"!=typeof t)throw Error("unloadApplication requires a string 'appName'");var n=lt(qt,function(e){return e.name===t});if(!n)throw Error("Could not unload application '".concat(t,"' because no such application has been registered"));var r,o=function(t){return Ht[t]}(n.name);if(e&&e.waitForUnmount){if(o)return o.promise;var i=new Promise(function(t,e){Wt(n,function(){return i},t,e)});return i}return o?(r=o.promise,ee(n,o.resolve,o.reject)):r=new Promise(function(t,e){Wt(n,function(){return r},t,e),ee(n,t,e)}),r}function ee(t,e,n){mt(t).then(zt).then(function(){e(),setTimeout(function(){ie()})}).catch(n)}var ne=!1,re=[];function oe(){return ie()}function ie(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;if(ne)return new Promise(function(t,n){re.push({resolve:t,reject:n,eventArguments:e})});ne=!0;var n=!0;return ae?Promise.resolve().then(function(){window.dispatchEvent(new _("single-spa:before-routing-event",i()));var e=Object.keys(Ht).map(function(t){return Ht[t].app}).filter(J).map(zt),a=qt.filter(tt).filter(X).filter(Y).map(mt).map(function(t){return t.then(zt)}).concat(e);a.length>0&&(n=!1);var c=Promise.all(a),u=Vt(),s=u.map(function(t){return St(t).then(ht).then(function(t){return c.then(function(){return wt(t)})})});s.length>0&&(n=!1);var l=qt.filter(tt).filter(J).filter(Q).filter(V).filter(function(t){return u.indexOf(t)<0}).map(function(t){return ht(t).then(function(){return c}).then(function(){return wt(t)})});return l.length>0&&(n=!1),c.catch(function(t){throw o(),t}).then(function(){return o(),Promise.all(s.concat(l)).catch(function(e){throw t.forEach(function(t){return t.reject(e)}),e}).then(function(){return r(!1)})})}):Promise.resolve().then(function(){var t=Vt().map(St);return t.length>0&&(n=!1),Promise.all(t).then(r).catch(function(t){throw o(),t})});function r(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=Kt();e&&o(),t.forEach(function(t){return t.resolve(r)});try{var a=n?"single-spa:no-app-change":"single-spa:app-change";window.dispatchEvent(new _(a,i())),window.dispatchEvent(new _("single-spa:routing-event",i()))}catch(t){setTimeout(function(){throw t})}if(ne=!1,re.length>0){var c=re;re=[],ie(c)}return r}function o(){t.forEach(function(t){At(t.eventArguments)}),At(e)}function i(){var t={detail:{}};return e&&e[0]&&(t.detail.originalEvent=e[0]),t}}var ae=!1;function ce(){ae=!0,ie()}setTimeout(function(){ae||console.warn("singleSpa.start() has not been called, ".concat(5e3,"ms after single-spa was loaded. Before start() is called, apps can be declared and loaded, but not bootstrapped or mounted. See https://github.com/CanopyTax/single-spa/blob/master/docs/single-spa-api.md#start"))},5e3);var ue={getRawAppData:function(){return[].concat(qt)},reroute:ie,NOT_LOADED:D,toLoadPromise:St,toBootstrapPromise:ht,unregisterApplication:function(t){if(!qt.find(function(e){return e.name===t}))throw Error("Cannot unregister application '".concat(t,"' because no such application has been registered"));return te(t).then(function(){var e=qt.findIndex(function(e){return e.name===t});qt.splice(e,1)})}};function se(t){var e="/sc.ma.log";switch(window.host){case"msite":e="/sc.ma.msite";break;case"weblite":e="/sc.ma.weblite";break;case"messenger":e="/sc.ma.messenger"}var n="ext="+encodeURIComponent(t);window.goldlog&&window.goldlog.record?window.goldlog.record(e,"CLK",n,"GET"):(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:[e,"CLK",n,"GET"]})}window&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=ue);var le,fe=["mountParcel","name","singleSpa"];function pe(t,e,n){var r=Error("==== SPA "+t+" ==== "+e);throw se("SPA_HELPER_error&appName="+(n||"noApp")+"&errorType="+t+"&errorMsg="+e),r}function de(t,e){for(var n in e)e.hasOwnProperty(n)&&-1!==fe.indexOf(n)&&pe(le.PARAMS_ERROR,"Reserved key found in params of "+t+"! '"+n+"' is a reserved key, do not use it!",t)}!function(t){t.LORD_ERROR="LORD_ERROR",t.BOOTSTRAP_ERROR="BOOTSTRAP_ERROR",t.MOUNT_ERROR="MOUNT_ERROR",t.UNMOUNT_ERROR="UNMOUNT_ERROR",t.PARAMS_ERROR="PARAMS_ERROR",t.CONFIG_ERROR="CONFIG_ERROR",t.REDIRECT_ERROR="REDIRECT_ERROR"}(le||(le={}));var he=function(t){if("string"===typeof t)return t;if(t instanceof Error)try{return JSON.stringify(t,Object.getOwnPropertyNames(t))}catch(t){return""}var e;try{e=JSON.stringify(t)}catch(t){e=""}return e},me=/^(((ht|f)tps?):)?\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/,ve=function(t){return me.test(t)};function ge(t){return new Promise(function(e,n){ve(t)||n(pe(le.LORD_ERROR,t+" is not a correct url. "));var r=document.createElement("script");r.charset="utf-8",r.async=!0,r.crossOrigin="true",r.addEventListener("error",function(){n(pe(le.LORD_ERROR,"Fail to load js file: "+t))}),r.addEventListener("load",function(){var t=window.__spaApplication__;delete window.__spaApplication__,e(t),document.head.removeChild(r)}),r.src=t,document.head.appendChild(r)})}var we={},ye={},be={},Ee=(window.IcbuIM&&window.IcbuIM.IMBaaSSDK||{}).track;function _e(t,e){var n=t.bootstrap,r=t.mount,o=t.unmount;return{bootstrap:function(t){return w(this,void 0,void 0,function(){return y(this,function(r){if("function"===typeof n)try{n(t)}catch(n){Ee&&Ee.error(le.BOOTSTRAP_ERROR,{uid:window.aliId,appName:e,props:he(t),errMsg:he(n)}),pe(le.BOOTSTRAP_ERROR,"An error happened when execute "+e+"'s 'bootstrap': "+n,e)}return[2]})})},mount:function(t){return w(this,void 0,void 0,function(){return y(this,function(n){if("function"===typeof r)try{r(t),se("SPA_HELPER_microAppLoadSuccess&appName="+e)}catch(n){Ee&&Ee.error(le.MOUNT_ERROR,{uid:window.aliId,appName:e,props:he(t),errMsg:he(n)}),pe(le.MOUNT_ERROR,"An error happened when execute "+e+"'s 'mount': "+n,e)}else pe(le.MOUNT_ERROR,"The "+e+"'s 'mount' needs to be a function, but get "+typeof r,e);return[2]})})},unmount:function(t){return w(this,void 0,void 0,function(){return y(this,function(n){if("function"===typeof o)try{o(t),se("SPA_HELPER_microAppUnloadSuccess&appName="+e)}catch(n){Ee&&Ee.error(le.UNMOUNT_ERROR,{uid:window.aliId,appName:e,props:he(t),errMsg:he(n)}),pe(le.UNMOUNT_ERROR,"An error happened when execute "+e+"'s 'unmount': "+n,e)}else pe(le.UNMOUNT_ERROR,"The "+e+"'s 'unmount' needs to be a function, but get "+typeof o,e);return[2]})})}}}function Oe(){for(var t in be)be[t].activable=!0}function Ie(t){"object"===typeof t&&null!==t||pe(le.CONFIG_ERROR,"An app config needs to be an object, but get "+(null===t?"null":typeof t));var e=t.appName,n=t.resources,r=t.customProps;r&&de(e,r),"string"!==typeof e&&pe(le.CONFIG_ERROR,"The 'appName' of an app needs to be an object, but get "+typeof e,e),Array.isArray(n)||pe(le.CONFIG_ERROR,"The 'resources' of "+e+" needs to be an Array, but get "+typeof n,e),we[e]=g({},r||{}),ye[e]=r||{},Qt(e,function(){var t=Promise.resolve(_e({bootstrap:function(){return""},mount:function(){return""},unmount:function(){return""}},e));return n.forEach(function(n){var r=n.type,o=n.url;switch("string"!==typeof r&&pe(le.CONFIG_ERROR,"The type of resource needs to be a string, but get "+typeof r+" in "+e,e),"string"!==typeof o&&pe(le.CONFIG_ERROR,"The url of resource needs to be a string, but get "+typeof o+" in "+e,e),r){case"appURL":case"js":"appURL"===r?t=ge(o).then(function(t){return _e(t,e)}):ge(o);break;case"css":!function(t){new Promise(function(e,n){ve(t)||n(pe(le.LORD_ERROR,t+" is not a correct url. "));var r=document.createElement("link");r.rel="stylesheet",r.addEventListener("error",function(){n(pe(le.LORD_ERROR,"Fail to load css file: "+t+". "))}),r.href=t,document.head.appendChild(r)})}(o);break;default:pe(le.CONFIG_ERROR,"The type of resource needs to be one of 'appURL', 'js' and 'css, but get '"+r+"' in "+e,e)}}),t},function(t){return function(e){var n=window.location.__invisibleHash__,r=Array.isArray(n)?n:[n],o=be[t];if(!o.activable)return o.active;for(var i=0;i<r.length;i++)if(r[i]){var a=be[r[i]];if(t===r[i]){o.active=!o.active;break}if(o.group===a.group){o.active=!1;break}}return o.activable=!1,o.active}}(e),we[e])}window.location.__invisibleHash__="";var Te=[].slice;function Se(){if(!(this instanceof Se))return new Se;this.nextSubscriptionIndex=0,this.callbacks={}}Se.prototype.unregisterAllCallbacks=function(){this.callbacks={}},Se.prototype.on=function(t,e){this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push({subscription:e,index:this.nextSubscriptionIndex});var n=this.nextSubscriptionIndex,r=this;return this.nextSubscriptionIndex+=1,function(){r.callbacks[t]=r.callbacks[t].filter(function(t){return t.index!==n})}},Se.prototype.publish=function(){var t=arguments[0],e=arguments.length>=2?Te.call(arguments,1):[];this.callbacks&&this.callbacks[t]&&this.callbacks[t].forEach(function(t){t.subscription.apply(null,e)})};var Pe=new Se;const Re=IcbuIM.ReactDOM16;var xe=n.n(Re);const Ae=IcbuIM.Next1.Dialog;var Ne=n.n(Ae);const Ce=IcbuIM.Next1.Button;var Me=n.n(Ce);const Le=IcbuIM["@alife/im-alitalk-util"];var je=n.n(Le),De=n("Zebr");function ke(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ke=function(){return!!t})()}var Ue=(0,window.IcbuIM.lib.I18N.createI18N)({namespace:"messenger"}),Ge=function(t){function e(){return r(this,e),function(t,e,n){return e=s(e),u(t,ke()?Reflect.construct(e,n||[],s(t).constructor):e.apply(t,n))}(this,e,arguments)}return f(e,t),c(e,[{key:"render",value:function(){return v().createElement("div",{className:"landing-page-wrapper"},v().createElement("div",{className:"landing-img"},v().createElement("img",{src:"https://img.alicdn.com/tfs/TB1E84Hwj7nBKNjSZLeXXbxCFXa-320-160.png"}),this.props.updateChrome&&v().createElement("p",{className:"tip"},v().createElement("a",{href:"https://www.google.com/chrome/",target:"_blank"},Ue.get("pwa.chrometip")))))}}])}(v().Component);const Be=IcbuIM.classnames;var He=n.n(Be);function ze(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Fe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ze(Object(n),!0).forEach(function(e){p(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var We=window.IcbuIM.CommonUtil.json2Querystring,qe=window.IcbuIM.lib.log;function Ke(t){var e=window.chat_entry_scene||{};"string"===typeof t?We(e)&&(t+="&".concat(We(e))):"object"===o(t)&&(t.bizData=Fe(Fe({},t.bizData||{}),e)),qe(t)}const Ze=IcbuIM.Next1.Icon;var Xe=n.n(Ze);function Je(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Je=function(){return!!t})()}var Qe=(0,window.IcbuIM.lib.I18N.createI18N)({namespace:"onepage.ma.pwa"}),$e=function(t){function e(t){var n;return r(this,e),n=function(t,e,n){return e=s(e),u(t,Je()?Reflect.construct(e,n||[],s(t).constructor):e.apply(t,n))}(this,e,[t]),n.addToHome=n.addToHome.bind(n),n.shouldShowAddButton=n.shouldShowAddButton.bind(n),n.state={successfullyInstalled:!1,readyToAdd:!1,acceptedInstall:!1,declinedInstall:!1,close:!1},n}return f(e,t),c(e,[{key:"componentDidMount",value:function(){var t=this;window.matchMedia("(display-mode: standalone)").matches?(Ke("usePWA"),this.setState({successfullyInstalled:!0})):(window.addEventListener("beforeinstallprompt",function(e){e.preventDefault(),window.deferredPrompt=e,t.setState({readyToAdd:!0})}),window.addEventListener("appinstalled",function(e){Ke("installPWASuc"),t.setState({successfullyInstalled:!0})}))}},{key:"addToHome",value:function(){var t=this,e=window.deferredPrompt;e&&(e.prompt(),e.userChoice.then(function(n){"accepted"===n.outcome?(Ke("installPWA"),t.setState({acceptedInstall:!0})):(Ke("declinePWA"),t.setState({declinedInstall:!0})),e=null}))}},{key:"shouldShowAddButton",value:function(){return this.state.readyToAdd&&!this.state.successfullyInstalled&&!this.state.acceptedInstall&&!this.state.declinedInstall&&!this.state.close}},{key:"render",value:function(){var t=this,e="buyer"===this.props.version?"https://img.alicdn.com/tfs/TB1uArtRSrqK1RjSZK9XXXyypXa-128-128.png":"https://img.alicdn.com/tfs/TB1tSLzb1T2gK0jSZFvXXXnFXXa-128-128.png";return v().createElement("div",{className:"pwa-addHome"},this.shouldShowAddButton()?v().createElement("div",{className:"content"},v().createElement("img",{src:e,className:"icon"}),v().createElement("div",{className:"tip"},v().createElement("div",{dangerouslySetInnerHTML:{__html:Qe.get("title")}}),v().createElement("div",{className:"sub-tip"},Qe.get("subtitle"))),v().createElement("button",{className:"add-action",onClick:this.addToHome},Qe.get("add")),v().createElement("span",{className:"close",onClick:function(){t.setState({close:!0})}},v().createElement(Xe(),{type:"close",size:"small"}))):null)}}])}(v().Component);const Ve=$e,Ye=function(t){var e=[],n=/\[\]$/,r=function(t,n){n="function"===typeof n?n():null===n||void 0===n?"":n,e[e.length]=encodeURIComponent(t)+"="+encodeURIComponent(n)},i=function(t,a){var c,u,s;if(t)if(Array.isArray(a))for(c=0,u=a.length;c<u;c++)n.test(t)?r(t,a[c]):i(t+"["+("object"===o(a[c])?c:"")+"]",a[c]);else if(a&&"[object Object]"===String(a))for(s in a)i(t+"["+s+"]",a[s]);else r(t,a);else if(a&&"object"===o(a))for(s in a)i(s,a[s]);return e};return i("",t).join("&")},tn=function(t){return t<900?Math.max(t-120,578):t<1080?780:860},en=(t={})=>{(({productId:t,pageLanguage:e,pageType:n,siteName:r,categoryId:o})=>{var i=function(t){return window.location.protocol+t},a=window.location.protocol+"//s.alicdn.com",c=i("./proxy.html?iframe_delete=true"),u=window.SEMR={_postData:{},_bindEvent:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},_initIframeProxy:function(){var t=document,e=t.body||t.documentElement,n="sem-remarketing",r=n,o=t.getElementById(n);o&&o.nodeType||((o=t.createElement("iframe")).id=n,o.name=r,o.style.display="none",o.style.visibility="hidden",o.src=c,e.appendChild(o))},_isEmptyObject:function(t){for(var e in t)return!1;return!0},_isP4P:function(){return/s=p/.test(location.href)},_isWap:function(){return/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)},_log:function(t){window.console&&window.console.log&&window.console.log(t),u._sendDomdot("26131","error="+t)},_send:function(){var e=window.SEM_REMARKETING_CONFIG||{},n=window.SEM_REMARKETING_DATA||{};if(u._isEmptyObject(n))return!1;window.SEM_REMARKETING_CONFIG=e,n.isP4P=u._isP4P(),n.pageDevice=u._isWap()?"Mobile":"PC",n.categoryId=o,n.productId=t,n.pageCate&&(n.pageCate=n.pageCate.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'")),n.pageName&&(n.pageName=n.pageName.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'"));var r={timeout:2e4,url:"//offer.alibaba.com/product/fetchSiteTag.jsonp",callback:"callback",data:{siteName:n.siteName||"",pageFrom:n.pageType||"",pageInfo:JSON.stringify(n),language:n.pageLanguage||""},success:function(t){if(!t||!t.success||!t.result)return!1;var e=[].concat(t.result);e.length>0&&(u._postData=e,u._initIframeProxy(),u._sendDomdot("26131","success"))},fail:function(t){u._log("SEMRSE-01-02")}};u._sendJsonp(r),u._sendDomdot("26131","initialization")},_sendByIframeProxy:function(t){if(t.origin!=a)return!1;var e,n,r=t.data;if("string"!==typeof r)return!1;var o=[];try{"function"===typeof r.split?o=r.split(":"):"function"===typeof String.prototype.split&&(o=String.prototype.split.call(r,":")),"[object Array]"===Object.prototype.toString.call(o)&&(e=o[0],n=o[1]||"")}catch(t){console.error("sem-remarketing _sendByIframeProxy error:",t),window._WPO&&window._WPO.error("sem-remarketing _sendByIframeProxy error",r)}if("ready"==e){var i=JSON.stringify(u._postData);t.source&&t.source.postMessage&&t.source.postMessage(i,a)}else"error"==e?u._log(n):"complete"==e&&u._sendDomdot("26254",n)},_sendDomdot:function(t,e){var n={ext:"event="+(window.SEM_REMARKETING_DATA&&window.SEM_REMARKETING_DATA.pageType)+"|"+e,mn:"sem"};window.dmtrack&&window.dmtrack.dotstat&&window.dmtrack_pageid&&t&&window.dmtrack.dotstat(t,n)},_sendJsonp:function(t){if(!(t=t||{}).url||!t.callback)throw new Error("params error!");var e=t.data[t.callback]="jsonp_"+1*new Date+Math.ceil(1e5*Math.random()),n=u._toQueryString(t.data,"&"),r=document.createElement("script"),o=document.getElementsByTagName("head")[0];o.appendChild(r),window[e]=function(n){o.removeChild(r),clearTimeout(r.timer),window[e]=function(){},t.success&&t.success(n)},r.src=t.url+"?"+n,t.timeout&&(r.timer=setTimeout(function(){window[e]=function(){},o.removeChild(r),t.fail&&t.fail({message:"overtime"})},t.timeout))},_toQueryString:function(t,e){var n,r,o=[];if(!t)return"";for(n in t)r=t[n]||"",o.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return o.join(e||"&")}},s=window.SEM_REMARKETING_CONFIG||{};s.runtime="async",window.SEM_REMARKETING_CONFIG=s;var l=window.SEM_REMARKETING_DATA||{};l.productId=t,l.pageLanguage=e,l.pageType=n,l.siteName=r,l.categoryId=o,window.SEM_REMARKETING_DATA=l;try{window.postMessage?(u._bindEvent(window,"message",u._sendByIframeProxy),"async"==(window.SEM_REMARKETING_CONFIG||{}).runtime?u._send():function(t,e){var n=!1,r=!0,o=t.document,i=o.documentElement,a=o.addEventListener,c=a?"addEventListener":"attachEvent",u=a?"removeEventListener":"detachEvent",s=a?"":"on",l=function(r){"readystatechange"==r.type&&"complete"!=o.readyState||(("load"==r.type?t:o)[u](s+r.type,l,!1),!n&&(n=!0)&&e.call(t,r.type||r))},f=function(){try{i.doScroll("left")}catch(t){return void setTimeout(f,50)}l("poll")};if("complete"==o.readyState)e.call(t,"lazy");else{if(!a&&i.doScroll){try{r=!t.frameElement}catch(t){}r&&f()}o[c](s+"DOMContentLoaded",l,!1),o[c](s+"readystatechange",l,!1),t[c](s+"load",l,!1)}}(window,u._send.bind(u))):u._log("SEMRSE-01-01")}catch(t){u._log("SEMRSE-01-00")}})(t)};var nn,rn=n("ACim"),on=(0,rn.Q)("onetalk.alibaba.com"),an=(0,rn.Q)("login.alibaba.com"),cn=["sceneData","action","source","bizId","chatToken"];function un(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?un(Object(n),!0).forEach(function(e){p(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ln(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ln=function(){return!!t})()}var fn=function(t){Array.isArray(t)||pe(le.CONFIG_ERROR,"The configs of apps need to be an Array, but get "+typeof t);for(var e=0;e<t.length;e++){var n=t[e];if(Array.isArray(n))for(var r=0;r<n.length;r++){var o=n[r];be[o.appName]={group:e,active:!1},Ie(o)}else be[n.appName]={group:e,active:!1},Ie(n)}ce(),M(function(t){var e=t.message.indexOf("==== SPA");t.message=t.message.slice(e),setTimeout(function(){throw t})})},pn=function(t){"object"===typeof t&&null!==t||pe(le.REDIRECT_ERROR,"A redirect option needs to be an object, but get "+(null===t?"null":typeof t));var e=t.appName,n=t.params,r=t.blank;n&&de(e,n);var o=typeof n;"object"!==o&&"undefined"!==o&&pe(le.CONFIG_ERROR,"The 'params' of redirect option needs to be a object, but get "+o,e);var i=typeof r;"boolean"!==i&&"undefined"!==i&&pe(le.CONFIG_ERROR,"The 'blankType' of redirect option needs to be a boolean, but get "+i,e),(Array.isArray(e)?e:[e]).forEach(function(t){if("string"!==typeof t&&pe(le.REDIRECT_ERROR,"The 'appName' of redirect option needs to be a string, but get "+typeof t,t),t){var e=g(g({},ye[t]),n||{});for(var r in we[t])r in e||delete we[t][r];we[t]&&Object.assign(we[t],e)}}),Array.isArray(e)||window.location.__invisibleHash__!==e&&!be[e].active||(be[e].active&&(window.location.__invisibleHash__=e),Oe(),history.replaceState({},"",window.location.href)),setTimeout(function(){window.location.__invisibleHash__=e,Oe(),history[r?"pushState":"replaceState"]({},"",window.location.href)},0)},dn=function(){return window.location.__invisibleHash__},hn=function(t,e){var n={};t.forEach(function(t){var e=t.basename,r=t.appResource,o=new RegExp("/\\d+.\\d+.\\d+/index.js"),i=new RegExp("/\\d+.\\d+.\\d+/index.css"),a=[];n[e]={appName:e,resources:[]},a=Array.isArray(r)?function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r}(r):r.scripts.concat(r.styles),a.forEach(function(t){o.test(t)?n[e].resources.push({type:"appURL",url:t}):i.test(t)&&n[e].resources.push({type:"css",url:t})})});var r=[];if(e)e.forEach(function(t){if(Array.isArray(t)){var e=[];t.forEach(function(t){e.push(n[t])}),r.push(e)}else r.push(n[t])});else for(var o in n)n.hasOwnProperty(o)&&r.push(n[o]);return r},mn=function(){var t=[];for(var e in be)be[e].active&&t.push(e);return t};window.EventBus=window.EventBus||Pe;var vn=window.EventBus,gn=(0,window.IcbuIM.lib.I18N.createI18N)({namespace:"messenger.pwa"}),wn=(window.IcbuIM.IMBaaSSDK.default,window.IcbuIM.UserUtil.getLoginId,null===(nn=window.__APLUS_ABRATE__)||void 0===nn?void 0:nn.im_weblite_ui_update),yn={expand:[294,578],fold:[210,44],"expand-notification":[210,154],"fold-notification":[210,44]},bn="exp1"===wn?550:"exp2"===wn?720:476,En=function(t){function n(t){var o;return r(this,n),o=function(t,e,n){return e=s(e),u(t,ln()?Reflect.construct(e,n||[],s(t).constructor):e.apply(t,n))}(this,n,[t]),p(o,"handlePostMessage",function(){var t=e(h().mark(function t(e){var n,r;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.type,r=n,t.next="weblite:inquiryFormClosed"===r?1:"nav2InquirySuc"===r?2:"weblite:open"===r?3:"weblite:parentSizeChange"===r?4:5;break;case 1:return o.afterInquiryClosed(),t.abrupt("continue",6);case 2:return o.afterInquirySent(e),t.abrupt("continue",6);case 3:return o.openWeblite(e),t.abrupt("continue",6);case 4:return o.handleParentSizeChange(e),t.abrupt("continue",6);case 5:return o.handleChatNow(e),t.abrupt("continue",6);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),p(o,"handleParentSizeChange",function(t){var e=t.width,n=t.height,r=tn(n);"exp2"===wn&&(bn=e>1280?720:550),o.setState({CHAT_EXPAND_HEIGHT:r,CHAT_EXPAND_WIDTH:bn+294,LIST_SIZE:sn(sn({},yn),{},{expand:[yn.expand[0],r]})}),setTimeout(function(){o.notifyIframe()},100)}),p(o,"openWeblite",function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},e=t.chatToken,n=void 0===e?"":e,r=t.aliId,o=t.aliIdEncrypt,i=t.fromPage,a=void 0===i?"":i;vn.publish("im-weblite-list:selectContact",{chatToken:n,aliId:r,aliIdEncrypt:o,fromPage:a})}),p(o,"handleChatNow",function(t){var e=t.type,n=t.extraParam;if(!/^weblite:/g.test(e))return!1;var r=t.webliteConfig,i=void 0===r?{}:r,a=t.shouldLogin,c=void 0!==a&&a;console.log("===Receive Post Message",JSON.parse(JSON.stringify(t)));var u=i.activeLoginIdEncrypt,s=i.productId,l=i.lazyInit,f=i.attrs,p=void 0===f?{}:f,d=p.uid,h=void 0===d?"":d,m=p.pid,v=void 0===m?"":m,g=p.scene,w=void 0===g?{}:g,y=p.source,b=void 0===y?"":y,E=p.disabled,_=void 0!==E&&E,O=w.pageId,I=void 0===O?"":O,T=w.refer,S=void 0===T?"":T,P=w.fromPage,R=void 0===P?"":P;if(p.source=b||R||"",p.sceneType=p.sceneType||p.scenetype||R||"",p.bizType=p.bizType||p.biztype||"",p.bizId=p.bizId||p.bizid||"",null!==n&&void 0!==n&&n.sceneData&&(p.sceneData=Object.assign({},p.sceneData||{},null===n||void 0===n?void 0:n.sceneData)),i.activeLoginIdEncrypt=u||h,i.productId=s||v,i.lazyInit=l||_,i.sceneType=p.sceneType,i.pageId=I,i.msgSendList=null===n||void 0===n?void 0:n.msgSendList,window.pageId=I,je().pageId=je().pageId||I,je().refer=je().refer||S,o.webliteConfig=i,c||o.shouldLogin(e))return window.location.reload(),void window.parent.postMessage(JSON.stringify({type:"IFRAME_RELOAD",data:t.webliteConfig}),"*");"weblite:selectContact"===e&&(w.fromButton=w.bizType||"",w.refer=w.refer||document.referrer,window.chat_entry_scene=w||{},Ke("weblite_post_message_received&type=".concat(t.type)),o.assignContact())}),p(o,"assignContact",e(h().mark(function t(){var e,n,r,i;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Date.now(),n={clickTimestamp:e||Date.now(),chatLoaded:!!window.__imWebliteChat__loaded__},t.prev=1,r=Date.now(),t.next=2,o.contactAutoAssign();case 2:1*(i=t.sent).code===200?(o.assignLoginIdEncrypt=i.data.receiverLoginIdEncrypt,n.encryptId=o.assignLoginIdEncrypt,n.accountId=i.data.receiverAccountId,n.chatToken=i.data.chatToken,n.traceId=i.data.distributeId,n.isTimeout=0):n.isTimeout=1,n.costTime=Date.now()-r,r=null,t.next=4;break;case 3:t.prev=3,t.catch(1);case 4:o.selectContact(n);case 5:case"end":return t.stop()}},t,null,[[1,3]])}))),p(o,"shouldLogin",function(t){var e=!1;if("weblite:reload"===t&&(e=!0),"weblite:selectContact"===t){var n=_n();n&&n!==o.isLogin&&(o.isLogin=n,e=n)}return e}),p(o,"microAppDidMount",function(){var t=window.SPA_MODULES,e={};window.webliteMicroConfig?(window.SPA_MODULES={list:"list",chat:"chat",conversationList:"conversationList"},t=window.SPA_MODULES,e=hn(window.webliteMicroConfig,[t.list,t.chat,t.conversationList])):e=window.SPA_MODULES_CONFIG,fn(e.map(function(e){return e.appName===t.chat?(e.customProps={EventBus:vn,redirectTo:pn,getCurrentHash:dn,SPA_MODULES:t,getCurrentAppNames:mn,toolbar:["emotion","image","attachment"],host:"weblite",selector:"#icbu-weblite-chat"},o.props.isPWA&&(e.customProps.host="pwa")):e.appName!==t.list&&e.appName!==t.conversationList||(e.customProps={EventBus:vn,redirectTo:pn,getCurrentHash:dn,getCurrentAppNames:mn,host:"weblite",selector:"#icbu-weblite-list"}),e}))}),p(o,"loadInitialMicroApp",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=window.SPA_MODULES,n=o.webliteConfig.params,r=void 0===n?{}:n;r.isPWA=On(),t.forEach(function(t){var n=e[t],o=sn(sn({},r),r.attrs);"chat"===t&&Object.assign(o,{extraInfo:{showDefaultPage:!0}}),pn({appName:n,hash:n,params:o})})}),p(o,"contactAutoAssign",function(){var t=o.webliteConfig,e=t.attrs,n=void 0===e?{}:e,r=t.activeLoginIdEncrypt,i=void 0===r?"":r,a=n.bizType,c=n.bizId,u=n.chatToken;return new Promise(function(t,e){if(Ke({ext:"weblite_distributeChat",bizData:sn(sn({},n),{},{activeLoginIdEncrypt:i})}),i&&a&&c){var r={contactLoginIdEncrypt:i,bizType:a,bizId:c,chatToken:u},s="https://".concat(on,"/csrf/getToken.htm");fetch(s,{cache:"no-cache",method:"POST",mode:"cors",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},credentials:"include"}).then(function(t){return t.json()}).then(function(n){return Ke({ext:"weblite_distributeChat_getToken_succeed",bizData:sn(sn({},n),r)}),o.fetchAssignedContact(r,n.token,t,e)}).catch(function(n){Ke({ext:"weblite_distributeChat_getToken_failed",bizData:sn(sn({},r),{},{err:n})}),o.fetchAssignedContact(r,"",t,e)})}else Ke({ext:"weblite_distributeChat_stop",bizData:sn(sn({},n),{},{activeLoginIdEncrypt:i})}),t({})})}),p(o,"fetchAssignedContact",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;Ke({ext:"weblite_distributeChat_start",bizData:sn(sn({},t),{},{token:e})});var o="https://".concat(on,"/message/distributeChat.htm");return fetch(o,{cache:"no-cache",method:"POST",mode:"cors",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},credentials:"include",body:Ye({params:JSON.stringify(t),_csrf:e})}).then(function(t){return t.json()}).then(function(t){Ke({ext:"weblite_distributeChat_succeed",bizData:sn(sn({},t),{},{token:e})}),n(t)}).catch(function(e){Ke({ext:"weblite_distributeChat_failed",bizData:sn(sn({},t),{},{err:e})}),r(e)})}),p(o,"resizeChat",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"closechat";if("maxchat"===t&&o.listMeetingPush){var e=Object.assign({},o.listMeetingPush);setTimeout(function(){vn.publish("im-weblite-chat:meetingPush",e)},1e3),o.listMeetingPush=null}o.chatStatus!==t&&(o.chatStatus=t,o.notifyIframe()),"closechat"===t&&Ke("weblite_closeChat")}),p(o,"resizeList",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fold";if(t!==o.listStatus){var e;switch(o.listStatus=t,t){case"expand":o.chatStatus="maxchat",e=o.state.LIST_SIZE[t][0],o._list.classList.add("icbu-weblite-list-expand");break;case"fold":o.chatStatus="closechat",e=o.state.LIST_SIZE[t][0],On()&&(e=o.state.LIST_SIZE.expand[0]),o._list.classList.remove("icbu-weblite-list-expand")}e&&(o._list.style.width="".concat(e,"px"),o._list.style.height="".concat(o.state.LIST_SIZE[t][1],"px")),o.notifyIframe()}var n="expand"===t?"openatm":"webclick",r={fromuid:"enaliint"+je().getLoginId(),from:1,time:+new Date,version:"new",id:o.webliteConfig.productId,refer:je().refer?je().refer.replace(/&/gi,"$"):""};je().dmtrackLog(n,r)}),p(o,"handleWindowResize",function(t){var e,n,r;r=t.type,"show"===t.type?(e="100vw",n="100vh"):(e=o.state.CHAT_EXPAND_WIDTH,n=o.state.CHAT_EXPAND_HEIGHT),window.parent.postMessage(JSON.stringify({type:"meetingChange",width:e,height:n,showType:r}),"*")}),p(o,"afterInquiryClosed",function(){vn.publish("im-weblite-chat:closeInquiry");var t=localStorage.getItem("InquirySuccessTime");(!t||Date.now()-t>=864e5)&&Ke("productDetail_showInquiryFailed")}),p(o,"afterInquirySent",function(t){var e=localStorage.getItem("InquirySuccessTime");(!e||Date.now()-e>=864e5)&&(Ke("productDetail_showInquirySucceed"),localStorage.setItem("InquirySuccessTime",Date.now()))}),p(o,"reportSEMLog",function(t){en({productId:t?o.webliteConfig.productId:"",pageType:"atm",siteName:"atm"})}),o.listStatus="fold",o.chatStatus="closechat",o.assignLoginIdEncrypt="",o.webliteConfig={},o.state={CHAT_EXPAND_WIDTH:bn+294,CHAT_EXPAND_HEIGHT:578,LIST_SIZE:sn({},yn)},o}return f(n,t),c(n,[{key:"componentDidMount",value:function(){var t,e=this;window.host="weblite",Ke("visit&site=weblite"),this.isLogin=_n(),this.microAppDidMount(),this.loadInitialMicroApp(De.fw?["conversationList"]:["conversationList","chat"]),this.notifyIframe(),this.heartbeat(),(t=window.messengerAssets||[])&&t.forEach(function(t){var e=document.createElement("link");e.href=t,e.rel="prefetch",document.body.appendChild(e)}),vn.on("im-weblite-chat:closeChat",function(){e.resizeChat("closechat")}),vn.on("im-weblite-chat:maximizeChat",function(){e.resizeChat("maxchat")}),vn.on("im-weblite-list:changeListStatus",function(t){e.resizeList(t.status)}),vn.on("im-weblite-chat:sendMessage",function(t){var n=e.webliteConfig,r=n.activeLoginIdEncrypt,o=void 0===r?"":r,i=n.sceneType,a=void 0===i?"":i,c=t.userInfo&&t.userInfo.toLoginIdEncrypt,u=c===o||c===e.assignLoginIdEncrypt;je().logMsg({toId:t.userInfo&&t.userInfo.toLoginId,productId:t.userInfo&&t.userInfo.productId,opId:t.opId,sceneType:u?a:""}),t.marketData&&je().logMarket(t.userInfo,t.marketData),e.reportSEMLog(u)}),vn.on("weblite:notLogin",function(){window.parent.postMessage(JSON.stringify({type:"LOGIN"}),"*")}),vn.on("im-weblite-list:selectedItem",function(){e.props.isPWA&&(e._landing.classList.add("landing-page-miss"),e._chat.classList.add("icbu-weblite-chat-show"))}),vn.on("weblite:windowResize",function(t){e.handleWindowResize(t)}),vn.on("im-weblite-chat:meetingChange",function(t){var n,r,o;t.ignore||(o=t.type,"show"===t.type?(n="100vw",r="100vh",e.meetingShow=!0):(n=e.state.LIST_SIZE.fold[0],r=e.state.LIST_SIZE.fold[1],e._list.style.width="".concat(e.state.LIST_SIZE.fold[0],"px"),e._list.style.height="".concat(e.state.LIST_SIZE.fold[1],"px"),vn.publish("im-weblite-list:toggleList",{show:!1})),window.parent.postMessage(JSON.stringify({type:"meetingChange",width:n,height:r,showType:o}),"*"))}),vn.on("im-weblite-list:meetingPush",function(t){vn.publish("im-weblite-list:selectContact",{activeLoginIdEncrypt:t.contactLoginIdEncrypt}),e.listMeetingPush=t}),window.addEventListener("message",function(t){var n;try{var r;if(!(n=JSON.parse(t.data)))return!1;if(null!==(r=n.webliteConfig)&&void 0!==r&&r.msgSendList){var o,i=Object.assign(n,{extraParam:{msgSendList:null===(o=n.webliteConfig)||void 0===o?void 0:o.msgSendList}});e.handlePostMessage(i)}else e.handlePostMessage(n)}catch(t){}},!1)}},{key:"notifyIframe",value:function(){if(this.meetingShow)return!1;var t,e;"maxchat"===this.chatStatus?(t=this.state.CHAT_EXPAND_WIDTH,e=this.state.CHAT_EXPAND_HEIGHT):"closechat"===this.chatStatus&&(t=this.state.LIST_SIZE[this.listStatus][0],e=this.state.LIST_SIZE[this.listStatus][1]),t&&e&&window.parent.postMessage(JSON.stringify({type:"CHANGE_SIZE",width:t,height:e}),"*")}},{key:"heartbeat",value:function(){var t=null;(t=document.createElement("script")).type="text/javascript",document.head.appendChild(t),setInterval(function(){t.src="//".concat(an,"/xlogin/relay.htm?_=").concat(Date.now())},3e5)}},{key:"selectContact",value:function(t){var e=t.encryptId,n=t.accountId,r=t.clickTimestamp,o=t.chatLoaded,i=t.chatToken,a=t.traceId,c=t.isTimeout,u=t.costTime,s=this.webliteConfig,l=s.attrs,f=void 0===l?{}:l,p=s.productId,d=void 0===p?"":p,h=s.activeLoginIdEncrypt,m=void 0===h?"":h,v=s.msgSendList,g=f.sceneData,w=f.action,y=f.source,b=f.bizId,E=void 0===b?"":b,_=f.chatToken,O=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(f,cn),I=i||_,T={traceId:a,distributeResult:null===f||void 0===f?void 0:f.bizType,sender:"",receiver:n,productId:d,companyId:"store"===y?E:"",distributeOrigin:y,isTimeout:null!==c&&void 0!==c?c:0,costTime:u,isConversationExist:0,activeLoginIdEncrypt:e||m};Ke("weblite_selectContact&action=".concat(w||"","&source=").concat(y||"")),vn.publish("im-weblite-list:selectContact",sn({productId:d,activeLoginIdEncrypt:e||m,accountId:n,sceneData:g,action:w,source:y,sourceId:E,clickTimestamp:r,chatLoaded:o,chatToken:I,distributeTrackParam:T,msgSendList:v},O))}},{key:"render",value:function(){var t=this,e=He()({"landing-page":!0}),n=He()({"icbu-weblite-chat":!0});return v().createElement("div",{className:"icbu-weblite ".concat(/from=buyeragent/gi.test(location.href)?"buyer-agent":""),id:"icbu-weblite"},v().createElement("div",{id:"icbu-weblite-list",className:"icbu-weblite-list",style:{width:this.props.isPWA?"".concat(this.state.LIST_SIZE.expand[0],"px"):"".concat(this.state.LIST_SIZE.fold[0],"px"),height:"expand"===this.listStatus?"".concat(this.state.LIST_SIZE.expand[1],"px"):"".concat(this.state.LIST_SIZE.fold[1],"px")},ref:function(e){return t._list=e}}),v().createElement("div",{id:"icbu-weblite-chat",className:n,ref:function(e){return t._chat=e},style:{width:"".concat(bn,"px"),height:this.state.CHAT_EXPAND_HEIGHT}}),this.props.isPWA&&v().createElement("div",{className:e,ref:function(e){return t._landing=e}},v().createElement(Ge,{updateChrome:this.props.updateChrome})),this.props.isPWA&&!this.props.isMigrate&&!this.props.updateChrome&&v().createElement(Ve,{version:"supplier"}))}}])}(v().Component);function _n(){var t=je().getCookie("xman_us_t")||"";return/sign=y/g.test(t)}function On(){return-1!=location.href.indexOf("weblitePWA")||-1!=location.href.indexOf("webATM")}function In(){return-1!==location.href.indexOf("enemberId")}function Tn(){return-1!=location.href.indexOf("weblitePWA")&&(t=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),(e=!!t&&parseInt(t[2],10))&&e<76);var t,e}xe().render(v().createElement(En,{isPWA:On(),updateChrome:Tn(),isMigrate:In()}),document.getElementById("app")),On()&&window.addEventListener("load",function(){!function(){var t={webliteConfig:{activeLoginIdEncrypt:"",productId:"",sceneType:"pwa"},type:"weblite:init",refer:location.href,pageId:window.dmtrack_pageid||""};if(In()){var e={},n={};location.search.substr(1).split("&").forEach(function(t){e[t.split("=")[0]]=decodeURIComponent(t.split("=")[1])}),n.activeLoginIdEncrypt=e.enemberId,n.productId=e.pid,n.sceneType=e.sceneType,n.lazyInit=!0,t.webliteConfig=n,t.type="weblite:selectContact"}if(Tn())var r=Ne().alert({needWrapper:!1,content:gn.get("detectChrome"),title:gn.get("detectChromeTitle"),footer:v().createElement(Me(),{type:"primary",onClick:function(){return r.hide()}},"OK")});window.postMessage(JSON.stringify(t),"".concat(location.protocol,"//").concat(location.host))}()})})()})();