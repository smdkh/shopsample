(()=>{(()=>{var M={39:t=>{"use strict";t.exports=React},171:t=>{"use strict";t.exports=ReactDOM},811:function(t,s){var c,r,i;(function(u,o){if(1)r=[s,t],c=o,i=typeof c=="function"?c.apply(s,r):c,i!==void 0&&(t.exports=i);else var m})(this,function(u,o){"use strict";var m={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function d(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function a(g){try{delete window[g]}catch{window[g]=void 0}}function p(g){var f=document.getElementById(g);f&&document.getElementsByTagName("head")[0].removeChild(f)}function h(g){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],v=g,w=f.timeout||m.timeout,F=f.jsonpCallback||m.jsonpCallback,P=void 0;return new Promise(function(D,R){var y=f.jsonpCallbackFunction||d(),C=F+"_"+y;window[y]=function(x){D({ok:!0,json:function(){return Promise.resolve(x)}}),P&&clearTimeout(P),p(C),a(y)},v+=v.indexOf("?")===-1?"?":"&";var S=document.createElement("script");S.setAttribute("src",""+v+F+"="+y),f.charset&&S.setAttribute("charset",f.charset),f.nonce&&S.setAttribute("nonce",f.nonce),f.referrerPolicy&&S.setAttribute("referrerPolicy",f.referrerPolicy),f.crossorigin&&S.setAttribute("crossorigin","true"),S.id=C,document.getElementsByTagName("head")[0].appendChild(S),P=setTimeout(function(){R(new Error("JSONP request to "+g+" timed out")),a(y),p(C),window[y]=function(){a(y)}},w),S.onerror=function(){R(new Error("JSONP request to "+g+" failed")),a(y),p(C),P&&clearTimeout(P)}})}o.exports=h})}},$={};function e(t){var s=$[t];if(s!==void 0)return s.exports;var c=$[t]={exports:{}};return M[t].call(c.exports,c,c.exports,e),c.exports}e.m=M,e.n=t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},e.d=(t,s)=>{for(var c in s)e.o(s,c)&&!e.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:s[c]})},e.f={},e.e=t=>Promise.all(Object.keys(e.f).reduce((s,c)=>(e.f[c](t,s),s),[])),e.u=t=>""+{118:"marketingCodeAtmosphere",131:"marketingWapAtmosphere",338:"marketingPcAtmosphere",351:"marketingWapSavingBoosterAtmosphere",392:"marketingWapCodeAtmosphere",547:"marketingWapAtmosphereFloor",560:"marketingPcSavingBoosterAtmosphere",679:"marketingPcIncentiveSgAtmosphere",768:"marketingPcAtmosphereFloor",856:"marketingWapIncentiveSgAtmosphere",982:"marketingPcFirstOrderPopup"}[t]+".js",e.miniCssF=t=>""+{118:"marketingCodeAtmosphere",131:"marketingWapAtmosphere",338:"marketingPcAtmosphere",351:"marketingWapSavingBoosterAtmosphere",392:"marketingWapCodeAtmosphere",547:"marketingWapAtmosphereFloor",560:"marketingPcSavingBoosterAtmosphere",679:"marketingPcIncentiveSgAtmosphere",768:"marketingPcAtmosphereFloor",856:"marketingWapIncentiveSgAtmosphere",982:"marketingPcFirstOrderPopup"}[t]+".chunk.css",e.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),e.o=(t,s)=>Object.prototype.hasOwnProperty.call(t,s),(()=>{var t={},s="marketing-render-sdk:";e.l=(c,r,i,u)=>{if(t[c]){t[c].push(r);return}var o,m;if(i!==void 0)for(var d=document.getElementsByTagName("script"),a=0;a<d.length;a++){var p=d[a];if(p.getAttribute("src")==c||p.getAttribute("data-webpack")==s+i){o=p;break}}o||(m=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,e.nc&&o.setAttribute("nonce",e.nc),o.setAttribute("data-webpack",s+i),o.src=c),t[c]=[r];var h=(f,v)=>{o.onerror=o.onload=null,clearTimeout(g);var w=t[c];if(delete t[c],o.parentNode&&o.parentNode.removeChild(o),w&&w.forEach(F=>F(v)),f)return f(v)},g=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),m&&document.head.appendChild(o)}})(),e.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var s=e.g.document;if(!t&&s&&(s.currentScript&&s.currentScript.tagName.toUpperCase()==="SCRIPT"&&(t=s.currentScript.src),!t)){var c=s.getElementsByTagName("script");if(c.length)for(var r=c.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=c[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),(()=>{if(!(typeof document>"u")){var t=(i,u,o,m,d)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",e.nc&&(a.nonce=e.nc);var p=h=>{if(a.onerror=a.onload=null,h.type==="load")m();else{var g=h&&h.type,f=h&&h.target&&h.target.href||u,v=new Error("Loading CSS chunk "+i+` failed.
(`+g+": "+f+")");v.name="ChunkLoadError",v.code="CSS_CHUNK_LOAD_FAILED",v.type=g,v.request=f,a.parentNode&&a.parentNode.removeChild(a),d(v)}};return a.onerror=a.onload=p,a.href=u,o?o.parentNode.insertBefore(a,o.nextSibling):document.head.appendChild(a),a},s=(i,u)=>{for(var o=document.getElementsByTagName("link"),m=0;m<o.length;m++){var d=o[m],a=d.getAttribute("data-href")||d.getAttribute("href");if(d.rel==="stylesheet"&&(a===i||a===u))return d}for(var p=document.getElementsByTagName("style"),m=0;m<p.length;m++){var d=p[m],a=d.getAttribute("data-href");if(a===i||a===u)return d}},c=i=>new Promise((u,o)=>{var m=e.miniCssF(i),d=e.p+m;if(s(m,d))return u();t(i,d,null,u,o)}),r={375:0};e.f.miniCss=(i,u)=>{var o={118:1,131:1,338:1,351:1,392:1,547:1,560:1,679:1,768:1,856:1,982:1};r[i]?u.push(r[i]):r[i]!==0&&o[i]&&u.push(r[i]=c(i).then(()=>{r[i]=0},m=>{throw delete r[i],m}))}}})(),(()=>{var t={375:0};e.f.j=(r,i)=>{var u=e.o(t,r)?t[r]:void 0;if(u!==0)if(u)i.push(u[2]);else{var o=new Promise((p,h)=>u=t[r]=[p,h]);i.push(u[2]=o);var m=e.p+e.u(r),d=new Error,a=p=>{if(e.o(t,r)&&(u=t[r],u!==0&&(t[r]=void 0),u)){var h=p&&(p.type==="load"?"missing":p.type),g=p&&p.target&&p.target.src;d.message="Loading chunk "+r+` failed.
(`+h+": "+g+")",d.name="ChunkLoadError",d.type=h,d.request=g,u[1](d)}};e.l(m,a,"chunk-"+r,r)}};var s=(r,i)=>{var[u,o,m]=i,d,a,p=0;if(u.some(g=>t[g]!==0)){for(d in o)e.o(o,d)&&(e.m[d]=o[d]);if(m)var h=m(e)}for(r&&r(i);p<u.length;p++)a=u[p],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0},c=self.webpackChunkmarketing_render_sdk=self.webpackChunkmarketing_render_sdk||[];c.forEach(s.bind(null,0)),c.push=s.bind(null,c.push.bind(c))})();var z={};(()=>{"use strict";const t=/^(https?:)?\/\/(.+)\/sc\/(.*)icbu-marketing\/([\d.]+)\/render\.js$/;function s(){if(document.currentScript)return document.currentScript.src.match(t);{const n=document.querySelectorAll("script[src]");for(let l=n.length-1;l>=0;l--){const b=n[l].src.match(t);if(b)return b}}}function c(){const n=s();return n?`https://${n[2]}/sc/icbu-marketing/${n[4]}/`:"/build/"}try{e.p=c(),window.__ug_incentive_public_path__=c()}catch(n){console.error(n)}var r=e(39),i=e.n(r),u=e(171),o=e(811),m=e.n(o);const d=()=>{const n=window.location.host.match(/(.*?).alibaba\.(.*?)$/);return n&&n.length>=3?n[2]:"com"};function a(){return fetch("//s.alicdn.com/@xconfig/icbu_marketing/popup/whitemap").then(n=>n.json())}function p({sceneCode:n,timeZone:l,bizData:b={}}){return m()(`//ug.alibaba.${d()}/api/ags/incentive/getCreativeIncentive.json?sceneCode=${n}&timeZone=${l}&bizData=${JSON.stringify(b)}`).then(_=>_.json()).then(_=>(console.log("\u5F02\u6B65\u6E32\u67D3\u8425\u9500\u6C1B\u56F4\u6570\u636E-",_),_))}function h(n,l){return new Promise((b,_)=>{const k=document.createElement("script");k.src=n,l?k.defer=!0:k.async=!0,k.onload=()=>{b()},k.onerror=()=>{_(new Error(`loadJsError:${n}`))},document.head.appendChild(k)})}function g(){const n="1.0.11";return fetch("//s.alicdn.com/@xconfig/icbu_marketing/popup/render_version").then(l=>l.json()).then(({renderVersion:l=n})=>l).catch(()=>n)}function f(){const n=document?.querySelector('meta[name="data-spm"]')?.getAttribute("content")||"a2706",l=document?.body?.dataset?.spm;return`${n}.${l}`}function v(){if(document.currentScript&&"src"in document.currentScript)return document.currentScript.src;const n=document.querySelectorAll("script[src]");for(let l=n.length-1;l>=0;l--){const _=n[l].src;if(_&&_.includes("icbu-marketing"))return _}return""}function w(n){return n.includes("/build/")||n.includes("localhost")||n.includes("127.0.0.1")||!n.includes("alicdn.com")}function F(n){const l=v();return w(l)?"/build/render.js":`https://s.alicdn.com/@g/sc/icbu-marketing/${n}/render.js`}const D={marketingPcAtmosphere:(0,r.lazy)(()=>e.e(338).then(e.bind(e,682))),marketingWapAtmosphere:(0,r.lazy)(()=>e.e(131).then(e.bind(e,305))),marketingWapAtmosphereFloor:(0,r.lazy)(()=>e.e(547).then(e.bind(e,121))),marketingPcAtmosphereFloor:(0,r.lazy)(()=>e.e(768).then(e.bind(e,337))),marketingPcFirstOrderPopup:(0,r.lazy)(()=>e.e(982).then(e.bind(e,448))),marketingCodeAtmosphere:(0,r.lazy)(()=>e.e(118).then(e.bind(e,526))),marketingWapCodeAtmosphere:(0,r.lazy)(()=>e.e(392).then(e.bind(e,925))),marketingPcIncentiveSgAtmosphere:(0,r.lazy)(()=>e.e(679).then(e.bind(e,879))),marketingWapIncentiveSgAtmosphere:(0,r.lazy)(()=>e.e(856).then(e.bind(e,974))),marketingWapSavingBoosterAtmosphere:(0,r.lazy)(()=>e.e(351).then(e.bind(e,393))),marketingPcSavingBoosterAtmosphere:(0,r.lazy)(()=>e.e(560).then(e.bind(e,328)))},R=window?.ReactDOM?.createRoot;function y(n){return new Promise((l,b)=>{const _=`${window?.__ug_incentive_public_path__||"https://s.alicdn.com/@g/icbu-marketing/1.1.2/"}${n}`;if(document.querySelector(`link[href="${_}"]`)){l();return}const A=document.createElement("link");A.rel="stylesheet",A.href=_,A.onload=()=>l(),A.onerror=()=>b(new Error(`Failed to load CSS: ${_}`)),document.head.appendChild(A)})}function C(n,l){R?(0,u.createRoot)(n).render(l):window?.ReactDOM.render(l,n)}async function S(){const{whiteMap:n={}}=await a(),l=n[f()];if(!l)return;const b=document.createElement("div");b.id="icbu-marketing-popup-container",document.body.appendChild(b);const _=D.marketingPcFirstOrderPopup;try{await y("marketingPcFirstOrderPopup.chunk.css")}catch(k){console.warn("Failed to load component CSS",k)}C(b,i().createElement(r.Suspense,{fallback:i().createElement(i().Fragment,null)},i().createElement(_,{...l})))}function x(n){if(!n||!n?.dotScene||!n?.componentsList)return console.error(n,"\u5982\u4E0Arender\u5FC5\u4F20\u53C2\u6570\u4E3A\u7A7A\uFF0C\u8BF7\u6309\u7167\u6587\u6863\u66F4\u6539 https://aliyuque.antfin.com/growth-tech/cdx2z7/bbu5pdubf57n3q8s#LZ4EQ");const{dotScene:l,componentsList:b}=n;b.forEach(_=>{const{domId:k,comId:A,props:E,sceneCode:W}=_,T=async j=>{if(j){const O=document.getElementById(k);if(!O)return console.error(`${k} is not exist`);E?.onShow&&E.onShow();const N=D[A];if(!N)return console.error(`${A} is not exist`);try{await y(`${A}.chunk.css`)}catch(L){console.warn(`Failed to load CSS for component ${A}`,L)}C(O,i().createElement(r.Suspense,{fallback:i().createElement(i().Fragment,null)},i().createElement(N,{...E,comData:j,dotScene:l,sceneCode:W})))}};if(E?.comData)return T(E?.comData);p({sceneCode:W,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}).then(j=>{const O=j?.object?.materialInfo||E?.comData;T(O)})})}function B(){S(),window.IcbuMarketingSDK={render:x}}B()})()})();})();
