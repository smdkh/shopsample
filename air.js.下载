/*! For license information please see air.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/build/",n(n.s=850)}([function(e,t,n){var r=n(246)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t){function n(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,c,"next",e)}function c(e){n(a,o,i,s,c,"throw",e)}s(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=$$_React_18_},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return L}),n.d(t,"b",function(){return xe}),n.d(t,"c",function(){return mt}),n.d(t,"d",function(){return ht});var r,o=n(228),i=n.n(o),a=n(5),s=n.n(a),c=n(99),u=n(6),l=n.n(u),d=n(164),f=n.n(d),p=n(49),m=n.n(p),g=n(45),h=n(98),v=n.n(h),y=n(95),_=n(696),b=n(229),w=n.n(b),C=function(){return C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},C.apply(this,arguments)};function T(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})}function S(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function k(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}!function(e){e[e.ENV_ONLINE=0]="ENV_ONLINE",e[e.ENV_PRERELEASE=1]="ENV_PRERELEASE",e[e.ENV_DAILY=2]="ENV_DAILY",e[e.ENV_MOCK=3]="ENV_MOCK"}(r||(r={}));var N,M=function(){function e(){this.setting={environment:r.ENV_ONLINE,appKey:"",mediaHost:"",deviceId:"",appLocale:"zh_CN",deviceLocale:"zh_CN",timeZone:"Asia/Shanghai",debug:!1,log:{error:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,e)},info:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.info.apply(console,e)}},authTokenCallback:function(){return Promise.resolve({})}}}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.set=function(e){this.setting=C(C({},this.setting),e)},e.prototype.get=function(){return this.setting},e}();var E,O,x,A=function(e,t,n){if(N&&N.sendMsg)return N.sendMsg(e,t,n);throw new Error("rpc is null, must init rpc first")};!function(e){e[e.SUCCESS=200]="SUCCESS",e[e.NOT_FOUND=400]="NOT_FOUND",e[e.NOT_AUTHED=401]="NOT_AUTHED",e[e.TIMEOUT=408]="TIMEOUT",e[e.SERVER_ERROR=500]="SERVER_ERROR"}(E||(E={})),function(e){e.INFO="INFO",e.ERROR="ERROR"}(O||(O={})),function(e){e.CONNECT_SUCCESS="CONNECT_SUCCESS",e.CONNECT_CLOSED="CONNECT_CLOSED",e.CONNECT_FAILED="CONNECT_FAILED",e.SEND_MSG="SEND_MSG",e.RECEIVE_MSG="RECEIVE_MSG",e.SEND_TIMEOUT="SEND_TIMEOUT",e.SEND_ERROR="SEND_ERROR"}(x||(x={}));var I,P=function(){function e(){this._webSocket=null,this._channelHandlers={},this._pendingRequests={},this._listener=function(){}}return e.prototype.listen=function(e){this._listener=e},e.prototype.on=function(e,t){this._channelHandlers[e]=t},e.prototype.off=function(e){delete this._channelHandlers[e]},e.prototype.send=function(t,n){var r=this;return new Promise(function(o,i){var a=r._genRandId();t.headers&&(t.headers.mid=a+" 0"),r._doSend({lwp:t.lwp,headers:C({},t.headers),body:t.body}).then(function(){r._pendingRequests[a]={request:t,resolve:o,reject:i,timeoutId:window.setTimeout(function(){r._triggerEvent(O.ERROR,x.SEND_TIMEOUT,t),delete r._pendingRequests[a],i({level:O.ERROR,type:x.SEND_TIMEOUT,data:t})},n&&n.timeout||e.DEFAULT_REQUEST_TIMEOUT)}}).catch(function(){i({level:O.ERROR,type:x.SEND_ERROR,data:t})})})},e.prototype.connect=function(e){var t=this;return new Promise(function(n,r){t._reset(),t._webSocket=new WebSocket(e),t._webSocket.onmessage=function(e){t._onReceive(e.data)},t._webSocket.onerror=function(e){t._triggerEvent(O.ERROR,x.CONNECT_FAILED,e),r({level:O.ERROR,type:x.CONNECT_FAILED,data:e})},t._webSocket.onclose=function(e){t._triggerEvent(O.ERROR,x.CONNECT_CLOSED,e)},t._webSocket.onopen=function(){n(),t._triggerEvent(O.INFO,x.CONNECT_SUCCESS,e)}})},e.prototype.batchConnect=function(e){var t=this;this._reset();var n=function(n){return T(t,void 0,void 0,function(){var t=this;return S(this,function(r){switch(r.label){case 0:return this._webSocket?[2]:n>0?[4,(o=n,new Promise(function(e){return setTimeout(e,o)}))]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2,new Promise(function(n,r){var o=new WebSocket(e);o.onopen=function(){t._webSocket?o.close():t._webSocket=o,n(o)},o.onerror=function(e){r(e)}})]}var o})})};return new Promise(function(r,o){Promise.race([n(0),n(200),n(900),n(1500),n(4e3)]).then(function(){t._webSocket&&(t._triggerEvent(O.INFO,x.CONNECT_SUCCESS,e),t._webSocket.onmessage=function(e){t._onReceive(e.data)},t._webSocket.onclose=function(){t._triggerEvent(O.ERROR,x.CONNECT_CLOSED,e)},r())}).catch(function(e){t._triggerEvent(O.ERROR,x.CONNECT_FAILED,e),o({level:O.ERROR,type:x.CONNECT_FAILED,data:e})})})},e.prototype.close=function(){this._webSocket&&this._webSocket.close()},e.prototype._genRandId=function(){return""+Math.floor(1e3*Math.random())+(new Date).getTime()},e.prototype._triggerEvent=function(e,t,n){this._listener&&this._listener({level:e,type:t,data:n})},e.prototype._doSend=function(e){var t=this;return new Promise(function(n,r){t._webSocket&&t._webSocket.readyState===WebSocket.OPEN?(t._triggerEvent(O.INFO,x.SEND_MSG,e),t._webSocket.send(JSON.stringify(e)),n()):(t._triggerEvent(O.ERROR,x.SEND_ERROR,e),r())})},e.prototype._onReceive=function(e){var t,n=this;try{t=JSON.parse(e)}catch(e){return}if(this._triggerEvent(O.INFO,x.RECEIVE_MSG,t),t.code&&t.headers){var r=(t.headers.mid||"").split(" ")[0],o=this._pendingRequests[r];o&&o.timeoutId&&clearTimeout(o.timeoutId),o&&o.resolve&&o.resolve(t),delete this._pendingRequests[r]}else if(t.lwp&&t.headers){var i=this._channelHandlers[t.lwp];i?i(t).then(function(e){n._doSend(e)}):this._doSend({code:E.SUCCESS,headers:t.headers})}},e.prototype._reset=function(){for(var e in this._pendingRequests)if(this._pendingRequests[e]){var t=this._pendingRequests[e];t.timeoutId&&clearTimeout(t.timeoutId),t.reject&&t.reject({level:O.ERROR,type:x.SEND_ERROR,data:t.request})}this._pendingRequests={},this._webSocket&&this._webSocket.close(),this._webSocket=null},e.DEFAULT_REQUEST_TIMEOUT=3e4,e}();!function(e){e.AUTHED="AUTHED",e.INVALID_TOKEN="INVALID_TOKEN",e.AUTH_FAILED="AUTH_FAILED",e.CONNECT_LIMIT="CONNECT_LIMIT",e.AUTH_ERROR="AUTH_ERROR"}(I||(I={}));var R,D,U,j,L,F=function(){function e(t){var n=this;this._hbInterval=0,this._listener=function(){},this._wsUrl=t.wsUrl,this._appKey=t.appKey,this._cookieName=t.cookieName||"access_token",this._lwpChannel=new P,this._authHeaders=t.authHeaders||{},this._getToken=t.getToken||this._getTokenFromCookie,this._batchConnect=t.batchConnect,this._lwpChannel.listen(function(e){n._listener&&n._listener({level:e.level,type:e.type,data:e.data})}),this._lwpChannel.on(e.KICKOUT_CHANNEL,function(e){return n._handleKickoutChannel(e)}),this._lwpChannel.on(e.SESSION_REMOVE,function(e){return n._handleSessionRemove(e)})}return e.prototype.on=function(t,n){var r=this;this._lwpChannel.on(t,function(o){return t===e.KICKOUT_CHANNEL?(n(o),r._handleKickoutChannel(o)):t===e.SESSION_REMOVE?(n(o),r._handleSessionRemove(o)):n(o)})},e.prototype.off=function(e){this._lwpChannel.off(e)},e.prototype.listen=function(e){this._listener=e},e.prototype.sendMsg=function(e,t){return this._lwpChannel.send(e,t)},e.prototype.authConnect=function(){var e=this;return new Promise(function(t,n){return(e._batchConnect?e._lwpChannel.batchConnect(e._wsUrl):e._lwpChannel.connect(e._wsUrl)).then(function(){return T(e,void 0,void 0,function(){var e;return S(this,function(r){switch(r.label){case 0:return[4,this._getToken?this._getToken():this._getTokenFromCookie()];case 1:return(e=r.sent())?this._auth(decodeURIComponent(e)).then(t).catch(n):(this._triggerEvent(O.ERROR,I.INVALID_TOKEN),this._close(),n()),[2]}})})}).catch(n)})},e.prototype.close=function(){this._close()},e.prototype._auth=function(e){var t=this;return new Promise(function(n,r){T(t,void 0,void 0,function(){var t,o,i,a,s=this;return S(this,function(c){return t=C({"cache-header":"app-key token ua wv","app-key":this._appKey,token:e,ua:window.navigator.userAgent,dt:"j",wv:"im:0,au:0,sy:4",sync:"0,0;0;0;","set-ver":"0","reg-type":"1"},this._authHeaders),""===(null===(i=this._authHeaders)||void 0===i?void 0:i["reg-type"])&&delete t["reg-type"],""===(null===(a=this._authHeaders)||void 0===a?void 0:a["set-ver"])&&delete t["set-ver"],o=Date.now(),this._lwpChannel.send({lwp:"/reg",headers:t}).then(function(e){ht.getEventService().emit(xe.PaaSRequestNotify,{url:"/reg",headers:e.headers,duration:Date.now()-o,code:e.code,success:e.code===E.SUCCESS,body:e.body||{}}),e.code===E.SUCCESS?(s._restartHeartBeat(),s._triggerEvent(O.INFO,I.AUTHED),n()):e.code===E.NOT_AUTHED?(s._triggerEvent(O.ERROR,I.INVALID_TOKEN),s._close(),r()):(s._triggerEvent(O.ERROR,I.AUTH_ERROR),s._close(),r())}).catch(function(e){ht.getEventService().emit(xe.PaaSRequestNotify,{url:"/reg",duration:Date.now()-o,success:!1,error:Object(g.serializeError)(e)}),s._triggerEvent(O.ERROR,I.AUTH_ERROR),s._close(),r()}),[2]})})})},e.prototype._close=function(){this._hbInterval&&clearInterval(this._hbInterval),this._hbInterval=0,this._lwpChannel.close()},e.prototype._handleKickoutChannel=function(e){var t=this;return new Promise(function(n){t._triggerEvent(O.ERROR,I.AUTH_FAILED),t._close(),n({code:E.SUCCESS,headers:e.headers})})},e.prototype._handleSessionRemove=function(e){var t=this;return new Promise(function(n){t._triggerEvent(O.ERROR,I.CONNECT_LIMIT),t._close(),n({code:E.SUCCESS,headers:e.headers})})},e.prototype._restartHeartBeat=function(){var t=this;this._hbInterval&&clearInterval(this._hbInterval),this._hbInterval=setInterval(function(){var e=Date.now();t._lwpChannel.send({lwp:"/!",headers:{}}).then(function(t){ht.getEventService().emit(xe.PaaSRequestNotify,{url:"/!",headers:t.headers,duration:Date.now()-e,code:t.code,success:!0,body:t.body||{}})}).catch(function(n){ht.getEventService().emit(xe.PaaSRequestNotify,{url:"/!",duration:Date.now()-e,success:!1,error:Object(g.serializeError)(n)}),ht.getLoggerService().error("error at heartBeat",Object(g.serializeError)(n)),t._close()})},e.HEART_BEAT_INTERVAL)},e.prototype._triggerEvent=function(e,t,n){this._listener&&this._listener({level:e,type:t,data:n})},e.prototype._getTokenFromCookie=function(){return T(this,void 0,void 0,function(){var e;return S(this,function(t){return[2,(e=document.cookie.match(new RegExp("(^| )"+this._cookieName+"=([^;]*)(;|$)")))?e[2]:""]})})},e.HEART_BEAT_INTERVAL=15e3,e.KICKOUT_CHANNEL="/push/kickout",e.SESSION_REMOVE="/s/session/remove",e}();!function(e){e[e.CONN_UNCONNECTED=0]="CONN_UNCONNECTED",e[e.CONN_CONNECTING=1]="CONN_CONNECTING",e[e.CONN_CONNECTED=2]="CONN_CONNECTED",e[e.CONN_AUTHING=3]="CONN_AUTHING",e[e.CONN_AUTHED=4]="CONN_AUTHED",e[e.CONN_ERROR=5]="CONN_ERROR"}(L||(L={}));var B,q=((R={})[r.ENV_ONLINE]="wss://wss-cntaobao.dingtalk.com",R[r.ENV_DAILY]="wss://tls-impaas-daily.dingtalk.com:7003",R[r.ENV_PRERELEASE]="wss://pre-wss-cntaobao.dingtalk.com",R[r.ENV_MOCK]="wss://webalfa-cm3.dingtalk.com/long",R),G=((D={})[r.ENV_DAILY]="daily-down-impaas.dingtalk.com",D[r.ENV_ONLINE]="impaas-static.dingtalk.com",D[r.ENV_PRERELEASE]="pre-down-impaas.dingtalk.com",D),V=((U={})[r.ENV_ONLINE]="wss://wss.im.dingtalk.cn",U[r.ENV_PRERELEASE]="wss://pre-wss.im.dingtalk.cn",U),W=((j={})[r.ENV_ONLINE]="down.im.dingtalk.cn",j[r.ENV_PRERELEASE]="pre-down.im.dingtalk.cn",j),H=function(){function e(){this.innerConnectionStatus=L.CONN_UNCONNECTED,this.lwpClient=null,this.isLogout=!1,this.isReconnecting=!1,this.domain=""}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.setConnectionStatus=function(e){this.innerConnectionStatus=e,ht.getEventService().emit(xe.PaaSConnectionChanged,e)},e.prototype.onWsClose=function(e){ht.getEventService().emit(xe.PaaSConnectionClosed,e)},e.prototype.isNetworkAvailable=function(){return!0},e.prototype.getConnectionStatus=function(){return this.innerConnectionStatus},e.prototype.loginV2=function(){return T(this,void 0,void 0,function(){var e,t,n,o,i,a,c=this;return S(this,function(u){return e=ht.getSettingService().get(),t=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["debug"]),n=void 0===t.environment||t.environment===r.ENV_ONLINE,ht.getCloudVersion()?(o=n?W[r.ENV_ONLINE]:W[r.ENV_PRERELEASE],Object(y.configHost)({mediaIdHost:t.mediaHost||o,authMediaIdHost:t.mediaHost||o,authMediaIdCdnHost:t.mediaHost||o})):(i=G[t.environment||r.ENV_ONLINE]||G[r.ENV_PRERELEASE],Object(y.configHost)({mediaIdHost:i,authMediaIdHost:i})),a=new w.a(navigator.userAgent),this.setConnectionStatus(L.CONN_CONNECTING),this.lwpWebClient=new F({appKey:t.appKey,wsUrl:t.wsUrl||(ht.getCloudVersion()?V[n?r.ENV_ONLINE:r.ENV_PRERELEASE]:q[t.environment||r.ENV_ONLINE]),authHeaders:{ua:[navigator.userAgent,(ht.getCloudVersion()?"AIM":"DingTalk")+"(2.1.0-beta.22)","OS("+(a.getOS().name||"other")+"/"+(a.getOS().version||"other")+")","Browser("+(a.getBrowser().name||"other")+"/"+(a.getBrowser().version||"other")+")",(ht.getCloudVersion()?"AIM":"DingWeb")+"/2.1.0-beta.22",ht.getCloudVersion()?"AIM":"IMPaaS"].join(" "),did:t.deviceId,wv:"im:3,au:3,sy:6","subscribe-server-push":t.subscribeServerPush,"set-ver":"","reg-type":""},getToken:function(){return T(c,void 0,void 0,function(){var e;return S(this,function(t){switch(t.label){case 0:return[4,ht.getSettingService().get().authTokenCallback()];case 1:return e=t.sent(),ht.getCloudVersion()&&s()(e,"uid")&&(e={code:e.code,accessTokenExpiredTime:e.accessTokenExpiredTime,accessToken:e.accessToken,refreshToken:e.refreshToken,openId:s()(e,"uid")}),this.myUid=e.openId?e.openId+"":void 0,e.accessToken,e.accessToken?[2,e.accessToken]:[2,Promise.reject("accessToken is undefiend")]}})})}}),this.lwpWebClient.authConnect().then(function(e){console.log("authConnect then",e)}).catch(function(e){console.log("authConnect then",e)}),N={sendMsg:function(e,t,n){return T(c,void 0,void 0,function(){var r;return S(this,function(o){return this.lwpWebClient?(r=Date.now(),[2,this.lwpWebClient.sendMsg({lwp:e,headers:t,body:n}).then(function(t){var n=Date.now()-r;return 200===t.code?ht.getLoggerService().info("cost","[rpc succ]",n,e):ht.getLoggerService().error("cost","[rpc error]",n,e,JSON.stringify(t)),ht.getEventService().emit(xe.PaaSRequestNotify,{url:e,headers:t.headers,duration:n,code:t.code,success:!0}),t}).catch(function(t){var n=Date.now()-r;return ht.getLoggerService().error("cost","[rpc error]",n,e,Object(g.serializeError)(t)),ht.getEventService().emit(xe.PaaSRequestNotify,{url:e,duration:n,success:!1,error:Object(g.serializeError)(t)}),Promise.reject(t)})]):[2,Promise.reject("lwpClient is null")]})})}},ht.getEventService().onPushEvent(this.lwpWebClient),[2,new Promise(function(e,t){var n;null===(n=c.lwpWebClient)||void 0===n||n.listen(function(n){var r,o;if(n.level===O.ERROR)n.type===x.CONNECT_CLOSED?(c.setConnectionStatus(L.CONN_UNCONNECTED),c.onWsClose(n)):n.type===x.CONNECT_FAILED?(c.setConnectionStatus(L.CONN_ERROR),ht.getEventService().emit(xe.PaaSConnectionError,{err:n,retry:0}),t(x.CONNECT_FAILED)):n.type===x.SEND_TIMEOUT?ht.getLoggerService().error(x.SEND_TIMEOUT,n.data):n.type===x.SEND_ERROR?ht.getLoggerService().error(x.SEND_ERROR,n.data):n.type===I.INVALID_TOKEN?(c.setConnectionStatus(L.CONN_ERROR),ht.getEventService().emit(xe.PaaSConnectionError,{err:n,retry:0}),t(x.CONNECT_FAILED)):n.type===I.AUTH_FAILED?c.setConnectionStatus(L.CONN_UNCONNECTED):n.type===I.CONNECT_LIMIT?(setTimeout(function(){ht.getAuthService().logout()},50),ht.getEventService().emit(xe.PaaSConnectionRemove,{type:(null===(r=n.data)||void 0===r?void 0:r.type)||0}),c.setConnectionStatus(L.CONN_UNCONNECTED)):n.type===I.AUTH_ERROR&&(c.setConnectionStatus(L.CONN_ERROR),t(I.AUTH_ERROR));else if(n.type===x.CONNECT_SUCCESS)c.setConnectionStatus(L.CONN_CONNECTED),c.setConnectionStatus(L.CONN_AUTHING);else if(n.type===x.SEND_MSG);else if(n.type===x.RECEIVE_MSG){if((null===(o=null===n||void 0===n?void 0:n.data)||void 0===o?void 0:o.headers)&&n.data.headers["reg-uid"]){var i=n.data.headers["reg-uid"]+"",a=i.lastIndexOf("@");c.myUid=i.substring(0,a),c.domain=i.substring(a+1)}}else n.type===I.AUTHED&&(c.setConnectionStatus(L.CONN_AUTHED),e(x.CONNECT_SUCCESS))})})]})})},e.prototype.reConnect=function(){return T(this,void 0,void 0,function(){var e=this;return S(this,function(t){return this.isLogout?[2,Promise.reject("isLogout")]:this.isReconnecting?[2,Promise.reject("isReconnecting")]:(this.isReconnecting=!0,[2,this.loginV2().then(function(t){return setTimeout(function(){e.isReconnecting=!1},500),t}).catch(function(t){return setTimeout(function(){e.isReconnecting=!1},500),Promise.reject(t)})])})})},e.prototype.login=function(){return T(this,void 0,void 0,function(){return S(this,function(e){return[2,this.loginV2()]})})},e.prototype.logout=function(){return this.lwpWebClient&&(this.isLogout=!0,this.lwpWebClient.close(),ht.getEventService().offPushEvent(this.lwpWebClient)),Promise.resolve()},e.prototype.close=function(){var e;return(null===(e=this.lwpWebClient)||void 0===e?void 0:e.close)&&this.lwpWebClient.close(),Promise.resolve()},e.prototype.kickout=function(){return Promise.resolve()},e.prototype.getMyOpenId=function(){return this.myUid},e.prototype.getMyUid=function(){return this.myUid},e.prototype.getDeviceId=function(e){return T(this,void 0,void 0,function(){var t,n,r,o,i;return S(this,function(a){return t="im_sdk_did",n="im_sdk_tab_id",r=ht.getStorageService().get(t,!0),o=sessionStorage.getItem(n),(!r||r.indexOf("-")>0)&&(r=Object(_.a)().replace(/-/g,""),ht.getStorageService().set(t,r,!0)),o||(o=Date.now()+"",sessionStorage.setItem(n,o)),i=r+"-"+o,e&&e>=30&&i.length>e&&(i=r.substr(0,e-o.length-1)+"-"+o),[2,i]})})},e.prototype.getDomain=function(){return this.domain},e.prototype.setDomain=function(e){this.domain||(this.domain=e)},e.prototype.sendRpc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];A(e,t,n)},e}(),Y=function(e,t,n){return void 0===n&&(n={}),A("/r/Conversation/listNewest",n,[e,t])},z=function(e,t,n){return void 0===n&&(n={}),A("/r/Conversation/listNewestPagination",n,[e,t])},J=function(e,t){return void 0===t&&(t={}),A("/r/Conversation/getByCids",t,[e])},$=function(e,t,n){return void 0===n&&(n={}),A("/r/Conversation/setTop",n,[e,t])},K=function(e,t){return void 0===t&&(t={}),A("/r/Conversation/hide",t,[e])},X=function(e,t,n){return void 0===n&&(n={}),A("/r/Conversation/mute",n,[e,t])},Q=function(e,t){return void 0===t&&(t={}),A("/r/Conversation/clearRedPoint",t,[e])},Z=function(e,t){return void 0===t&&(t={}),A("/r/Conversation/addUserConversation",t,[e])},ee=function(e,t){return void 0===t&&(t={}),A("/r/Conversation/hideBatch",t,[e])},te=function(e,t,n){return void 0===n&&(n={}),A("/r/GroupChatConversation/dismiss",n,[e,t])},ne=function(e,t,n,r){return void 0===r&&(r={}),A("/r/GroupChatConversation/updateDefTitle",r,[e,t,n])},re=function(e,t,n,r){return void 0===r&&(r={}),A("/r/GroupChatConversation/updateIconResource",r,[e,t,n])},oe=function(e,t,n){return void 0===n&&(n={}),A("/r/GroupChatMember/join",n,[e,t])},ie=function(e,t,n){return void 0===n&&(n={}),A("/r/GroupChatMember/kick",n,[e,t])},ae=function(e,t,n){return void 0===n&&(n={}),A("/r/GroupChatMember/leave",n,[e,t])},se=function(e,t){return void 0===t&&(t={}),A("/r/GroupChatMember/listAllMembers",t,[e])},ce=function(e,t,n){return void 0===n&&(n={}),A("/r/GroupChatMember/setOwner",n,[e,t])},ue=function(e,t,n){return void 0===n&&(n={}),A("/r/GroupChatMember/getMembers",n,[e,t])},le=function(e,t,n){return void 0===n&&(n={}),A("/r/GroupChatPermission/setMemberPermission",n,[e,t])},de=function(e,t,n){return void 0===n&&(n={}),A("/r/GroupChatSilence/silenceAll",n,[e,t])},fe=function(e,t,n){return void 0===n&&(n={}),A("/r/GroupChatSilence/cancelSilenceAll",n,[e,t])},pe=function(e,t,n){return void 0===n&&(n={}),A("/r/GroupChatSilence/addWhitelist",n,[e,t])},me=function(e,t,n){return void 0===n&&(n={}),A("/r/GroupChatSilence/removeWhitelist",n,[e,t])},ge=function(e,t,n){return void 0===n&&(n={}),A("/r/GroupChatSilence/addBlacklist",n,[e,t])},he=function(e,t,n){return void 0===n&&(n={}),A("/r/GroupChatSilence/removeBlacklist",n,[e,t])},ve=function(e,t){return void 0===t&&(t={}),A("/r/GroupChatSilence/getSilencedInfo",t,[e])},ye=function(e,t,n,r,o,i){return void 0===i&&(i={}),A("/r/MessageManager/listUserMessages",i,[e,t,n,r,o])},_e=function(e,t,n){return void 0===n&&(n={}),A("/r/MessageManager/removeUserMessageIds",n,[e,t])},be=function(e,t,n){return void 0===n&&(n={}),A("/r/MessageManager/updateExtension",n,[e,t])},we=function(e,t,n,r){return void 0===r&&(r={}),A("/r/MessageManager/recallMessageByFeature",r,[e,t,n])},Ce=function(e,t){return void 0===t&&(t={}),A("/r/MessageManager/clear",t,[e])},Te=function(e,t,n){return void 0===n&&(n={}),A("/r/MessageSend/sendByReceiverScope",n,[e,t])},Se=function(e,t,n){return void 0===n&&(n={}),A("/r/MessageForward/batchForward",n,[e,t])},ke=function(e,t,n){return void 0===n&&(n={}),A("/r/MessageForward/combineForward",n,[e,t])};!function(e){e[e.asc=0]="asc",e[e.desc=1]="desc"}(B||(B={}));var Ne,Me,Ee,Oe=function(){return"-"+Date.now()+i()()};!function(e){e[e.deleted=0]="deleted",e[e.normal=1]="normal",e[e.recall=2]="recall",e[e.deletedOfReceiver=3]="deletedOfReceiver",e[e.degradation=4]="degradation"}(Ne||(Ne={})),function(e){e[e.sender=0]="sender",e[e.groupOwner=1]="groupOwner",e[e.system=2]="system",e[e.safety=3]="safety"}(Me||(Me={})),function(e){e[e.text=1]="text",e[e.photo=2]="photo",e[e.audio=3]="audio",e[e.video=4]="video",e[e.geo=5]="geo",e[e.struct=6]="struct",e[e.link=7]="link",e[e.at=8]="at",e[e.file=9]="file",e[e.reply=10]="reply",e[e.combineForward=11]="combineForward"}(Ee||(Ee={}));var xe,Ae,Ie=function(e){return ht.getCloudVersion()&&void 0!==e?e+("@"+ht.getAuthService().getDomain()):void 0===e?"":e},Pe=function(e){if(ht.getCloudVersion()&&void 0!==e){var t="@"+ht.getAuthService().getDomain(),n=e.lastIndexOf("@");if(n>0&&e.substr(n)===t)return e.substr(0,n)}return void 0===e?"":e},Re=["uid","conversationId","leftUid","ownerUid","operatorUid","owner","receiver","pairFirst","pairSecond","receivers","uids","admins","joinedUids","kickedUids","senderUid"],De=function(e){var t,n,r,o,i,a,s,u,d,f;if(e&&ht.getCloudVersion()&&(null===e||void 0===e?void 0:e.cid)){var p=e.cid,m=(null===(t=e.sender)||void 0===t?void 0:t.uid)||"";if(e=l()(e,{$unset:["cid"],receivers:{$apply:function(e){return e&&e.length?e.map(function(e){return Pe(e)}):e}}}),Object.assign(e,{appCid:Pe(p)}),m&&Object.assign(e,{sender:Pe(m)}),(null===(n=e.content)||void 0===n?void 0:n.contentType)===Ee.reply){var g=null===(o=null===(r=e.content.replyContent)||void 0===r?void 0:r.referenceMessage)||void 0===o?void 0:o.cid;g&&(e=l()(e,{content:{replyContent:{referenceMessage:{$unset:["cid"]}}}}),Object.assign(null===(a=null===(i=e.content)||void 0===i?void 0:i.replyContent)||void 0===a?void 0:a.referenceMessage,{appCid:Pe(g)}))}if((null===(s=e.content)||void 0===s?void 0:s.contentType)===Ee.combineForward){var h=null===(u=e.content.combineForwardContent)||void 0===u?void 0:u.combineForwardMessages;(null===h||void 0===h?void 0:h.length)&&(e=l()(e,{content:{combineForwardContent:{combineForwardMessages:{$apply:function(e){return void 0!==e&&e.length>0?e.map(function(e){if(e.cid){var t=e.cid;e=l()(e,{$unset:["cid"]}),Object.assign(e,{appCid:Pe(t)})}return e}):e}}}}}))}}if(e&&101===(null===(d=null===e||void 0===e?void 0:e.content)||void 0===d?void 0:d.contentType)&&(null===(f=e.content.custom)||void 0===f?void 0:f.data)){var v=e.content.custom.data;v&&c.a.isValid(v)&&(e=l()(e,{content:{custom:{data:{$set:c.a.decode(v)}}}}))}return e},Ue=function(e){var t;return e&&(null===e||void 0===e?void 0:e.message)&&(e=l()(e,{message:{$apply:De}})),e&&ht.getCloudVersion()&&(null===(t=e.recallFeature)||void 0===t?void 0:t.operatorUid)&&(e=l()(e,{recallFeature:{operatorUid:{$apply:Pe}}})),e},je=function(e){if(ht.getCloudVersion()&&(null===e||void 0===e?void 0:e.singleChatConversation)){var t=e.singleChatConversation.cid;e=l()(e,{$unset:["utags","parent_id"],singleChatConversation:{$unset:["cid","bizType"],pairFirst:{$apply:Pe},pairSecond:{$apply:Pe}}}),Object.assign(e.singleChatConversation,{appCid:Pe(t)}),e.lastMessage&&(e=l()(e,{lastMessage:{$apply:Ue}}))}return e.lastMessage&&(e=l()(e,{lastMessage:{$apply:Ue}})),e},Le=function(e){if(ht.getCloudVersion()&&(null===e||void 0===e?void 0:e.groupChatConversation)){var t=e.groupChatConversation.cid;e=l()(e,{groupChatConversation:{$unset:["cid","bizType"],ownerUid:{$apply:Pe},admins:{$apply:function(e){return e&&e.length?e.map(function(e){return Pe(e)}):e}},icon:{$apply:function(e){if(e&&"{"===e.charAt(0)&&"}"===e.slice(-1))try{return JSON.parse(e).icon||""}catch(e){}return""}},title:{$apply:function(e){if(e&&"{"===e.charAt(0)&&"}"===e.slice(-1))try{return JSON.parse(e).def||""}catch(e){}return""}}},$unset:["parent_id"]}),Object.assign(e.groupChatConversation,{appCid:Pe(t)})}return e.lastMessage&&(e=l()(e,{lastMessage:{$apply:Ue}})),e},Fe=function(e){return e.groupChatUserConversation?e=l()(e,{groupChatUserConversation:{$set:Le(e.groupChatUserConversation)}}):e.singleChatUserConversation&&(e=l()(e,{singleChatUserConversation:{$set:je(e.singleChatUserConversation)}})),e},Be=function(){function e(){this.reTypeMsgTimes=0}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.sendMessage=function(e,t,n){var r,o,i,a,u;return void 0===t&&(t={}),void 0===n&&(n=!0),T(this,void 0,void 0,function(){var d,f,p,m,g,h,v,y,_,b;return S(this,function(w){switch(w.label){case 0:d=void 0,n&&(d=this.sendLocalMessage(e)),w.label=1;case 1:return w.trys.push([1,3,,4]),p=(p=t.actualReceivers)&&0!==p.length?p.map(function(e){return Ie(e)}):(e.cid||"").indexOf(":")>-1?(e.cid||"").split(":").map(function(e){var t=e.split("@"),n=t[0],r=t[1];return r?n+"@"+r:e}):[],101===(null===(r=e.content)||void 0===r?void 0:r.contentType)&&(null===(o=e.content.custom)||void 0===o?void 0:o.data)&&(m=null===(i=e.content.custom)||void 0===i?void 0:i.data)&&!c.a.isValid(m)&&(e=l()(e,{content:{custom:{data:{$set:c.a.encode(m)}}}})),ht.getCloudVersion()&&s()(e,"appCid")&&(e=l()(e,{cid:{$set:Ie(s()(e,"appCid",""))}}),Object.assign(e,{appCid:void 0})),[4,Te(e,C(C({},t),{actualReceivers:p}))];case 2:return(g=w.sent())&&200===g.code&&g.body.messageId?(h=void 0,h={message:{sender:{uid:ht.getAuthService().getMyUid()+"@"+ht.getAuthService().getDomain(),tag:0},cid:e.cid,uuid:g.body.uuid,messageId:g.body.messageId,displayStyle:1,createAt:g.body.createAt,content:C({},e.content),receiverCount:g.body.receiverCount,unreadCount:g.body.unreadCount,redPointPolicy:void 0===e.redPointPolicy?0:e.redPointPolicy,extension:g.body.extension,receivers:[],msgReadStatusSetting:g.body.msgReadStatusSetting},readStatus:2,userExtension:{},msgStatus:1,recallFeature:{code:"",extension:{},operatorType:0,operatorUid:"",showRecallStatusSetting:1}},h=Ue(h),y={cid:e.cid,uuid:g.body.uuid,messageId:g.body.messageId,extension:g.body.extension,readStatus:2,receiverMessageStatus:{readStatus:2},senderStatus:{unReadCount:null===(a=h.message)||void 0===a?void 0:a.unreadCount,totalCount:null===(u=h.message)||void 0===u?void 0:u.unreadCount},recordStatus:1,messageModel:h.message},ht.getEventService().emit(xe.PaaSMessageChange,y)):f=g,[3,4];case 3:return v=w.sent(),f=v,[3,4];case 4:if(f){if(e.cid&&e.uuid&&(y={cid:e.cid,uuid:e.uuid,extension:e.extension,readStatus:0,recordStatus:-1,messageModel:null===d||void 0===d?void 0:d.message},ht.getEventService().emit(xe.PaaSMessageChange,y)),(_=s()(f,"body.moreInfo"))&&"string"===typeof _)try{_=JSON.parse(_)}catch(e){}return b={messageId:"",cid:e.cid,extension:{send_msg_fail:JSON.stringify({reason:s()(f,"body.reason")||"",code:s()(f,"body.code")||"",moreInfo:_,developerMessage:s()(f,"body.developerMessage")})},eventTime:Date.now()},ht.getEventService().emit(xe.PaaSMessageUserExtensionChange,b),ht.getLoggerService().error("response error at [sendMessage.MessageSend_sendByReceiverScope]",f),[2,Promise.reject(f)]}return[2]}})})},e.prototype.sendTextMessage=function(e,t,n,r){return void 0===n&&(n={}),void 0===r&&(r=1),T(this,void 0,void 0,function(){return S(this,function(o){return""===t?[2]:[2,this.sendMessage({uuid:Oe(),cid:Ie(e),conversationType:r,content:{contentType:1,text:{content:t,extension:{}}},redPointPolicy:1,extension:{},ctx:{},mtags:{},msgReadStatusSetting:1},n)]})})},e.prototype.sendLocalMessage=function(e){var t={message:C(C({},e),{uuid:e.uuid,createAt:Date.now()}),recallFeature:{code:"",extension:{},operatorType:0,operatorUid:"",showRecallStatusSetting:1},readStatus:2,msgStatus:1,userExtension:{}};return ht.getEventService().emit(xe.PaaSMessageAdd,t),t},e.prototype.updateLocalMessage=function(e){ht.getEventService().emit(xe.PaaSMessageChange,e)},e.prototype.listNextMsgs=function(e,t,n){return T(this,void 0,void 0,function(){var r,o;return S(this,function(i){switch(i.label){case 0:return[4,ye(Ie(e),!0,parseInt(t+"",10),n,!1)];case 1:if(200===(r=i.sent()).code)return[2,l()(r.body,{userMessageModels:{$set:(r.body.userMessageModels||[]).map(function(e){return Ue(e)})}})];throw o="response error at [listNextMsgs]",ht.getLoggerService().error(o,r),o}})})},e.prototype.listPrevMsgs=function(e,t,n){return T(this,void 0,void 0,function(){var r,o;return S(this,function(i){switch(i.label){case 0:return[4,ye(Ie(e),!1,parseInt(t+"",10),n,!1)];case 1:if(200===(r=i.sent()).code&&r.body)return[2,l()(r.body,{userMessageModels:{$set:(r.body.userMessageModels||[]).map(function(e){return Ue(e)})}})];throw o="response error at [listPrevMsgs]",ht.getLoggerService().error(o,r),o}})})},e.prototype.getMessage=function(e){return T(this,void 0,void 0,function(){var t,n,r,o;return S(this,function(i){switch(i.label){case 0:t=function(e){return new Promise(function(t){return setTimeout(t,e)})},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,(a=e,void 0===s&&(s={}),A("/r/MessageManager/getUserMessageById",s,[a]))];case 2:return n=i.sent(),[3,4];case 3:return r=i.sent(),n=r,[3,4];case 4:return n&&200===n.code?(this.reTypeMsgTimes=0,[2,Ue(n.body)]):[3,5];case 5:return this.reTypeMsgTimes<3?(this.reTypeMsgTimes++,[4,t(1e3)]):[3,8];case 6:return i.sent(),[4,this.getMessage(e)];case 7:return[2,i.sent()];case 8:throw this.reTypeMsgTimes=0,o="response error at [getMessage]",ht.getLoggerService().error(o,n),o}var a,s})})},e.prototype.deleteMessage=function(e,t,n){return void 0===n&&(n=1),T(this,void 0,void 0,function(){var r,o,i;return S(this,function(a){switch(a.label){case 0:return[4,_e(Ie(e),[t])];case 1:if(200!==(r=a.sent()).code)throw i="response error at [deleteMessage]",ht.getLoggerService().error(i,r),i;return o={messageIds:[t],cid:e,conversationType:n,eventTime:Date.now()},ht.getEventService().emit(xe.PaaSMessageRemove,o),[2]}})})},e.prototype.batchDeleteMessage=function(e,t,n){return void 0===n&&(n=1),T(this,void 0,void 0,function(){var r,o,i;return S(this,function(a){switch(a.label){case 0:return[4,_e(Ie(e),t)];case 1:if(200!==(r=a.sent()).code)throw i="response error at [batchDeleteMessage]",ht.getLoggerService().error(i,r),i;return o={messageIds:t,cid:e,conversationType:n,eventTime:Date.now()},ht.getEventService().emit(xe.PaaSMessageRemove,o),[2]}})})},e.prototype.recallMessage=function(e,t,n){return void 0===n&&(n=1),T(this,void 0,void 0,function(){var r,o,i,a;return S(this,function(s){switch(s.label){case 0:return[4,(c=t,void 0===u&&(u={}),A("/r/MessageManager/recallMessage",u,[c]))];case 1:if(200!==(r=s.sent()).code)throw a="response error at [recallMessage]",ht.getLoggerService().error(a,r),a;return o=ht.getAuthService().getMyOpenId(),i={messageId:t,cid:Ie(e),conversationType:n,eventTime:Date.now(),operatorUid:o,recallFeature:{operatorType:0,showRecallStatusSetting:1,operatorUid:o,extension:{}}},ht.getEventService().emit(xe.PaaSMessageRecall,i),[2]}var c,u})})},e.prototype.recallMessageByFeature=function(e,t,n,r,o){return void 0===n&&(n=1),T(this,void 0,void 0,function(){var i,a,s,c;return S(this,function(u){switch(u.label){case 0:return ht.getCloudVersion()&&(o={}),[4,we(o,t,r)];case 1:if(200!==(i=u.sent()).code)throw c="response error at [recallMessage]",ht.getLoggerService().error(c,i),c;return a=ht.getAuthService().getMyOpenId(),s={messageId:t,cid:Ie(e),conversationType:n,eventTime:Date.now(),operatorUid:a,recallFeature:{operatorType:r.operatorType,showRecallStatusSetting:r.showRecallStatusSetting||1,operatorUid:r.operatorUid,extension:r.extension||{}}},ht.getEventService().emit(xe.PaaSMessageRecall,s),[2]}})})},e.prototype.updateMessageToRead=function(e,t,n){return void 0===n&&(n=1),T(this,void 0,void 0,function(){var r,o,i;return S(this,function(a){switch(a.label){case 0:return[4,(s=t,void 0===c&&(c={}),A("/r/MessageStatus/read",c,[s]))];case 1:if(200!==(r=a.sent()).code)throw i="response error at [updateMessageToRead]",ht.getLoggerService().error(i,r),i;return o={messageIds:t,readStatus:2,cid:Ie(e),conversationType:n,eventTime:Date.now()},ht.getEventService().emit(xe.PaaSMessageReadToReader,o),[2]}var s,c})})},e.prototype.updateMessageToView=function(e,t,n){return void 0===n&&(n=1),T(this,void 0,void 0,function(){var r,o,i;return S(this,function(a){switch(a.label){case 0:return[4,Q([{cid:Ie(e),messageId:t}])];case 1:if(200!==(r=a.sent()).code)throw i="response error at [updateMessageToView]",ht.getLoggerService().error(i,r),i;return o={events:[{cid:Ie(e),conversationType:n,messageId:t,eventTime:Date.now()}]},ht.getEventService().emit(xe.PaaSConversationClearRedPoint,o),[2]}})})},e.prototype.ListMessageReadStatus=function(e,t){return T(this,void 0,void 0,function(){var e,n;return S(this,function(r){switch(r.label){case 0:return[4,(o=t,void 0===i&&(i={}),A("/r/MessageStatus/listMessageReadStatus",i,[o]))];case 1:if(200!==(e=r.sent()).code)throw n="response error at [ListMessageReadStatus]",ht.getLoggerService().error(n,e),n;return[2,(e.body||[]).map(function(e){return ht.getCloudVersion()?C(C({},e),{uid:Pe(e.uid)}):e})]}var o,i})})},e.prototype.updateExtension=function(e,t,n,r){return void 0===r&&(r=1),T(this,void 0,void 0,function(){var o,i,a;return S(this,function(s){switch(s.label){case 0:return[4,be(t,n)];case 1:if(200!==(o=s.sent()).code)throw a="response error at [msg updateExtension]",ht.getLoggerService().error(a,o),a;return i={messageId:t,cid:Ie(e),conversationType:r,extension:n,eventTime:Date.now()},ht.getEventService().emit(xe.PaaSMessageExtensionChange,i),[2]}})})},e.prototype.combineForward=function(e,t){return T(this,void 0,void 0,function(){var n,r;return S(this,function(o){switch(o.label){case 0:return ht.getCloudVersion()&&(e=l()(e,{toCid:{$apply:Ie},forwardContents:{$apply:function(e){return e}}})),[4,ke(e,t)];case 1:if(200===(n=o.sent()).code)return[2,n.body];throw r="response error at [msg combineForward]",ht.getLoggerService().error(r,n),r}})})},e.prototype.batchForward=function(e,t){return T(this,void 0,void 0,function(){var n,r;return S(this,function(o){switch(o.label){case 0:return ht.getCloudVersion()&&(e=l()(e,{toCid:{$apply:Ie}})),[4,Se(e,t)];case 1:if(200===(n=o.sent()).code)return[2,n.body];throw r="response error at [msg batchForward]",ht.getLoggerService().error(r,n),r}})})},e}();!function(e){e.PaaSConnectionChanged="paas.connection.changed",e.PaaSConnectionError="paas.connection.error",e.PaaSConnectionRemove="paas.connection.remove",e.PaaSConnectionClosed="paas.connection.closed",e.PaaSRequestNotify="paas.request.notify",e.PaaSMessageAdd="paas.message.add",e.PaaSMessageRemove="paas.message.remove",e.PaaSMessageChange="paas.message.changed",e.PaaSMessageRecall="paas.message.recall",e.PaaSMessageUserExtensionChange="paas.message.userExtensionChange",e.PaaSMessageExtensionChange="paas.message.ExtensionChange",e.PaaSMessageReadToSenderList="paas.message.ReadToSenderList",e.PaaSMessageReadToReader="paas.message.ReadToReader",e.PaaSConversationAdd="paas.conversation.add",e.PaaSConversationRemove="paas.conversation.remove",e.PaaSConversationChange="paas.conversation.changed",e.PaaSConversationClear="paas.conversation.clear",e.PaaSConversationTypingChange="paas.conversation.typingChange",e.PaaSConversationDraftChange="paas.conversation.draftChange",e.PaaSConversationSetVisible="paas.conversation.setVisible",e.PaaSConversationMute="paas.conversation.mute",e.PaaSConversationSetTop="paas.conversation.setTop",e.PaaSConversationClearRedPoint="paas.conversation.clearRedPoint",e.PaaSConversationSetSingleExt="paas.conversation.SetSingleExt",e.PaaSConversationGroupChatCreate="paas.conversation.groupChatCreate",e.PaaSConversationGroupChatJoined="paas.conversation.groupChatJoined",e.PaaSConversationGroupChatPeerJoined="paas.conversation.groupChatPeerJoined",e.PaaSConversationGroupChatKicked="paas.conversation.groupChatKicked",e.PaaSConversationGroupChatPeerKicked="paas.conversation.groupChatPeerKicked",e.PaaSConversationGroupChatLeft="paas.conversation.groupChatLeft",e.PaaSConversationGroupChatPeerLeft="paas.conversation.groupChatPeerLeft",e.PaaSConversationGroupChatDismissed="paas.conversation.groupChatDismissed",e.PaaSConversationGroupChatTitleUpdated="paas.conversation.groupChatTitleUpdated",e.PaaSConversationGroupChatIconUpdated="paas.conversation.GroupChatIconUpdated",e.PaaSConversationUserConversationEmend="paas.conversation.UserConversationEmend",e.PaaSConversationGroupChatAllSilenced="paas.conversation.GroupChatAllSilenced",e.PaaSConversationSilencedBlacklistModified="paas.conversation.SilencedBlacklistModified",e.PaaSConversationSilencedWhitelistModified="paas.conversation.SilencedWhitelistModified",e.PaaSConversationGroupAdminModified="paas.conversation.GroupAdminModified",e.PaaSConversationGroupOwnerModified="paas.conversation.GroupOwnerModified",e.PaaSConversationGroupChatExtModified="paas.conversation.GroupChatExtModified",e.PaaSConversationGroupUpdateUserExt="paas.conversation.ConvUpdateUserExt",e.PaaSConversationGroupMemberNickModified="paas.conversation.GroupMemberNickModified"}(xe||(xe={})),function(e){e.draft="im_paas_sdk_conv_draft",e.localLog="im_paas_sdk_localLog"}(Ae||(Ae={}));var qe=function(){function e(){}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.get=function(e,t){try{var n=ht.getAuthService().getMyOpenId(),r=t?e:e+"_"+n;return localStorage.getItem(r)||""}catch(e){return""}},e.prototype.set=function(e,t,n){try{var r=ht.getAuthService().getMyOpenId(),o=n?e:e+"_"+r;return localStorage.setItem(o,t),!0}catch(e){return!1}},e}(),Ge=function(){function e(){this.draft={},this.actionConvId="",this.batchUpdateDraftToStorage=f()(this.batchUpdateDraftToStorage,300)}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.batchUpdateDraftToStorage=function(){},e.prototype.setActiveCid=function(e){this.actionConvId=e},e.prototype.getActionCid=function(){return this.actionConvId},e.prototype.createSingleConversation=function(e){return T(this,void 0,void 0,function(){var t,n,r;return S(this,function(o){switch(o.label){case 0:return s()(e,"appCid")&&(e=l()(e,{cid:{$set:Ie(s()(e,"appCid"))},pairFirst:{$apply:Ie},pairSecond:{$apply:Ie}}),Object.assign(e,{appCid:void 0})),[4,(i=e,void 0===a&&(a={}),A("/r/SingleChatConversation/create",a,[i]))];case 1:if(200!==(t=o.sent()).code)throw n="response error at [createSingleConversation]",ht.getLoggerService().error(n),n+", "+JSON.stringify(t);return r={singleChatUserConversation:t.body,type:1},ht.getEventService().emit(xe.PaaSConversationAdd,r),[2,je(t.body)]}var i,a})})},e.prototype.listConversations=function(e,t){var n;return T(this,void 0,void 0,function(){var r;return S(this,function(o){switch(o.label){case 0:return[4,Y(e,t)];case 1:return 200!==(r=o.sent()).code&&ht.getLoggerService().error("response error at imSDK [listConversations]",JSON.stringify(r)),[2,((null===(n=r.body)||void 0===n?void 0:n.length)>0?r.body:[]).map(function(e){return Fe(e)})]}})})},e.prototype.listConversationsPagination=function(e,t){var n;return T(this,void 0,void 0,function(){var r;return S(this,function(o){switch(o.label){case 0:return[4,z(e,t)];case 1:return 200!==(r=o.sent()).code&&ht.getLoggerService().error("response error at imSDK [listConversations]",JSON.stringify(r)),(null===(n=r.body.userConvs)||void 0===n?void 0:n.length)&&r.body.userConvs.length>0&&(r.body.userConvs=r.body.userConvs.map(function(e){return Fe(e)})),[2,r.body]}})})},e.prototype.listAllStatusConvs=function(e){var t;return T(this,void 0,void 0,function(){var n;return S(this,function(r){switch(r.label){case 0:return[4,J(e.map(Ie))];case 1:return 200!==(n=r.sent()).code&&ht.getLoggerService().error("response error at [listAllStatusConvs]"),[2,((null===(t=n.body)||void 0===t?void 0:t.length)>0?n.body:[]).map(function(e){return Fe(e)})]}})})},e.prototype.getConversations=function(e){var t;return T(this,void 0,void 0,function(){var n;return S(this,function(r){switch(r.label){case 0:return[4,J(e.map(Ie))];case 1:return 200!==(n=r.sent()).code&&ht.getLoggerService().error("response error at [getConversations]"),[2,((null===(t=n.body)||void 0===t?void 0:t.length)>0?n.body:[]).map(function(e){return Fe(e)})]}})})},e.prototype.getConversation=function(e){return T(this,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return[4,this.getConversations([e])];case 1:return[2,t.sent()[0]]}})})},e.prototype.hide=function(e,t){return void 0===t&&(t=1),T(this,void 0,void 0,function(){var n,r,o;return S(this,function(i){switch(i.label){case 0:return[4,K(Ie(e))];case 1:if(200!==(n=i.sent()).code)throw o="response error at [hide]",ht.getLoggerService().error(o),o+", "+JSON.stringify(n);return r={cid:e,conversationType:t,visible:!1,eventTime:Date.now()},ht.getEventService().emit(xe.PaaSConversationSetVisible,r),[2]}})})},e.prototype.hideBatch=function(e){return T(this,void 0,void 0,function(){var t,n;return S(this,function(r){switch(r.label){case 0:if(e.length>50)throw n="hideBatch 最多支持50个会话",ht.getLoggerService().error(n),n;return[4,ee(e.map(Ie))];case 1:if(200!==(t=r.sent()).code)throw n="response error at [hideBatch]",ht.getLoggerService().error(n),n+", "+JSON.stringify(t);return e.forEach(function(e){var t={cid:e,visible:!1,eventTime:Date.now()};ht.getEventService().emit(xe.PaaSConversationSetVisible,t)}),[2]}})})},e.prototype.updateTypingStatus=function(e){return T(this,void 0,void 0,function(){var t;return S(this,function(n){switch(n.label){case 0:return e.conversationId?[4,(r=l()(e,{conversationId:{$set:Ie(e.conversationId)},receiver:{$set:Ie(e.receiver)}}),void 0===o&&(o={}),A("/r/Typing/send",o,[r]))]:[3,2];case 1:return n.sent(),[3,3];case 2:throw t="missing parameter at [updateTypingStatus]",ht.getLoggerService().error(t),t;case 3:return[2]}var r,o})})},e.prototype.updateDraftMessage=function(e,t){t?this.draft[e]=t:delete this.draft[e],this.batchUpdateDraftToStorage()},e.prototype.getDraftMessage=function(e){if(0===Object.keys(this.draft).length){var t=ht.getStorageService().get(Ae.draft);try{this.draft=JSON.parse(t)}catch(e){}}return this.draft[e]},e.prototype.mute=function(e,t,n){return void 0===n&&(n=1),T(this,void 0,void 0,function(){var r,o,i;return S(this,function(a){switch(a.label){case 0:return[4,X(Ie(e),t)];case 1:if(200!==(r=a.sent()).code)throw i="response error at [mute]",ht.getLoggerService().error(i),i+", "+JSON.stringify(r);return o={cid:e,conversationType:n,muteNotification:t,eventTime:Date.now()},ht.getEventService().emit(xe.PaaSConversationMute,o),[2]}})})},e.prototype.setTop=function(e,t,n){return void 0===n&&(n=1),T(this,void 0,void 0,function(){var r,o,i;return S(this,function(a){switch(a.label){case 0:return[4,$(Ie(e),t)];case 1:if(200===(r=a.sent()).code)return o={cid:e,conversationType:n,topRank:r.body,eventTime:Date.now()},ht.getEventService().emit(xe.PaaSConversationSetTop,o),[2,r.body];throw i="response error at [setTop]",ht.getLoggerService().error(i),i+", "+JSON.stringify(r)}})})},e.prototype.clear=function(e,t){return void 0===t&&(t=1),T(this,void 0,void 0,function(){var n,r,o;return S(this,function(i){switch(i.label){case 0:return[4,Ce(Ie(e))];case 1:if(200!==(n=i.sent()).code)throw o="response error at [clear]",ht.getLoggerService().error(o),o+", "+JSON.stringify(n);return r={cid:e,conversationType:t,eventTime:Date.now()},ht.getEventService().emit(xe.PaaSConversationClear,r),[2]}})})},e.prototype.clearRedPoint=function(e,t){return void 0===t&&(t=1),T(this,void 0,void 0,function(){var n,r,o,i;return S(this,function(a){switch(a.label){case 0:return n=e.map(function(e){var t=s()(e,"appCid");return t?{messageId:e.messageId,cid:t}:{messageId:e.messageId,cid:e.cid}}),[4,Q(n.map(function(e){return{messageId:e.messageId,cid:Ie(e.cid||"")}}))];case 1:if(200!==(r=a.sent()).code)throw i="response error at [conv clearRedPoint]",ht.getLoggerService().error(i),i+", "+JSON.stringify(r);return o={events:n.map(function(e){return{cid:Ie(e.cid||""),conversationType:t,messageId:e.messageId,eventTime:Date.now()}})},ht.getEventService().emit(xe.PaaSConversationClearRedPoint,o),[2]}})})},e.prototype.addUserConversation=function(e){return T(this,void 0,void 0,function(){var t,n;return S(this,function(r){switch(r.label){case 0:return[4,Z(Ie(e))];case 1:if(200!==(t=r.sent()).code)throw n="response error at [conv addUserConversation]",ht.getLoggerService().error(n),n+", "+JSON.stringify(t);return[2]}})})},e.prototype.groupConversationCreate=function(e,t){var n;return T(this,void 0,void 0,function(){var r,o,i,a;return S(this,function(c){switch(c.label){case 0:return ht.getCloudVersion()&&(t=C({},e),e={},s()(t,"title")&&(t.defaultTitle=s()(t,"title"),Object.assign(t,{title:void 0})),s()(t,"icon")&&(t.iconResource=s()(t,"icon"),Object.assign(t,{icon:void 0})),r=null===(n=t.initMembers)||void 0===n?void 0:n.map(function(e){return"string"===typeof e.user?C(C({},e),{user:{uid:Ie(e.user+"")}}):e}),t=l()(t,{initMembers:{$set:r}})),[4,(u=e,d=t,void 0===f&&(f={}),A("/r/GroupChatConversation/create",f,[u,d]))];case 1:if(200===(o=c.sent()).code)return i={eventTime:Date.now(),groupUserConversationModel:Le(o.body)},ht.getEventService().emit(xe.PaaSConversationGroupChatCreate,i),[2,Le(o.body)];throw a="response error at [groupConversationCreate]",ht.getLoggerService().error(a),a+", "+JSON.stringify(o)}var u,d,f})})},e.prototype.groupConversationDismiss=function(e,t){return T(this,void 0,void 0,function(){var n,r;return S(this,function(o){switch(o.label){case 0:return ht.getCloudVersion()&&(t=e+"",e={}),[4,te(e,Ie(t))];case 1:if(200!==(n=o.sent()).code)throw r="response error at [groupConversationDismiss]",ht.getLoggerService().error(r),r+", "+JSON.stringify(n);return[2]}})})},e.prototype.groupConversationUpdateDefTitle=function(e,t,n){return T(this,void 0,void 0,function(){var r,o,i;return S(this,function(a){switch(a.label){case 0:return[4,ne(e,Ie(t),n)];case 1:if(200!==(r=a.sent()).code)throw i="response error at [groupConversationUpdateDefTitle]",ht.getLoggerService().error(i),i+", "+JSON.stringify(r);return o={eventTime:Date.now(),cid:t,title:n},ht.getEventService().emit(xe.PaaSConversationGroupChatTitleUpdated,o),[2]}})})},e.prototype.groupConversationUpdateTitle=function(e,t){return T(this,void 0,void 0,function(){return S(this,function(n){return[2,this.groupConversationUpdateDefTitle({},e,t)]})})},e.prototype.groupConversationUpdateIcon=function(e,t,n){return T(this,void 0,void 0,function(){var r,o,i;return S(this,function(a){switch(a.label){case 0:return ht.getCloudVersion()&&(n=t,t=e+"",e={}),[4,re(e,Ie(t),n)];case 1:if(200!==(r=a.sent()).code)throw i="response error at [groupConversationUpdateIcon]",ht.getLoggerService().error(i),i+", "+JSON.stringify(r);return o={eventTime:Date.now(),cid:t,icon:n},ht.getEventService().emit(xe.PaaSConversationGroupChatIconUpdated,o),[2]}})})},e.prototype.groupConversationJoin=function(e,t){var n,r,o;return T(this,void 0,void 0,function(){var i,a,c,u,d;return S(this,function(f){switch(f.label){case 0:return ht.getCloudVersion()&&(t=C({},e),e={},i=null===(n=t.initMembers)||void 0===n?void 0:n.map(function(e){return"string"===typeof e.user?C(C({},e),{user:{uid:Ie(e.user+"")}}):e}),t=l()(t,{cid:{$set:Ie(s()(t,"appCid")||"")},initMembers:{$set:i}}),Object.assign(t,{appCid:void 0})),t.cid?[4,oe(e,t)]:[3,8];case 1:if(200!==(a=f.sent()).code)return[3,6];f.label=2;case 2:return f.trys.push([2,4,,5]),[4,this.getConversation(t.cid)];case 3:return(c=f.sent()).groupChatUserConversation&&(u={eventTime:Date.now(),cid:t.cid,joinedUids:a.body,icon:(null===(r=c.groupChatUserConversation.groupChatConversation)||void 0===r?void 0:r.icon)||"",memberCount:(null===(o=c.groupChatUserConversation.groupChatConversation)||void 0===o?void 0:o.memberCount)||0},ht.getEventService().emit(xe.PaaSConversationGroupChatPeerJoined,u)),[3,5];case 4:throw f.sent(),d="response error at [groupConversationJoin.getConversation]",ht.getLoggerService().error(d),d+", "+JSON.stringify(a);case 5:return[3,7];case 6:throw d="response error at [groupConversationJoin]",ht.getLoggerService().error(d),d+", "+JSON.stringify(a);case 7:return[3,9];case 8:throw d="missing parameter at [groupConversationJoin]",ht.getLoggerService().error(d),d;case 9:return[2]}})})},e.prototype.groupConversationKick=function(e,t){var n;return T(this,void 0,void 0,function(){var r,o;return S(this,function(i){switch(i.label){case 0:return ht.getCloudVersion()&&(t=C({},e),e={},r=null===(n=t.users)||void 0===n?void 0:n.map(function(e){return{uid:Ie(e+"")}}),t=l()(t,{cid:{$set:Ie(s()(t,"appCid")||"")},users:{$set:r}}),Object.assign(t,{appCid:void 0})),t.cid&&t.users&&t.users.length>0?[4,ie(e,t)]:[3,2];case 1:return i.sent().code,[3,3];case 2:throw o="missing parameter at [groupConversationKick]",ht.getLoggerService().error(o),o;case 3:return[2]}})})},e.prototype.groupConversationLeave=function(e,t){return T(this,void 0,void 0,function(){var n,r;return S(this,function(o){switch(o.label){case 0:return ht.getCloudVersion()&&(t={appCid:e+""},e={}),s()(t,"appCid")&&(t=l()(t,{cid:{$set:Ie(s()(t,"appCid")||"")}}),Object.assign(t,{appCid:void 0})),t.cid?[4,ae(e,t)]:[3,2];case 1:return 200===o.sent().code&&(n={eventTime:Date.now(),cid:t.cid},ht.getEventService().emit(xe.PaaSConversationGroupChatLeft,n)),[3,3];case 2:throw r="missing parameter at [groupConversationLeave]",ht.getLoggerService().error(r),r;case 3:return[2]}})})},e.prototype.groupConversationListAllMembers=function(e){return T(this,void 0,void 0,function(){var t;return S(this,function(n){switch(n.label){case 0:return[4,se(Ie(e))];case 1:return t=n.sent(),[2,(200===t.code?t.body:[]).map(function(e){return C(C({},e),{uid:Pe(e.uid)})})]}})})},e.prototype.groupConversationSetOwner=function(e,t){var n,r;return T(this,void 0,void 0,function(){var o,i,a;return S(this,function(c){switch(c.label){case 0:return ht.getCloudVersion()&&(t=C({},e),e={},o={uid:Ie(t.owner+"")},t=l()(t,{cid:{$set:Ie(s()(t,"appCid")||"")},owner:{$set:o}}),Object.assign(t,{appCid:void 0})),t.cid&&(null===(n=t.owner)||void 0===n?void 0:n.uid)?[4,ce(e,t)]:[3,2];case 1:return 200===c.sent().code&&(i={eventTime:Date.now(),cid:t.cid,owner:null===(r=t.owner)||void 0===r?void 0:r.uid},ht.getEventService().emit(xe.PaaSConversationGroupOwnerModified,i)),[3,3];case 2:throw a="missing parameter at [groupConversationSetOwner]",ht.getLoggerService().error(a),a;case 3:return[2]}})})},e.prototype.updateGroupMemberNick=function(e,t){return T(this,void 0,void 0,function(){var n,r,o;return S(this,function(i){switch(i.label){case 0:return ht.getCloudVersion()&&(t=C({},e),e={},t=l()(t,{cid:{$set:Ie(s()(t,"appCid")||"")},uid:{$set:t.uid?Ie(s()(t,"uid")||""):""}}),Object.assign(t,{appCid:void 0})),t.cid&&t.uid?(""===t.groupNick&&(t.groupNick=""),[4,(a=e,c=t,void 0===u&&(u={}),A("/r/GroupChatMember/updateGroupMemberNick",u,[a,c]))]):[3,2];case 1:return 200===(null===(n=i.sent())||void 0===n?void 0:n.code)&&(r={eventTime:Date.now(),uid:t.uid,nick:t.groupNick||""},ht.getCloudVersion()?r.appCid=t.cid:r.cid=t.cid,ht.getEventService().emit(xe.PaaSConversationGroupMemberNickModified,r)),[3,3];case 2:throw o="missing parameter at [updateGroupMemberNick]",ht.getLoggerService().error(o),o;case 3:return[2]}var a,c,u})})},e.prototype.updateRole=function(e,t){return T(this,void 0,void 0,function(){var n;return S(this,function(r){switch(r.label){case 0:return ht.getCloudVersion()&&(t=C({},e),e={},t=l()(t,{cid:{$set:Ie(s()(t,"appCid")||"")},users:{$set:t.users?t.users.map(function(e){return{uid:Ie(e+"")}}):[]}}),Object.assign(t,{appCid:void 0})),t.cid&&t.users?[4,(o=e,i=t,void 0===a&&(a={}),A("/r/GroupChatMember/updateRole",a,[o,i]))]:[3,2];case 1:return r.sent(),[3,3];case 2:throw n="missing parameter at [updateRole]",ht.getLoggerService().error(n),n;case 3:return[2]}var o,i,a})})},e.prototype.getMembers=function(e,t){return T(this,void 0,void 0,function(){var n,r;return S(this,function(o){switch(o.label){case 0:return e&&t.length?[4,ue(Ie(e),t.map(function(e){return Ie(e)}))]:[3,2];case 1:return 200===(n=o.sent()).code?[2,n.body]:[2,Promise.reject(n)];case 2:throw r="missing parameter at [updateRole]",ht.getLoggerService().error(r),r}})})},e.prototype.groupConversationSetPermissionModel=function(e,t){return T(this,void 0,void 0,function(){var n;return S(this,function(r){switch(r.label){case 0:return ht.getCloudVersion()&&(t=C({},e),e={}),s()(t,"appCid")&&(t=l()(t,{cid:{$set:Ie(s()(t,"appCid")||"")}})),t.cid&&t.permissionGroup?[4,le(e,t)]:[3,2];case 1:return r.sent(),[3,3];case 2:throw n="missing parameter at [groupConversationSetPermissionModel]",ht.getLoggerService().error(n),n;case 3:return[2]}})})},e.prototype.groupConversationSilenceAll=function(e,t){return T(this,void 0,void 0,function(){var n;return S(this,function(r){switch(r.label){case 0:return ht.getCloudVersion()&&(t=e+"",e={}),[4,de(e,Ie(t))];case 1:return r.sent(),n={eventTime:Date.now(),cid:t,silenceAll:1},ht.getEventService().emit(xe.PaaSConversationGroupChatAllSilenced,n),[2]}})})},e.prototype.groupConversationCancelSilenceAll=function(e,t){return T(this,void 0,void 0,function(){var n;return S(this,function(r){switch(r.label){case 0:return ht.getCloudVersion()&&(t=e+"",e={}),[4,fe(e,Ie(t))];case 1:return r.sent(),n={eventTime:Date.now(),cid:t,silenceAll:0},ht.getEventService().emit(xe.PaaSConversationGroupChatAllSilenced,n),[2]}})})},e.prototype.groupConversationSilenceAddWhitelist=function(e,t){var n;return T(this,void 0,void 0,function(){return S(this,function(r){switch(r.label){case 0:return ht.getCloudVersion()&&(t=C({},e),e={},t.members=null===(n=t.members)||void 0===n?void 0:n.map(function(e){return{uid:Ie(e+"")}})),s()(t,"appCid")&&(t=l()(t,{cid:{$set:Ie(s()(t,"appCid")||"")}})),[4,pe(e,t)];case 1:return r.sent(),[2]}})})},e.prototype.groupConversationSilenceRemoveWhitelist=function(e,t){var n;return T(this,void 0,void 0,function(){return S(this,function(r){switch(r.label){case 0:return ht.getCloudVersion()&&(t=C({},e),e={},t.members=null===(n=t.members)||void 0===n?void 0:n.map(function(e){return{uid:Ie(e+"")}})),s()(t,"appCid")&&(t=l()(t,{cid:{$set:Ie(s()(t,"appCid")||"")}})),[4,me(e,t)];case 1:return r.sent(),[2]}})})},e.prototype.groupConversationSilenceAddBlacklist=function(e,t){var n;return T(this,void 0,void 0,function(){return S(this,function(r){switch(r.label){case 0:return ht.getCloudVersion()&&(t=C({},e),e={},t.members=null===(n=t.members)||void 0===n?void 0:n.map(function(e){return{uid:Ie(e+"")}})),s()(t,"appCid")&&(t=l()(t,{cid:{$set:Ie(s()(t,"appCid")||"")}})),[4,ge(e,t)];case 1:return r.sent(),[2]}})})},e.prototype.groupConversationSilenceRemoveBlacklist=function(e,t){var n;return T(this,void 0,void 0,function(){return S(this,function(r){switch(r.label){case 0:return ht.getCloudVersion()&&(t=C({},e),e={},t.members=null===(n=t.members)||void 0===n?void 0:n.map(function(e){return{uid:Ie(e+"")}})),s()(t,"appCid")&&(t=l()(t,{cid:{$set:Ie(s()(t,"appCid")||"")}})),[4,he(e,t)];case 1:return r.sent(),[2]}})})},e.prototype.groupConversationSilenceInfoGet=function(e){return T(this,void 0,void 0,function(){var t,n,r,o;return S(this,function(i){switch(i.label){case 0:return[4,ve(Ie(e))];case 1:if(200===(t=i.sent()).code)return ht.getCloudVersion()?(n=Pe(t.body.cid),r=l()(t.body,{$unset:["cid"],blacklistInfo:{$apply:function(e){return C(C({},e),{uid:Pe(e.uid),operateUid:Pe(e.operateUid)})}},whitelistInfo:{$apply:function(e){return C(C({},e),{uid:Pe(e.uid),operateUid:Pe(e.operateUid)})}}}),Object.assign(r,{appCid:n}),[2,r]):[2,t.body];throw o="response error at [groupConversationSilenceInfoGet]",ht.getLoggerService().error(o,t),o+", "+JSON.stringify(t)}})})},e.prototype.simpleListNewest=function(e){return T(this,void 0,void 0,function(){var t,n;return S(this,function(r){switch(r.label){case 0:return[4,(o=e,void 0===i&&(i={}),A("/r/Conversation/simpleListNewest",i,[o]))];case 1:if(200===(t=r.sent()).code)return[2,t.body.userConvModels||[]];throw n="response error at [simpleListNewest]",ht.getLoggerService().error(n,t),n+", "+JSON.stringify(t)}var o,i})})},e}(),Ve=function(){function e(){}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.succes=function(e,t,n){},e.prototype.fail=function(e,t,n,r,o){},e.prototype.count=function(e,t,n,r){},e}(),We=function(e,t){return void 0===t&&(t={}),A("/r/SyncStatus/getState",t,[e])},He=function(e,t){return void 0===t&&(t={}),A("/r/SyncStatus/ackDiff",t,[e])},Ye="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function ze(e){var t={exports:{}};return e(t,t.exports),t.exports}var Je=ze(function(e){!function(t){function n(e,t,n){return t<=e&&e<=n}function r(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}var o=-1;function i(e){this.tokens=[].slice.call(e),this.tokens.reverse()}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():o},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.pop());else this.tokens.push(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.shift());else this.tokens.unshift(e)}};var a=-1;function s(e,t){if(e)throw TypeError("Decoder error");return t||65533}function c(e){return e=String(e).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(u,e)?u[e]:null}var u={};[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"}].forEach(function(e){e.encodings.forEach(function(e){e.labels.forEach(function(t){u[t]=e})})});var l={},d={},f="utf-8";function p(e,t){if(!(this instanceof p))throw TypeError("Called as a function. Did you forget 'new'?");e=void 0!==e?String(e):f,t=r(t),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var n=c(e);if(null===n||"replacement"===n.name)throw RangeError("Unknown encoding: "+e);if(!d[n.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js?");var o=this;return o._encoding=n,Boolean(t.fatal)&&(o._error_mode="fatal"),Boolean(t.ignoreBOM)&&(o._ignoreBOM=!0),Object.defineProperty||(this.encoding=o._encoding.name.toLowerCase(),this.fatal="fatal"===o._error_mode,this.ignoreBOM=o._ignoreBOM),o}function m(e,n){if(!(this instanceof m))throw TypeError("Called as a function. Did you forget 'new'?");n=r(n),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(n.fatal)?"fatal":"replacement";var o=this;if(Boolean(n.NONSTANDARD_allowLegacyEncoding)){var i=c(e=void 0!==e?String(e):f);if(null===i||"replacement"===i.name)throw RangeError("Unknown encoding: "+e);if(!l[i.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js?");o._encoding=i}else o._encoding=c("utf-8"),void 0!==e&&"console"in t&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=o._encoding.name.toLowerCase()),o}function g(e){var t=e.fatal,r=0,i=0,c=0,u=128,l=191;this.handler=function(e,d){if(d===o&&0!==c)return c=0,s(t);if(d===o)return a;if(0===c){if(n(d,0,127))return d;if(n(d,194,223))c=1,r=31&d;else if(n(d,224,239))224===d&&(u=160),237===d&&(l=159),c=2,r=15&d;else{if(!n(d,240,244))return s(t);240===d&&(u=144),244===d&&(l=143),c=3,r=7&d}return null}if(!n(d,u,l))return r=c=i=0,u=128,l=191,e.prepend(d),s(t);if(u=128,l=191,r=r<<6|63&d,(i+=1)!==c)return null;var f=r;return r=c=i=0,f}}function h(e){e.fatal,this.handler=function(e,t){if(t===o)return a;if(n(t,0,127))return t;var r,i;n(t,128,2047)?(r=1,i=192):n(t,2048,65535)?(r=2,i=224):n(t,65536,1114111)&&(r=3,i=240);for(var s=[(t>>6*r)+i];r>0;){var c=t>>6*(r-1);s.push(128|63&c),r-=1}return s}}Object.defineProperty&&(Object.defineProperty(p.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(p.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(p.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),p.prototype.decode=function(e,t){var n;n="object"===typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=r(t),this._do_not_flush||(this._decoder=d[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(t.stream);for(var s,c=new i(n),u=[];;){var l=c.read();if(l===o)break;if((s=this._decoder.handler(c,l))===a)break;null!==s&&(Array.isArray(s)?u.push.apply(u,s):u.push(s))}if(!this._do_not_flush){do{if((s=this._decoder.handler(c,c.read()))===a)break;null!==s&&(Array.isArray(s)?u.push.apply(u,s):u.push(s))}while(!c.endOfStream());this._decoder=null}return function(e){var t,n;return t=["UTF-8","UTF-16LE","UTF-16BE"],n=this._encoding.name,-1===t.indexOf(n)||this._ignoreBOM||this._BOMseen||(e.length>0&&65279===e[0]?(this._BOMseen=!0,e.shift()):e.length>0&&(this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(e)}.call(this,u)},Object.defineProperty&&Object.defineProperty(m.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),m.prototype.encode=function(e,t){e=e?String(e):"",t=r(t),this._do_not_flush||(this._encoder=l[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(t.stream);for(var n,s=new i(function(e){for(var t=String(e),n=t.length,r=0,o=[];r<n;){var i=t.charCodeAt(r);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)o.push(65533);else{var a=e.charCodeAt(r+1);if(56320<=a&&a<=57343){var s=1023&i,c=1023&a;o.push(65536+(s<<10)+c),r+=1}else o.push(65533)}r+=1}return o}(e)),c=[];;){var u=s.read();if(u===o)break;if((n=this._encoder.handler(s,u))===a)break;Array.isArray(n)?c.push.apply(c,n):c.push(n)}if(!this._do_not_flush){for(;(n=this._encoder.handler(s,s.read()))!==a;)Array.isArray(n)?c.push.apply(c,n):c.push(n);this._encoder=null}return new Uint8Array(c)},l["UTF-8"]=function(e){return new h(e)},d["UTF-8"]=function(e){return new g(e)},t.TextEncoder||(t.TextEncoder=m),t.TextDecoder||(t.TextDecoder=p),e.exports&&(e.exports={TextEncoder:t.TextEncoder,TextDecoder:t.TextDecoder})}(Ye||{})}),$e={TextEncoder:Je.TextEncoder,TextDecoder:Je.TextDecoder},Ke=ze(function(e,t){function n(e,t,n){e.byteLength;for(var r=0,o=n.length;r<o;r++){var i=n.charCodeAt(r);if(i<128)e.setUint8(t++,i>>>0&127);else if(i<2048)e.setUint8(t++,i>>>6&31|192),e.setUint8(t++,i>>>0&63|128);else if(i<65536)e.setUint8(t++,i>>>12&15|224),e.setUint8(t++,i>>>6&63|128),e.setUint8(t++,i>>>0&63|128);else{if(!(i<1114112))throw new Error("bad codepoint "+i);e.setUint8(t++,i>>>18&7|240),e.setUint8(t++,i>>>12&63|128),e.setUint8(t++,i>>>6&63|128),e.setUint8(t++,i>>>0&63|128)}}}function r(e,t,n){var r="",o=e.buffer.slice(t,t+n);if(void 0!==o){if("undefined"!==typeof TextDecoder)try{r=new TextDecoder("utf-8",{fatal:!0}).decode(o)}catch(e){}if(""===r)try{r=new $e.TextDecoder("utf-8",{fatal:!0}).decode(o)}catch(e){}}return r||o}function o(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t+=1;else if(o<2048)t+=2;else if(o<65536)t+=3;else{if(!(o<1114112))throw new Error("bad codepoint "+o);t+=4}}return t}function i(e,t,n){this.offset=t||0,this.view=e,this.bytes=n}function a(e,t,r){var i=typeof e;if("string"===i){if((s=o(e))<32)return t.setUint8(r,160|s),n(t,r+1,e),1+s;if(s<65536)return t.setUint8(r,218),t.setUint16(r+1,s),n(t,r+3,e),3+s;if(s<4294967296)return t.setUint8(r,219),t.setUint32(r+1,s),n(t,r+5,e),5+s}if(e instanceof ArrayBuffer){if((s=e.byteLength)<65536)return t.setUint8(r,216),t.setUint16(r+1,s),new Uint8Array(t.buffer).set(new Uint8Array(e),r+3),3+s;if(s<4294967296)return t.setUint8(r,217),t.setUint32(r+1,s),new Uint8Array(t.buffer).set(new Uint8Array(e),r+5),5+s}if("number"===i){if((e|0)!==e)return t.setUint8(r,203),t.setFloat64(r+1,e),9;if(e>=0){if(e<128)return t.setUint8(r,e),1;if(e<256)return t.setUint8(r,204),t.setUint8(r+1,e),2;if(e<65536)return t.setUint8(r,205),t.setUint16(r+1,e),3;if(e<4294967296)return t.setUint8(r,206),t.setUint32(r+1,e),5;throw new Error("Number too big 0x"+e.toString(16))}if(e>=-32)return t.setInt8(r,e),1;if(e>=-128)return t.setUint8(r,208),t.setInt8(r+1,e),2;if(e>=-32768)return t.setUint8(r,209),t.setInt16(r+1,e),3;if(e>=-2147483648)return t.setUint8(r,210),t.setInt32(r+1,e),5;throw new Error("Number too small -0x"+(-e).toString(16).substr(1))}if("undefined"===i)return t.setUint8(r,196),1;if(null===e)return t.setUint8(r,192),1;if("boolean"===i)return t.setUint8(r,e?195:194),1;if("object"===i){var s,c=0,u=Array.isArray(e);if(u)s=e.length;else{var l=Object.keys(e);s=l.length}if(s<16?(t.setUint8(r,s|(u?144:128)),c=1):s<65536?(t.setUint8(r,u?220:222),t.setUint16(r+1,s),c=3):s<4294967296&&(t.setUint8(r,u?221:223),t.setUint32(r+1,s),c=5),u)for(var d=0;d<s;d++)c+=a(e[d],t,r+c);else for(d=0;d<s;d++){var f=l[d];c+=a(f,t,r+c),c+=a(e[f],t,r+c)}return c}throw new Error("Unknown type "+i)}function s(e){var t=typeof e;if("string"===t){if((n=o(e))<32)return 1+n;if(n<65536)return 3+n;if(n<4294967296)return 5+n}if(e instanceof ArrayBuffer){if((n=e.byteLength)<65536)return 3+n;if(n<4294967296)return 5+n}if("number"===t){if((e|0)!==e)return 9;if(e>=0){if(e<128)return 1;if(e<256)return 2;if(e<65536)return 3;if(e<4294967296)return 5;if(e<0x10000000000000000)return 9;throw new Error("Number too big 0x"+e.toString(16))}if(e>=-32)return 1;if(e>=-128)return 2;if(e>=-32768)return 3;if(e>=-2147483648)return 5;if(e>=-0x8000000000000000)return 9;throw new Error("Number too small -0x"+e.toString(16).substr(1))}if("boolean"===t||"undefined"===t||null===e)return 1;if("object"===t){var n,r=0;if(Array.isArray(e)){n=e.length;for(var i=0;i<n;i++)r+=s(e[i])}else{var a=Object.keys(e);n=a.length;for(i=0;i<n;i++){var c=a[i];r+=s(c)+s(e[c])}}if(n<16)return 1+r;if(n<65536)return 3+r;if(n<4294967296)return 5+r;throw new Error("Array or object too long 0x"+n.toString(16))}throw new Error("Unknown type "+t)}t.inspect=function(e){if(void 0===e)return"undefined";var t,n;e instanceof ArrayBuffer?(n="ArrayBuffer",t=new DataView(e)):e instanceof DataView&&(n="DataView",t=e);if(!t)return JSON.stringify(e);for(var r=[],o=0;o<e.byteLength;o++){if(o>20){r.push("...");break}var i=t.getUint8(o).toString(16);1===i.length&&(i="0"+i),r.push(i)}return"<"+n+" "+r.join(" ")+">"},t.utf8Write=n,t.utf8Read=r,t.utf8ByteCount=o,t.encode=function(e){var t=new ArrayBuffer(s(e));return a(e,new DataView(t),0),t},t.decode=function(e){var t=e.buffer,n=new i(new DataView(t),0,e),r=n.parse();if(n.offset!==t.byteLength)throw new Error(t.byteLength-n.offset+" trailing bytes");return r},i.prototype.map=function(e){for(var t={},n=0;n<e;n++){t[this.parse()]=this.parse()}return t},i.prototype.buf=function(e){var t=new ArrayBuffer(e);return new Uint8Array(t).set(new Uint8Array(this.view.buffer,this.offset,e),0),this.offset+=e,t},i.prototype.raw=function(e){var t=r(this.view,this.offset,e);return this.offset+=e,t},i.prototype.array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this.parse();return t},i.prototype.parse=function(){var e,t,n=this.view.getUint8(this.offset);if(160===(224&n))return t=31&n,this.offset++,this.raw(t);if(128===(240&n))return t=15&n,this.offset++,this.map(t);if(144===(240&n))return t=15&n,this.offset++,this.array(t);if(0===(128&n))return this.offset++,n;if(224===(224&n))return e=this.view.getInt8(this.offset),this.offset++,e;switch(n){case 218:return t=this.view.getUint16(this.offset+1),this.offset+=3,this.raw(t);case 219:return t=this.view.getUint32(this.offset+1),this.offset+=5,this.raw(t);case 192:return this.offset++,null;case 194:return this.offset++,!1;case 195:return this.offset++,!0;case 196:return void this.offset++;case 204:return e=this.view.getUint8(this.offset+1),this.offset+=2,e;case 205:return e=this.view.getUint16(this.offset+1),this.offset+=3,e;case 206:return e=this.view.getUint32(this.offset+1),this.offset+=5,e;case 208:return e=this.view.getInt8(this.offset+1),this.offset+=2,e;case 209:return e=this.view.getInt16(this.offset+1),this.offset+=3,e;case 210:return e=this.view.getInt32(this.offset+1),this.offset+=5,e;case 211:return e=this.view.getBigInt64?this.view.getBigInt64(this.offset+1):4294967296*this.view.getInt32(this.offset+1)+this.view.getUint32(this.offset+5),this.offset+=9,e;case 222:return t=this.view.getUint16(this.offset+1),this.offset+=3,this.map(t);case 223:return t=this.view.getUint32(this.offset+1),this.offset+=5,this.map(t);case 220:return t=this.view.getUint16(this.offset+1),this.offset+=3,this.array(t);case 221:return t=this.view.getUint32(this.offset+1),this.offset+=5,this.array(t);case 216:return t=this.view.getUint16(this.offset+1),this.offset+=3,this.buf(t);case 217:return t=this.view.getUint32(this.offset+1),this.offset+=5,this.buf(t);case 202:return e=this.view.getFloat32(this.offset+1),this.offset+=5,e;case 203:return e=this.view.getFloat64(this.offset+1),this.offset+=9,e;case 207:var r=this.bytes;return this.offset++,4294967296*(16777216*r[this.offset++]+(r[this.offset++]<<16)+(r[this.offset++]<<8)+r[this.offset++])+16777216*r[this.offset++]+(r[this.offset++]<<16)+(r[this.offset++]<<8)+r[this.offset++]}throw new Error("Unknown type 0x"+n.toString(16))};var c=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),u=String.fromCharCode,l=function(e){var t=e.length,n=t%4,r=(t>0?c[e.charAt(0)]<<18:0)|(t>1?c[e.charAt(1)]<<12:0)|(t>2?c[e.charAt(2)]<<6:0)|(t>3?c[e.charAt(3)]:0),o=[u(r>>>16),u(r>>>8&255),u(255&r)];return o.length-=[0,0,2,1][n],o.join("")},d="undefined"!==typeof window&&window.atob?function(e){return window.atob(e)}:function(e){return e.replace(/[\s\S]{1,4}/g,l)};t.decodeFromB64=function(e){for(var n=d(e),r=n.length,o=new Uint8Array(r),i=0;i<r;i++){var a=n.charCodeAt(i);o[i]=a}return t.decode(o)}}),Xe=function(){function e(e,t){var n=this;this.syncHandlers={},this.topicName=e,t&&Object.keys(t).forEach(function(e){n.registerHandler(parseInt(e,10),t[e])}),this.handlePush=this.handlePush.bind(this)}return e.prototype.registerHandler=function(e,t){this.syncHandlers[e+""]=t},e.prototype.unRegisterHandler=function(e){delete this.syncHandlers[e+""]},e.prototype.handlePush=function(e){var t,n;return T(this,void 0,void 0,function(){var r,o=this;return S(this,function(i){return r=e.body,1===(null===(t=null===r||void 0===r?void 0:r.syncExtraType)||void 0===t?void 0:t.type)||2===(null===(n=null===r||void 0===r?void 0:r.syncExtraType)||void 0===n?void 0:n.type)?We({topic:"sync"}).then(function(e){return 200===e.code&&e.body?He(e.body):Promise.reject(e)}).catch(function(e){ht.getLoggerService().error("error at sync isToolong2",e)}):setTimeout(function(){var e;if("/s/session/remove"===o.topicName)try{var t=o.syncHandlers[0];t&&t(r)}catch(e){ht.getLoggerService().error("error at handle push "+o.topicName,e)}((null===(e=r.syncPushPackage)||void 0===e?void 0:e.data)||[]).sort(function(e,t){return(e.objectType||0)-(t.objectType||0)}).forEach(function(e){void 0===e&&(e={});var t=e.bizType,n=e.data,r=e.objectType;if(n&&r&&t)try{var i="string"===typeof n?Ke.decodeFromB64(n):n,a=o.syncHandlers[r+""];a&&a(i)}catch(e){ht.getLoggerService().error("error at decode64 "+r,e)}})},0),[2,{code:200,headers:{},body:{}}]})})},e}(),Qe=new(function(){function e(e){this.keys=this.processDef(e)}return e.prototype.processDef=function(e){var t={},n=e.models||{};return Object.keys(n).forEach(function(e){var r={};Object.keys(n[e].def).forEach(function(t){var o=n[e].def[t];r[o.keyNum+""]={type:o.itemType,name:t}}),t[e]={keys:r}}),t},e.prototype.padding=function(e,t){var n=this,r={};if(t&&this.keys[e]){var o=this.keys[e].keys;Object.keys(t).forEach(function(e){var i=e+"";if(o[i]){var a=o[i].name,s=o[i].type,c=void 0;c=1===s.length?n.keys[s[0]]?n.padding(s[0],t[e]):t[e]:"list"===s[0]&&n.keys[s[1]]?t[e].map(function(e){return n.padding(s[1],e)}):t[e],r[a]=c}})}return r},e}())({moduleName:"impaas",models:{SingleChatConversationModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:""},pairFirst:{keyName:"pairFirst",keyNum:"2",itemType:["string"],comment:"//单聊会话uid之一"},pairSecond:{keyName:"pairSecond",keyNum:"3",itemType:["string"],comment:"//单聊会话uid之一"},createAt:{keyName:"createAt",keyNum:"4",itemType:["long"],comment:"//会话创建时间ms"},bizType:{keyName:"bizType",keyNum:"5",itemType:["string"],comment:"//业务自定义标签"},extension:{keyName:"extension",keyNum:"6",itemType:["map","string","string"],comment:"//业务扩展信息"},msgReadStatusSetting:{keyName:"msgReadStatusSetting",keyNum:"7",itemType:["int"],comment:"//已读标记 1:有已读状态 2:无已读状态"}},COMMENT:""},UserConversationPrivateInfoModel:{def:{visible:{keyName:"visible",keyNum:"1",itemType:["int"],comment:"//1-首屏显示，0-首屏不显示"},topRank:{keyName:"topRank",keyNum:"2",itemType:["long"],comment:"//置顶值"},redPoint:{keyName:"redPoint",keyNum:"3",itemType:["int"],comment:"//红点数量"},muteNotification:{keyName:"muteNotification",keyNum:"4",itemType:["int"],comment:"//1-免打扰开启，0-免打扰关闭"}},COMMENT:""},SingleChatUserConversationModel:{def:{singleChatConversation:{keyName:"singleChatConversation",keyNum:"1",itemType:["SingleChatConversationModel"],comment:""},visible:{keyName:"visible",keyNum:"2",itemType:["int"],comment:"//1-首屏显示，0-首屏不显示"},topRank:{keyName:"topRank",keyNum:"3",itemType:["long"],comment:"//置顶值"},redPoint:{keyName:"redPoint",keyNum:"4",itemType:["int"],comment:"//红点数量"},muteNotification:{keyName:"muteNotification",keyNum:"5",itemType:["int"],comment:"//1-免打扰开启，0-免打扰关闭"},joinTime:{keyName:"joinTime",keyNum:"6",itemType:["long"],comment:"//会话加入时间"},modifyTime:{keyName:"modifyTime",keyNum:"7",itemType:["long"],comment:"//会话变更时间"},lastMessage:{keyName:"lastMessage",keyNum:"8",itemType:["UserMessageModel"],comment:"//会话最后一条消息"},user_extension:{keyName:"user_extension",keyNum:"9",itemType:["map","string","string"],comment:"//会话UserExtension"},utags:{keyName:"utags",keyNum:"10",itemType:["map","string","list","string"],comment:"// 会话utags"},parent_id:{keyName:"parent_id",keyNum:"11",itemType:["string"],comment:"// 父会话id"},last_message_time:{keyName:"last_message_time",keyNum:"12",itemType:["long"],comment:"// 最后一条消息时间"},conversationVersion:{keyName:"conversationVersion",keyNum:"13",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},UserConversationModel:{def:{type:{keyName:"type",keyNum:"1",itemType:["int"],comment:"//会话类型1-单聊，2-群聊"},singleChatUserConversation:{keyName:"singleChatUserConversation",keyNum:"2",itemType:["SingleChatUserConversationModel"],comment:""},groupChatUserConversation:{keyName:"groupChatUserConversation",keyNum:"3",itemType:["GroupChatUserConversationModel"],comment:""}},COMMENT:""},ListNewestPaginationResultModel:{def:{userConvs:{keyName:"userConvs",keyNum:"1",itemType:["list","UserConversationModel"],comment:""},hasMore:{keyName:"hasMore",keyNum:"2",itemType:["bool"],comment:""},nextCursor:{keyName:"nextCursor",keyNum:"3",itemType:["long"],comment:""}},COMMENT:""},SingleChatConversationUserOptionModel:{def:{extension:{keyName:"extension",keyNum:"1",itemType:["map","string","string"],comment:"// 业务扩展信息"},hide:{keyName:"hide",keyNum:"2",itemType:["int"],comment:"// 1-会话隐藏，0-会话展示"},redPoint:{keyName:"redPoint",keyNum:"3",itemType:["int"],comment:""},mute:{keyName:"mute",keyNum:"4",itemType:["int"],comment:"// 1-免打扰开启，0-免打扰关闭"},utags:{keyName:"utags",keyNum:"5",itemType:["map","string","list","string"],comment:""}},COMMENT:""},CreateSingleChatConversationOptionModel:{def:{options:{keyName:"options",keyNum:"1",itemType:["map","string","SingleChatConversationUserOptionModel"],comment:""},ctags:{keyName:"ctags",keyNum:"2",itemType:["map","string","list","string"],comment:""},msgReadStatusSetting:{keyName:"msgReadStatusSetting",keyNum:"3",itemType:["int"],comment:"// 1: 有已读状态 2: 无已读状态"}},COMMENT:""},RestoreSingleChatConversationModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"// 会话id，domain内唯一"},createTime:{keyName:"createTime",keyNum:"2",itemType:["long"],comment:"// 会话创建时间"},extension:{keyName:"extension",keyNum:"3",itemType:["map","string","string"],comment:"// 会话extension"}},COMMENT:""},CreateSingleChatConversationModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"//会话id，domain内唯一"},pairFirst:{keyName:"pairFirst",keyNum:"2",itemType:["string"],comment:"//单聊会话uid之一"},pairSecond:{keyName:"pairSecond",keyNum:"3",itemType:["string"],comment:"//单聊会话uid之一"},bizType:{keyName:"bizType",keyNum:"4",itemType:["string"],comment:"//业务自定义标签"},extension:{keyName:"extension",keyNum:"5",itemType:["map","string","string"],comment:"//业务扩展信息"},ctx:{keyName:"ctx",keyNum:"6",itemType:["map","string","string"],comment:""},pair_first_parent_id:{keyName:"pair_first_parent_id",keyNum:"7",itemType:["string"],comment:""},pair_second_parent_id:{keyName:"pair_second_parent_id",keyNum:"8",itemType:["string"],comment:""}},COMMENT:""},SingleChatConversationOptionModel:{def:{userOption:{keyName:"userOption",keyNum:"1",itemType:["map","string","SingleChatConversationUserOptionModel"],comment:"// 每个人的option内容"}},COMMENT:""},AddUserConversationModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:""},uids:{keyName:"uids",keyNum:"2",itemType:["list","string"],comment:""},convOption:{keyName:"convOption",keyNum:"3",itemType:["SingleChatConversationOptionModel"],comment:""}},COMMENT:""},UidExModel:{def:{uid:{keyName:"uid",keyNum:"1",itemType:["string"],comment:""},tag:{keyName:"tag",keyNum:"2",itemType:["long"],comment:""}},COMMENT:""},MessageModel:{def:{sender:{keyName:"sender",keyNum:"1",itemType:["UidExModel"],comment:""},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},messageId:{keyName:"messageId",keyNum:"3",itemType:["string"],comment:""},displayStyle:{keyName:"displayStyle",keyNum:"4",itemType:["int"],comment:"//1-用户消息，2-系统生成的消息"},createAt:{keyName:"createAt",keyNum:"5",itemType:["long"],comment:""},content:{keyName:"content",keyNum:"6",itemType:["ContentModel"],comment:""},receiverCount:{keyName:"receiverCount",keyNum:"7",itemType:["int"],comment:"//消息接收人数"},unreadCount:{keyName:"unreadCount",keyNum:"8",itemType:["int"],comment:"//消息未读人数"},redPointPolicy:{keyName:"redPointPolicy",keyNum:"9",itemType:["int"],comment:"//0-表示默认（以会话的mute_notification为准, 1表示不增加红点数）"},extension:{keyName:"extension",keyNum:"10",itemType:["map","string","string"],comment:""},receivers:{keyName:"receivers",keyNum:"11",itemType:["list","string"],comment:""},msgReadStatusSetting:{keyName:"msgReadStatusSetting",keyNum:"12",itemType:["int"],comment:"// 1: 有已读状态 2: 无已读状态"}},COMMENT:""},ConversationVersionModel:{def:{convVersion:{keyName:"convVersion",keyNum:"1",itemType:["long"],comment:""},memberVersion:{keyName:"memberVersion",keyNum:"2",itemType:["long"],comment:"//仅群聊有值"}},COMMENT:""},UserMessageModel:{def:{message:{keyName:"message",keyNum:"1",itemType:["MessageModel"],comment:""},readStatus:{keyName:"readStatus",keyNum:"2",itemType:["int"],comment:"//接收者是否读消息2-已读，其他未读"},userExtension:{keyName:"userExtension",keyNum:"3",itemType:["map","string","string"],comment:""},msgStatus:{keyName:"msgStatus",keyNum:"4",itemType:["int"],comment:"//消息状态。0-删除,1-正常, 2-撤回，3-指定接收者删除, 4-消息降级(拉首屏专用)"},recallFeature:{keyName:"recallFeature",keyNum:"5",itemType:["RecallFeatureModel"],comment:""},conversationVersion:{keyName:"conversationVersion",keyNum:"6",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},ListUserMessageResultModel:{def:{userMessageModels:{keyName:"userMessageModels",keyNum:"1",itemType:["list","UserMessageModel"],comment:"// 用户消息列表"},nextCursor:{keyName:"nextCursor",keyNum:"2",itemType:["long"],comment:"// 返回这次请求的last cursor,下一次请求的时候原值传入"},hasMore:{keyName:"hasMore",keyNum:"3",itemType:["bool"],comment:"// 是否还存在后续分页数据"},degradeFailover:{keyName:"degradeFailover",keyNum:"4",itemType:["bool"],comment:"// 客户端是否降级Failover防止系统冲击"}},COMMENT:""},ContentModel:{def:{contentType:{keyName:"contentType",keyNum:"1",itemType:["int"],comment:"// 9-文件消息, 10-引用回复, 11-合并转发"},text:{keyName:"text",keyNum:"2",itemType:["TextContentModel"],comment:""},custom:{keyName:"custom",keyNum:"3",itemType:["CustomContentModel"],comment:""},photo:{keyName:"photo",keyNum:"4",itemType:["PhotoContentModel"],comment:""},audio:{keyName:"audio",keyNum:"5",itemType:["AudioContentModel"],comment:""},video:{keyName:"video",keyNum:"6",itemType:["VideoContentModel"],comment:""},geo:{keyName:"geo",keyNum:"7",itemType:["GeoContentModel"],comment:""},structContent:{keyName:"structContent",keyNum:"8",itemType:["StructContentModel"],comment:""},link:{keyName:"link",keyNum:"9",itemType:["LinkContentModel"],comment:""},fileContent:{keyName:"fileContent",keyNum:"10",itemType:["FileContentModel"],comment:""},replyContent:{keyName:"replyContent",keyNum:"11",itemType:["ReplyContentModel"],comment:""},combineForwardContent:{keyName:"combineForwardContent",keyNum:"12",itemType:["CombineForwardContentModel"],comment:""}},COMMENT:""},TextContentModel:{def:{content:{keyName:"content",keyNum:"1",itemType:["string"],comment:""},extension:{keyName:"extension",keyNum:"2",itemType:["map","string","string"],comment:""}},COMMENT:""},CustomContentModel:{def:{title:{keyName:"title",keyNum:"1",itemType:["string"],comment:""},summary:{keyName:"summary",keyNum:"2",itemType:["string"],comment:""},degrade:{keyName:"degrade",keyNum:"3",itemType:["string"],comment:""},type:{keyName:"type",keyNum:"4",itemType:["int"],comment:""},data:{keyName:"data",keyNum:"5",itemType:["byte[]"],comment:""}},COMMENT:""},PhotoContentModel:{def:{mediaId:{keyName:"mediaId",keyNum:"1",itemType:["string"],comment:""},picSize:{keyName:"picSize",keyNum:"2",itemType:["long"],comment:"// * 原始图片大小"},type:{keyName:"type",keyNum:"3",itemType:["int"],comment:"// * 图片类型，自定义"},picBytes:{keyName:"picBytes",keyNum:"4",itemType:["byte[]"],comment:"// * 缩略图数据，需要控制数据大小, 只是下行使用"},fileType:{keyName:"fileType",keyNum:"5",itemType:["int"],comment:"// * 图片类型 1-webp, 2-png, 3-jpg, 4-gif, 目前只有webp，只是下行使用"},orientation:{keyName:"orientation",keyNum:"6",itemType:["int"],comment:"// * 图片方向，1-normal, 2-flip_horizontal, 3-rotate_180, 4-flip_vertical, 5-transpose, 6-rotate_90, 7-transverse, 8-rotate_270"},extension:{keyName:"extension",keyNum:"7",itemType:["map","string","string"],comment:"//第三方扩展"},filename:{keyName:"filename",keyNum:"8",itemType:["string"],comment:"// 图片文件名"},md5:{keyName:"md5",keyNum:"9",itemType:["string"],comment:"// 图片md5"}},COMMENT:""},AudioContentModel:{def:{mediaId:{keyName:"mediaId",keyNum:"1",itemType:["string"],comment:"// * mediaId"},duration:{keyName:"duration",keyNum:"2",itemType:["long"],comment:"// * 语音时长"},audioBytes:{keyName:"audioBytes",keyNum:"3",itemType:["byte[]"],comment:"// * opus语音数据，需要控制数据大小100k, 只是下行使用"},md5:{keyName:"md5",keyNum:"4",itemType:["string"],comment:"// 语音md5"},fileType:{keyName:"fileType",keyNum:"5",itemType:["int"],comment:"// 语音文件类型, -1: Unknown; 0: OPUS; 1: OGG; 2:AMR"}},COMMENT:""},GeoContentModel:{def:{picMediaId:{keyName:"picMediaId",keyNum:"1",itemType:["string"],comment:"// * 位置图片的mediaId"},latitude:{keyName:"latitude",keyNum:"2",itemType:["double"],comment:"// * 维度"},longitude:{keyName:"longitude",keyNum:"3",itemType:["double"],comment:"// * 经度"},locationName:{keyName:"locationName",keyNum:"4",itemType:["string"],comment:"// * 地理位置名称"},md5:{keyName:"md5",keyNum:"5",itemType:["string"],comment:"// 位置图片md5"}},COMMENT:""},TextElementModel:{def:{content:{keyName:"content",keyNum:"1",itemType:["string"],comment:""},extension:{keyName:"extension",keyNum:"2",itemType:["map","string","string"],comment:""}},COMMENT:""},VideoContentModel:{def:{videoMediaId:{keyName:"videoMediaId",keyNum:"1",itemType:["string"],comment:"// * mediaId"},fileName:{keyName:"fileName",keyNum:"2",itemType:["string"],comment:"// * 文件名"},fileType:{keyName:"fileType",keyNum:"3",itemType:["string"],comment:"// * 文件类型，取文件后缀"},fileSize:{keyName:"fileSize",keyNum:"4",itemType:["long"],comment:"// * 文件大小"},duration:{keyName:"duration",keyNum:"5",itemType:["long"],comment:"// 视频时长"},width:{keyName:"width",keyNum:"6",itemType:["int"],comment:"// 视频宽度"},height:{keyName:"height",keyNum:"7",itemType:["int"],comment:"// 视频高度"},picMediaId:{keyName:"picMediaId",keyNum:"8",itemType:["string"],comment:"// 视频图片的url(mediaId)"},videoMd5:{keyName:"videoMd5",keyNum:"9",itemType:["string"],comment:"// 视频md5"},picMd5:{keyName:"picMd5",keyNum:"10",itemType:["string"],comment:"// 图片md5"}},COMMENT:""},StructContentModel:{def:{elements:{keyName:"elements",keyNum:"1",itemType:["list","ElementModel"],comment:""}},COMMENT:""},ElementModel:{def:{elementType:{keyName:"elementType",keyNum:"1",itemType:["int"],comment:"//元素类型1-textElement,2-uidElement, 3-atElement"},text:{keyName:"text",keyNum:"2",itemType:["TextElementModel"],comment:""},uidElementModel:{keyName:"uidElementModel",keyNum:"3",itemType:["UidElementModel"],comment:"// 不再使用TextContentModel,后续用TextElementModel"},atElement:{keyName:"atElement",keyNum:"4",itemType:["AtElementModel"],comment:""}},COMMENT:""},UidElementModel:{def:{uid:{keyName:"uid",keyNum:"1",itemType:["string"],comment:""},defaultNick:{keyName:"defaultNick",keyNum:"2",itemType:["string"],comment:""},prefix:{keyName:"prefix",keyNum:"3",itemType:["string"],comment:""}},COMMENT:""},AtElementModel:{def:{isAtAll:{keyName:"isAtAll",keyNum:"1",itemType:["bool"],comment:""},uid:{keyName:"uid",keyNum:"2",itemType:["string"],comment:""},defaultNick:{keyName:"defaultNick",keyNum:"3",itemType:["string"],comment:""}},COMMENT:""},LinkContentModel:{def:{url:{keyName:"url",keyNum:"1",itemType:["string"],comment:""},title:{keyName:"title",keyNum:"2",itemType:["string"],comment:""},desc:{keyName:"desc",keyNum:"3",itemType:["string"],comment:""},picMediaId:{keyName:"picMediaId",keyNum:"4",itemType:["string"],comment:""},extension:{keyName:"extension",keyNum:"5",itemType:["map","string","string"],comment:""},md5:{keyName:"md5",keyNum:"6",itemType:["string"],comment:"// 图片md5"}},COMMENT:""},FileContentModel:{def:{fileName:{keyName:"fileName",keyNum:"1",itemType:["string"],comment:"// 文件名"},fileType:{keyName:"fileType",keyNum:"2",itemType:["string"],comment:""},mediaId:{keyName:"mediaId",keyNum:"3",itemType:["string"],comment:"// 文件mediaId"},md5:{keyName:"md5",keyNum:"4",itemType:["string"],comment:"// 用于文件完整性校验, 安全拦截等"},fileSize:{keyName:"fileSize",keyNum:"5",itemType:["long"],comment:"// 文件大小"}},COMMENT:""},SimpleContentModel:{def:{text:{keyName:"text",keyNum:"1",itemType:["TextContentModel"],comment:""},custom:{keyName:"custom",keyNum:"2",itemType:["CustomContentModel"],comment:""},photo:{keyName:"photo",keyNum:"3",itemType:["PhotoContentModel"],comment:""},audio:{keyName:"audio",keyNum:"4",itemType:["AudioContentModel"],comment:""},video:{keyName:"video",keyNum:"5",itemType:["VideoContentModel"],comment:""},geo:{keyName:"geo",keyNum:"6",itemType:["GeoContentModel"],comment:""},structContent:{keyName:"structContent",keyNum:"7",itemType:["StructContentModel"],comment:""},link:{keyName:"link",keyNum:"8",itemType:["LinkContentModel"],comment:""},fileContent:{keyName:"fileContent",keyNum:"9",itemType:["FileContentModel"],comment:""}},COMMENT:""},ReferenceContentModel:{def:{contentType:{keyName:"contentType",keyNum:"1",itemType:["int"],comment:"// **回复不支持合并转发，回复 引用回复消息，可以客户端通过特殊逻辑处理掉**"},simpleContent:{keyName:"simpleContent",keyNum:"2",itemType:["SimpleContentModel"],comment:""}},COMMENT:""},InnerReplyContentModel:{def:{contentType:{keyName:"contentType",keyNum:"1",itemType:["int"],comment:"// ** 回复的内容不支持 引用回复和合并转发 **"},simpleContent:{keyName:"simpleContent",keyNum:"2",itemType:["SimpleContentModel"],comment:""}},COMMENT:""},ReferenceMessageModel:{def:{sender:{keyName:"sender",keyNum:"1",itemType:["string"],comment:""},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},messageId:{keyName:"messageId",keyNum:"3",itemType:["string"],comment:""},createAt:{keyName:"createAt",keyNum:"4",itemType:["long"],comment:""},referenceContent:{keyName:"referenceContent",keyNum:"5",itemType:["ReferenceContentModel"],comment:""},extension:{keyName:"extension",keyNum:"6",itemType:["map","string","string"],comment:""}},COMMENT:""},ReplyContentModel:{def:{referenceMessage:{keyName:"referenceMessage",keyNum:"1",itemType:["ReferenceMessageModel"],comment:"// ** 包含了发送者、消息id、消息内容等，不支持合并转发消息"},replyContent:{keyName:"replyContent",keyNum:"2",itemType:["InnerReplyContentModel"],comment:""}},COMMENT:""},ForwardMessageModel:{def:{uuid:{keyName:"uuid",keyNum:"1",itemType:["string"],comment:""},messageId:{keyName:"messageId",keyNum:"2",itemType:["string"],comment:""},content:{keyName:"content",keyNum:"3",itemType:["ContentModel"],comment:""},extension:{keyName:"extension",keyNum:"4",itemType:["map","string","string"],comment:""}},COMMENT:""},ForwardRequestModel:{def:{toCid:{keyName:"toCid",keyNum:"1",itemType:["string"],comment:""},conversationType:{keyName:"conversationType",keyNum:"2",itemType:["int"],comment:""},forwardMessages:{keyName:"forwardMessages",keyNum:"3",itemType:["list","ForwardMessageModel"],comment:""},redPointPolicy:{keyName:"redPointPolicy",keyNum:"4",itemType:["int"],comment:"// 0-默认增加红点，1-表示不增加红点"},msgReadStatusSetting:{keyName:"msgReadStatusSetting",keyNum:"5",itemType:["int"],comment:"// 无设置或者0: 继承会话已读状态设置 1: 有已读状态 2: 无已读状态"},ctx:{keyName:"ctx",keyNum:"6",itemType:["map","string","string"],comment:""}},COMMENT:""},ForwardResultModel:{def:{sendResults:{keyName:"sendResults",keyNum:"1",itemType:["map","string","SendResultModel"],comment:"// key 为成功转发消息uuid, 未出现在map中的为发送失败, 用户可以通过重新发送来重试"}},COMMENT:""},InnerCombineForwardContentModel:{def:{contentType:{keyName:"contentType",keyNum:"1",itemType:["int"],comment:""},simpleContent:{keyName:"simpleContent",keyNum:"2",itemType:["SimpleContentModel"],comment:""},replyContent:{keyName:"replyContent",keyNum:"3",itemType:["ReplyContentModel"],comment:""}},COMMENT:""},CombineForwardMessageModel:{def:{sender:{keyName:"sender",keyNum:"1",itemType:["string"],comment:""},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},messageId:{keyName:"messageId",keyNum:"3",itemType:["string"],comment:""},createAt:{keyName:"createAt",keyNum:"4",itemType:["long"],comment:""},combineForwardContent:{keyName:"combineForwardContent",keyNum:"5",itemType:["InnerCombineForwardContentModel"],comment:""},extension:{keyName:"extension",keyNum:"6",itemType:["map","string","string"],comment:""}},COMMENT:""},CombineForwardContentModel:{def:{combineForwardMessages:{keyName:"combineForwardMessages",keyNum:"1",itemType:["list","CombineForwardMessageModel"],comment:""}},COMMENT:""},CombineForwardRequestModel:{def:{uuid:{keyName:"uuid",keyNum:"1",itemType:["string"],comment:""},toCid:{keyName:"toCid",keyNum:"2",itemType:["string"],comment:""},conversationType:{keyName:"conversationType",keyNum:"3",itemType:["int"],comment:""},forwardContents:{keyName:"forwardContents",keyNum:"4",itemType:["list","MessageModel"],comment:""},redPointPolicy:{keyName:"redPointPolicy",keyNum:"5",itemType:["int"],comment:"// 0-默认增加红点，1-表示不增加红点"},extension:{keyName:"extension",keyNum:"6",itemType:["map","string","string"],comment:""},ctx:{keyName:"ctx",keyNum:"7",itemType:["map","string","string"],comment:""},msgReadStatusSetting:{keyName:"msgReadStatusSetting",keyNum:"8",itemType:["int"],comment:"// 无设置或者0: 继承会话已读状态设置 1: 有已读状态 2: 无已读状态"}},COMMENT:""},CombineForwardResultModel:{def:{sendResultModel:{keyName:"sendResultModel",keyNum:"1",itemType:["SendResultModel"],comment:""}},COMMENT:""},UpdateTitleModel:{def:{operatorNick:{keyName:"operatorNick",keyNum:"1",itemType:["string"],comment:""},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},title:{keyName:"title",keyNum:"3",itemType:["string"],comment:""}},COMMENT:""},UpdateIconModel:{def:{operatorNick:{keyName:"operatorNick",keyNum:"1",itemType:["string"],comment:""},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},icon:{keyName:"icon",keyNum:"3",itemType:["string"],comment:""}},COMMENT:""},UserInfo:{def:{uid:{keyName:"uid",keyNum:"1",itemType:["string"],comment:"// Deprecated :改为使用 UserModel"},nickName:{keyName:"nickName",keyNum:"2",itemType:["string"],comment:""}},COMMENT:""},UserModel:{def:{uid:{keyName:"uid",keyNum:"1",itemType:["string"],comment:""},displayName:{keyName:"displayName",keyNum:"2",itemType:["string"],comment:""}},COMMENT:""},JoinModel:{def:{operatorNick:{keyName:"operatorNick",keyNum:"1",itemType:["string"],comment:""},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},users:{keyName:"users",keyNum:"3",itemType:["list","UserInfo"],comment:""}},COMMENT:""},JoinV2Model:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:""},initMembers:{keyName:"initMembers",keyNum:"2",itemType:["list","InitialMemberModel"],comment:""}},COMMENT:""},KickModel:{def:{operatorNick:{keyName:"operatorNick",keyNum:"1",itemType:["string"],comment:""},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},users:{keyName:"users",keyNum:"3",itemType:["list","UserInfo"],comment:""}},COMMENT:""},KickV2Model:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:""},users:{keyName:"users",keyNum:"2",itemType:["list","UserModel"],comment:""}},COMMENT:""},LeaveModel:{def:{operatorNick:{keyName:"operatorNick",keyNum:"1",itemType:["string"],comment:""},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""}},COMMENT:""},LeaveV2Model:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:""}},COMMENT:""},UpdateGroupMemberRoleModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:""},role:{keyName:"role",keyNum:"2",itemType:["int"],comment:""},users:{keyName:"users",keyNum:"3",itemType:["list","UserModel"],comment:""}},COMMENT:""},UpdateAdminsModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:""},users:{keyName:"users",keyNum:"2",itemType:["list","UserModel"],comment:""}},COMMENT:""},SetOwnerModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:""},owner:{keyName:"owner",keyNum:"2",itemType:["UserModel"],comment:""}},COMMENT:""},UpdateGroupMemberNickModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:""},uid:{keyName:"uid",keyNum:"2",itemType:["string"],comment:""},groupNick:{keyName:"groupNick",keyNum:"3",itemType:["string"],comment:""}},COMMENT:""},XpnPushModel:{def:{templateId:{keyName:"templateId",keyNum:"1",itemType:["string"],comment:""},senderNick:{keyName:"senderNick",keyNum:"2",itemType:["string"],comment:""}},COMMENT:""},SendMessageModel:{def:{uuid:{keyName:"uuid",keyNum:"1",itemType:["string"],comment:""},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},conversationType:{keyName:"conversationType",keyNum:"3",itemType:["int"],comment:"// 会话类型1-单聊，2-群聊"},content:{keyName:"content",keyNum:"4",itemType:["ContentModel"],comment:""},redPointPolicy:{keyName:"redPointPolicy",keyNum:"5",itemType:["int"],comment:"// 0-默认增加红点，1-表示不增加红点"},extension:{keyName:"extension",keyNum:"6",itemType:["map","string","string"],comment:""},ctx:{keyName:"ctx",keyNum:"7",itemType:["map","string","string"],comment:""},mtags:{keyName:"mtags",keyNum:"8",itemType:["map","string","list","string"],comment:""},msgReadStatusSetting:{keyName:"msgReadStatusSetting",keyNum:"9",itemType:["int"],comment:"// 无设置或者0: 继承会话已读状态设置 1: 有已读状态 2: 无已读状态"},xpn:{keyName:"xpn",keyNum:"10",itemType:["XpnPushModel"],comment:"// 消息xpn push"}},COMMENT:""},SendResultModel:{def:{messageId:{keyName:"messageId",keyNum:"1",itemType:["string"],comment:""},uuid:{keyName:"uuid",keyNum:"2",itemType:["string"],comment:""},createAt:{keyName:"createAt",keyNum:"3",itemType:["long"],comment:""},receiverCount:{keyName:"receiverCount",keyNum:"4",itemType:["int"],comment:""},unreadCount:{keyName:"unreadCount",keyNum:"5",itemType:["int"],comment:""},extension:{keyName:"extension",keyNum:"6",itemType:["map","string","string"],comment:""},msgReadStatusSetting:{keyName:"msgReadStatusSetting",keyNum:"7",itemType:["int"],comment:"// 1: 有已读状态 2: 无已读状态"},msgReadStatusDowngrade:{keyName:"msgReadStatusDowngrade",keyNum:"8",itemType:["int"],comment:"// 已读状态降级开关，0或无不降级，1为开启降级"}},COMMENT:""},SenderMessageStatusModel:{def:{unReadCount:{keyName:"unReadCount",keyNum:"1",itemType:["int"],comment:"// * 这条消息还有多少人未读"},totalCount:{keyName:"totalCount",keyNum:"2",itemType:["int"],comment:"// * 消息发送到的总人数"}},COMMENT:""},TypingModel:{def:{conversationId:{keyName:"conversationId",keyNum:"1",itemType:["string"],comment:""},type:{keyName:"type",keyNum:"2",itemType:["int"],comment:"// 消息类型，0-文字，1-语音，2-图片"},command:{keyName:"command",keyNum:"3",itemType:["int"],comment:"// typing状态，0-正在typing，1-取消typing"},receiver:{keyName:"receiver",keyNum:"4",itemType:["string"],comment:"// typing状态接收者"}},COMMENT:""},DeliveryTypingModel:{def:{typingModels:{keyName:"typingModels",keyNum:"1",itemType:["list","TypingModel"],comment:"// 下行Typing model"}},COMMENT:""},AtMsgStatusModel:{def:{uid:{keyName:"uid",keyNum:"1",itemType:["string"],comment:"/********@我透出************/"},status:{keyName:"status",keyNum:"2",itemType:["int"],comment:"// 被@者openId"}},COMMENT:"// 被@者消息状态 1：未读，2：已读"},ReceiverMessageStatusModel:{def:{readStatus:{keyName:"readStatus",keyNum:"1",itemType:["int"],comment:"// * 接收者 是否已读这个消息 2-已读，其他-未读"}},COMMENT:""},MessageChangeModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"// 会话id"},messageId:{keyName:"messageId",keyNum:"2",itemType:["string"],comment:"// 消息id"},extension:{keyName:"extension",keyNum:"3",itemType:["map","string","string"],comment:"// 消息扩展信息，业务自定义"},readStatus:{keyName:"readStatus",keyNum:"4",itemType:["int"],comment:"// 针对接收者的消息状态，已读和未读 2已读 0未读"},receiverMessageStatus:{keyName:"receiverMessageStatus",keyNum:"5",itemType:["ReceiverMessageStatusModel"],comment:"// * 针对接收者的消息状态，已读和未读"},senderStatus:{keyName:"senderStatus",keyNum:"6",itemType:["SenderMessageStatusModel"],comment:"// 针对消息发送者的未读人数"},recordStatus:{keyName:"recordStatus",keyNum:"7",itemType:["int"],comment:"// 消息状态 0-已删除，1-正常，2-已撤回"},viewStatus:{keyName:"viewStatus",keyNum:"8",itemType:["int"],comment:"// 浏览状态 是否已浏览这个消息 2-已浏览，0未浏览"},messageModel:{keyName:"messageModel",keyNum:"9",itemType:["MessageModel"],comment:"// 消息体"},atMsgStatus:{keyName:"atMsgStatus",keyNum:"10",itemType:["list","AtMsgStatusModel"],comment:"// at我的消息"}},COMMENT:""},MessageChangeListModel:{def:{messageChangeList:{keyName:"messageChangeList",keyNum:"1",itemType:["list","MessageChangeModel"],comment:""}},COMMENT:""},ConversationChangeModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"// * 会话ID"},status:{keyName:"status",keyNum:"2",itemType:["int"],comment:"// * 0-隐藏会话，1-可见"},modifyTime:{keyName:"modifyTime",keyNum:"3",itemType:["long"],comment:"// 修改时间, 比如: 触发清空会话的动作触发时间"},sort:{keyName:"sort",keyNum:"4",itemType:["long"],comment:"// * 会话排序字段sort，数值越大排序越靠前，针对设置的用户有效"},mute:{keyName:"mute",keyNum:"5",itemType:["int"],comment:"// * 会话是否接受通知消息 0-接收通知，1-表示关闭通知，不接收消息"},memberExtension:{keyName:"memberExtension",keyNum:"6",itemType:["map","string","string"],comment:"// * conversation inbox 扩展信息"},bizExtension:{keyName:"bizExtension",keyNum:"7",itemType:["map","string","string"],comment:"// 业务需要下行的信息"}},COMMENT:""},EventOption:{def:{expireTime:{keyName:"expireTime",keyNum:"1",itemType:["long"],comment:"// * 过期时间，expireTime=0 表示不过期"},isOverride:{keyName:"isOverride",keyNum:"2",itemType:["bool"],comment:"// * false不被覆盖"},reliable:{keyName:"reliable",keyNum:"3",itemType:["bool"],comment:"// * false不可靠, 即不入库"},reachReceipt:{keyName:"reachReceipt",keyNum:"4",itemType:["bool"],comment:"// * 设置已达状态回执, true为设置需要修改已达状态"},revisable:{keyName:"revisable",keyNum:"5",itemType:["bool"],comment:"// * 是否可修改, 0表示不可修改，1表示消息可修改（目前只有阅后即焚使用）"},revisionWay:{keyName:"revisionWay",keyNum:"6",itemType:["int"],comment:"// * 修改方式  0表示不改变  1表示删除消息（此标记只有revisable标志设置为1才生效）"},encryptType:{keyName:"encryptType",keyNum:"7",itemType:["int"],comment:"// *加密方式  0不加密（默认） 1 同IM消息加密方式"},dataType:{keyName:"dataType",keyNum:"8",itemType:["int"],comment:"// *数据类型  0 普通数据， 1多语言数据"},checkType:{keyName:"checkType",keyNum:"9",itemType:["int"],comment:"// *发送时校验类型 0 不校验 1 校验失败默认发送 2 校验失败默认不发送"},checkKey:{keyName:"checkKey",keyNum:"10",itemType:["string"],comment:"// *校验时指定的Key"},retryTimes:{keyName:"retryTimes",keyNum:"11",itemType:["int"],comment:"// *非可靠事件尝试重试的次数小于等于3是有效值，大于3会被设置为3"},reserved:{keyName:"reserved",keyNum:"12",itemType:["bool"],comment:"// 未使用到，保留"},timeout:{keyName:"timeout",keyNum:"13",itemType:["int"],comment:"// 非可靠通道超时时间"},statisSkip:{keyName:"statisSkip",keyNum:"14",itemType:["bool"],comment:"// 用于统计，标识为true的事件不会被记录到同步协议入库延迟统计中"}},COMMENT:""},SpecialAttr:{def:{specialExcludeDeviceIds:{keyName:"specialExcludeDeviceIds",keyNum:"1",itemType:["list","string"],comment:"// 暂时只提供用到的功能，后续有新增再扩展"},specialIncludeDeviceIds:{keyName:"specialIncludeDeviceIds",keyNum:"2",itemType:["list","string"],comment:""},silentPush:{keyName:"silentPush",keyNum:"3",itemType:["bool"],comment:""}},COMMENT:""},CommonEventModel:{def:{eventOption:{keyName:"eventOption",keyNum:"1",itemType:["EventOption"],comment:"// * 同步事件类型"},bizType:{keyName:"bizType",keyNum:"2",itemType:["int"],comment:"// * 业务type  1. 电话会议 2.关系相关 3.IM  4.push"},objectCreateTime:{keyName:"objectCreateTime",keyNum:"3",itemType:["long"],comment:"// * 消息产生原始时间"},objectId:{keyName:"objectId",keyNum:"4",itemType:["string"],comment:"// * 同步事件id, 对于需要合并的事件，eventId需要相同"},objectType:{keyName:"objectType",keyNum:"5",itemType:["int"],comment:"// * 数据包model类型，用于解码"},data:{keyName:"data",keyNum:"6",itemType:["byte[]"],comment:"// * 同步数据"},context:{keyName:"context",keyNum:"7",itemType:["byte[]"],comment:"// * 推送成功后返回此上下文信息(不支持二进制数据)"},deviceIds:{keyName:"deviceIds",keyNum:"8",itemType:["list","string"],comment:"// * 给指定的deviceIds推送，如果为空默认给所有该openid下所有设备推送, 此字段已经被废弃了，后续都使用specialAttr"},transId:{keyName:"transId",keyNum:"9",itemType:["string"],comment:"// * 事物ID(可用于火眼或者可修改消息的ID)"},excludeDeviceIds:{keyName:"excludeDeviceIds",keyNum:"10",itemType:["list","string"],comment:"// * 需要排除的DeviceIds, 此字段已经被废弃了，后续都使用specialAttr"},specialAttr:{keyName:"specialAttr",keyNum:"11",itemType:["map","string","SpecialAttr"],comment:"// * 特殊数据，比如用户A需要排除给当前设备推送, 其他用户全部推送"}},COMMENT:""},PushSyncEventByMQ:{def:{domain:{keyName:"domain",keyNum:"1",itemType:["string"],comment:"// ---------------- metaq model ----------------------------"},receiverIds:{keyName:"receiverIds",keyNum:"2",itemType:["list","long"],comment:""},commonEventModel:{keyName:"commonEventModel",keyNum:"3",itemType:["CommonEventModel"],comment:""},traceId:{keyName:"traceId",keyNum:"4",itemType:["string"],comment:""},metaqDelayLevel:{keyName:"metaqDelayLevel",keyNum:"5",itemType:["int"],comment:""}},COMMENT:""},UserDefineDataModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"// 用户自定义数据"},entity_type:{keyName:"entity_type",keyNum:"2",itemType:["int"],comment:""},entity_id:{keyName:"entity_id",keyNum:"3",itemType:["string"],comment:""},entity_origin:{keyName:"entity_origin",keyNum:"4",itemType:["int"],comment:"// 正常不填或为0，已读回执多端同步时为1"}},COMMENT:"//  2: int type; // 消息id类型， 比如静默消息=3"},ConversationClearRedPointModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"// 清红点入参"},messageId:{keyName:"messageId",keyNum:"2",itemType:["string"],comment:""}},COMMENT:""},ConvClearRedPointEventModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:""},conversationType:{keyName:"conversationType",keyNum:"2",itemType:["int"],comment:""},messageId:{keyName:"messageId",keyNum:"3",itemType:["string"],comment:""},eventTime:{keyName:"eventTime",keyNum:"4",itemType:["long"],comment:""}},COMMENT:""},ConvClearRedPointListEventModel:{def:{events:{keyName:"events",keyNum:"1",itemType:["list","ConvClearRedPointEventModel"],comment:"//清红点事件"}},COMMENT:""},ConvIdModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:""},conversationType:{keyName:"conversationType",keyNum:"2",itemType:["int"],comment:""}},COMMENT:""},ConvSetVisibleEventModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"//隐藏会话事件"},conversationType:{keyName:"conversationType",keyNum:"2",itemType:["int"],comment:""},visible:{keyName:"visible",keyNum:"3",itemType:["boolean"],comment:"//true-显示，false-隐藏"},eventTime:{keyName:"eventTime",keyNum:"4",itemType:["long"],comment:""}},COMMENT:""},ConvSetVisibleBatchEventModel:{def:{cids:{keyName:"cids",keyNum:"1",itemType:["list","ConvIdModel"],comment:"// 批量隐藏会话事件"},visible:{keyName:"visible",keyNum:"2",itemType:["boolean"],comment:"//true-显示，false-隐藏"},eventTime:{keyName:"eventTime",keyNum:"3",itemType:["long"],comment:""}},COMMENT:""},ConvMuteEventModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"//会话免打扰事件"},conversationType:{keyName:"conversationType",keyNum:"2",itemType:["int"],comment:""},muteNotification:{keyName:"muteNotification",keyNum:"3",itemType:["boolean"],comment:"//true-免打扰开启，false-免打扰关闭"},eventTime:{keyName:"eventTime",keyNum:"4",itemType:["long"],comment:""}},COMMENT:""},ConvSetTopEventModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"//置顶事件"},conversationType:{keyName:"conversationType",keyNum:"2",itemType:["int"],comment:""},topRank:{keyName:"topRank",keyNum:"3",itemType:["long"],comment:"// 置顶序列，数值越大越靠前.0：取消置顶"},eventTime:{keyName:"eventTime",keyNum:"4",itemType:["long"],comment:""}},COMMENT:""},ConvSetSingleExtEventModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"//更新单聊会话extension"},conversationType:{keyName:"conversationType",keyNum:"2",itemType:["int"],comment:""},extension:{keyName:"extension",keyNum:"3",itemType:["map","string","string"],comment:""},eventTime:{keyName:"eventTime",keyNum:"4",itemType:["long"],comment:""},conversationVersion:{keyName:"conversationVersion",keyNum:"5",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},ConvUpdateUserExtEventModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"//更新会话UserExtension事件，对应sync objectType：40007"},conversationType:{keyName:"conversationType",keyNum:"2",itemType:["int"],comment:""},extension:{keyName:"extension",keyNum:"3",itemType:["map","string","string"],comment:""},eventTime:{keyName:"eventTime",keyNum:"4",itemType:["long"],comment:""}},COMMENT:""},ConvUpdateUserTagsEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//更新会话UserTags事件，对应sync objectType：40010"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},conversationType:{keyName:"conversationType",keyNum:"3",itemType:["int"],comment:""},utags:{keyName:"utags",keyNum:"4",itemType:["map","string","list","string"],comment:""}},COMMENT:""},MsgRemoveEventModel:{def:{messageIds:{keyName:"messageIds",keyNum:"1",itemType:["list","string"],comment:"//删除消息事件"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},conversationType:{keyName:"conversationType",keyNum:"3",itemType:["int"],comment:""},eventTime:{keyName:"eventTime",keyNum:"4",itemType:["long"],comment:""}},COMMENT:""},MsgReadToReaderEventModel:{def:{messageIds:{keyName:"messageIds",keyNum:"1",itemType:["list","string"],comment:"//给已读者自己的事件"},readStatus:{keyName:"readStatus",keyNum:"2",itemType:["int"],comment:"//固定2"},cid:{keyName:"cid",keyNum:"3",itemType:["string"],comment:""},conversationType:{keyName:"conversationType",keyNum:"4",itemType:["int"],comment:""},eventTime:{keyName:"eventTime",keyNum:"5",itemType:["long"],comment:""}},COMMENT:""},MsgReadToSenderEventModel:{def:{messageId:{keyName:"messageId",keyNum:"1",itemType:["string"],comment:"//给消息发送者的已读事件子model"},receiverCount:{keyName:"receiverCount",keyNum:"2",itemType:["int"],comment:""},unreadCount:{keyName:"unreadCount",keyNum:"3",itemType:["int"],comment:""},cid:{keyName:"cid",keyNum:"4",itemType:["string"],comment:""},conversationType:{keyName:"conversationType",keyNum:"5",itemType:["int"],comment:""},eventTime:{keyName:"eventTime",keyNum:"6",itemType:["long"],comment:""}},COMMENT:""},MsgReadToSenderListEventModel:{def:{events:{keyName:"events",keyNum:"1",itemType:["list","MsgReadToSenderEventModel"],comment:""}},COMMENT:""},MsgRecallEventModel:{def:{messageId:{keyName:"messageId",keyNum:"1",itemType:["string"],comment:"//消息返回事件"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},conversationType:{keyName:"conversationType",keyNum:"3",itemType:["int"],comment:""},operatorUid:{keyName:"operatorUid",keyNum:"4",itemType:["string"],comment:""},eventTime:{keyName:"eventTime",keyNum:"5",itemType:["long"],comment:""},senderUid:{keyName:"senderUid",keyNum:"6",itemType:["string"],comment:""},createAt:{keyName:"createAt",keyNum:"7",itemType:["long"],comment:""},recallFeature:{keyName:"recallFeature",keyNum:"8",itemType:["RecallFeatureModel"],comment:""}},COMMENT:""},MsgSetExtEventModel:{def:{messageId:{keyName:"messageId",keyNum:"1",itemType:["string"],comment:"//更新消息extension事件"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},conversationType:{keyName:"conversationType",keyNum:"3",itemType:["int"],comment:""},extension:{keyName:"extension",keyNum:"4",itemType:["map","string","string"],comment:""},eventTime:{keyName:"eventTime",keyNum:"5",itemType:["long"],comment:""}},COMMENT:""},UserMsgSetExtEventModel:{def:{messageId:{keyName:"messageId",keyNum:"1",itemType:["string"],comment:"//更新用户维度消息extension事件 object_type:40108"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},conversationType:{keyName:"conversationType",keyNum:"3",itemType:["int"],comment:""},extension:{keyName:"extension",keyNum:"4",itemType:["map","string","string"],comment:""},eventTime:{keyName:"eventTime",keyNum:"5",itemType:["long"],comment:""}},COMMENT:""},MsgClearEventModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"//消息清空事件"},conversationType:{keyName:"conversationType",keyNum:"2",itemType:["int"],comment:""},eventTime:{keyName:"eventTime",keyNum:"3",itemType:["long"],comment:""}},COMMENT:""},ConvClearReadPointListEventModel:{def:{events:{keyName:"events",keyNum:"1",itemType:["list","ConvClearRedPointEventModel"],comment:""}},COMMENT:""},MessageUserOptionModel:{def:{extension:{keyName:"extension",keyNum:"1",itemType:["map","string","string"],comment:""},receiveType:{keyName:"receiveType",keyNum:"2",itemType:["int"],comment:"// 默认或者0：创建视图并且推送消息及通知；1：不创建视图且不推送消息及通知"}},COMMENT:""},MessageReceiverScopeModel:{def:{actualReceivers:{keyName:"actualReceivers",keyNum:"1",itemType:["list","string"],comment:""},isShare:{keyName:"isShare",keyNum:"2",itemType:["bool"],comment:""},excludeReceivers:{keyName:"excludeReceivers",keyNum:"3",itemType:["list","string"],comment:""}},COMMENT:""},MessageReceiverOptionModel:{def:{messageUserOptions:{keyName:"messageUserOptions",keyNum:"1",itemType:["map","string","MessageUserOptionModel"],comment:""},defaultMessageUserOption:{keyName:"defaultMessageUserOption",keyNum:"2",itemType:["MessageUserOptionModel"],comment:""}},COMMENT:""},ImportUserConversationModel:{def:{visible:{keyName:"visible",keyNum:"1",itemType:["boolean"],comment:"// 会话可见(是否隐藏)"},topRank:{keyName:"topRank",keyNum:"2",itemType:["long"],comment:"// 是否置顶。如果置顶，则取当前时间(ms),不置顶则为0"},redPoint:{keyName:"redPoint",keyNum:"3",itemType:["int"],comment:"// 未读红点数"},mute:{keyName:"mute",keyNum:"4",itemType:["boolean"],comment:"// 是否免打扰.true:免打扰；false：取消免打扰"},lastMsgUuid:{keyName:"lastMsgUuid",keyNum:"5",itemType:["string"],comment:"// 最后一条消息的uuid，务必唯一。"},jointTime:{keyName:"jointTime",keyNum:"6",itemType:["long"],comment:"// 加入该会话的时间。如果没有则取当前时间(ms)"},modifiedTime:{keyName:"modifiedTime",keyNum:"7",itemType:["long"],comment:"// 修改该会话的时间。如果没有则取当前时间(ms)"},extension:{keyName:"extension",keyNum:"8",itemType:["map","string","string"],comment:"// 私有会话的扩展信息.会写入conv inbox表"},utags:{keyName:"utags",keyNum:"9",itemType:["map","string","list","string"],comment:""}},COMMENT:""},ImportReceiverModel:{def:{uid:{keyName:"uid",keyNum:"1",itemType:["string"],comment:"// 用户id"},readFlag:{keyName:"readFlag",keyNum:"2",itemType:["boolean"],comment:"// 用户是否读了这条消息"},isExcluded:{keyName:"isExcluded",keyNum:"3",itemType:["boolean"],comment:"// 是否被排除。true：单边消息，该用户对消息不可见； false：正常"}},COMMENT:""},ImportMessageModel:{def:{uuid:{keyName:"uuid",keyNum:"1",itemType:["string"],comment:"// 消息的uuid"},msgId:{keyName:"msgId",keyNum:"2",itemType:["string"],comment:"// 消息在钉钉侧的msg_id.如果没有则留空即可"},senderUid:{keyName:"senderUid",keyNum:"3",itemType:["string"],comment:"// 消息发送者"},cid:{keyName:"cid",keyNum:"4",itemType:["string"],comment:"// 会话cid"},content:{keyName:"content",keyNum:"5",itemType:["ContentModel"],comment:"// 消息内容"},recordStatus:{keyName:"recordStatus",keyNum:"6",itemType:["int"],comment:"// 删除和撤回状态.0:已删除；1：正常； 2：已撤回"},receiverCount:{keyName:"receiverCount",keyNum:"7",itemType:["int"],comment:"// 消息接收人数"},unreadCount:{keyName:"unreadCount",keyNum:"8",itemType:["int"],comment:"// 未读数"},createAt:{keyName:"createAt",keyNum:"9",itemType:["long"],comment:"// 创建时间"},isShare:{keyName:"isShare",keyNum:"10",itemType:["boolean"],comment:"// false:不共享的单边消息"},receivers:{keyName:"receivers",keyNum:"11",itemType:["list","ImportReceiverModel"],comment:"// 消息的用户私有信息"},extension:{keyName:"extension",keyNum:"12",itemType:["map","string","string"],comment:""},receiverOption:{keyName:"receiverOption",keyNum:"13",itemType:["MessageReceiverOptionModel"],comment:""}},COMMENT:""},ImportSingleChatConversationModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:""},pairFirst:{keyName:"pairFirst",keyNum:"2",itemType:["string"],comment:"//单聊会话uid之一"},pairSecond:{keyName:"pairSecond",keyNum:"3",itemType:["string"],comment:"//单聊会话uid之一"},createAt:{keyName:"createAt",keyNum:"4",itemType:["long"],comment:"//会话创建时间ms"},bizType:{keyName:"bizType",keyNum:"5",itemType:["string"],comment:"//业务自定义标签"},extension:{keyName:"extension",keyNum:"6",itemType:["map","string","string"],comment:"//业务扩展信息"},ctags:{keyName:"ctags",keyNum:"7",itemType:["map","string","list","string"],comment:""},msgReadStatusSetting:{keyName:"msgReadStatusSetting",keyNum:"8",itemType:["int"],comment:""}},COMMENT:""},ImportConversationModel:{def:{singleChatConv:{keyName:"singleChatConv",keyNum:"1",itemType:["ImportSingleChatConversationModel"],comment:""},userConvInfos:{keyName:"userConvInfos",keyNum:"2",itemType:["map","string","ImportUserConversationModel"],comment:"// 每个用户的私有会话信息.key为用户uid"},msgInfos:{keyName:"msgInfos",keyNum:"3",itemType:["map","string","ImportMessageModel"],comment:"// 每条消息的实体、每个用户对这条消息的已读信息,key为消息的uuid"}},COMMENT:""},ImportConversationResultModel:{def:{msgIds:{keyName:"msgIds",keyNum:"1",itemType:["map","string","string"],comment:"// uuid -> msg_id"}},COMMENT:""},SyncFailoverContext:{def:{uid:{keyName:"uid",keyNum:"1",itemType:["string"],comment:""},did:{keyName:"did",keyNum:"2",itemType:["string"],comment:""},cursor:{keyName:"cursor",keyNum:"3",itemType:["long"],comment:""},cb_topic:{keyName:"cb_topic",keyNum:"4",itemType:["string"],comment:""}},COMMENT:""},IM2AuditMessageModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"// 对账消息列表所属会话id"},start:{keyName:"start",keyNum:"2",itemType:["long"],comment:"// 对账消息的起止时间"},end:{keyName:"end",keyNum:"3",itemType:["long"],comment:""},msgIds:{keyName:"msgIds",keyNum:"4",itemType:["list","string"],comment:""}},COMMENT:""},RecallFeatureModel:{def:{showRecallStatusSetting:{keyName:"showRecallStatusSetting",keyNum:"1",itemType:["int"],comment:"// 空或0：不展示撤回状态消息，1：展示撤回状态消息"},operatorType:{keyName:"operatorType",keyNum:"2",itemType:["int"],comment:"// 撤回操作者类型: 发送者撤回：0 ，群主撤回：1，系统撤回：2，安全撤回：3，自定义操作者：101"},code:{keyName:"code",keyNum:"3",itemType:["string"],comment:"// 业务方自定义code"},operatorUid:{keyName:"operatorUid",keyNum:"4",itemType:["string"],comment:"// 撤回操作者UID"},extension:{keyName:"extension",keyNum:"5",itemType:["map","string","string"],comment:"// 撤回扩展字段"}},COMMENT:""},MessagePropertiesModel:{def:{extension:{keyName:"extension",keyNum:"1",itemType:["map","string","string"],comment:""},mtags:{keyName:"mtags",keyNum:"2",itemType:["map","string","list","string"],comment:""}},COMMENT:""},MsgUpdatePropertiesEventModel:{def:{msgId:{keyName:"msgId",keyNum:"1",itemType:["string"],comment:"//更新消息属性事件 对应object_type:40110"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},conversationType:{keyName:"conversationType",keyNum:"3",itemType:["int"],comment:""},extension:{keyName:"extension",keyNum:"4",itemType:["map","string","string"],comment:""},eventTime:{keyName:"eventTime",keyNum:"5",itemType:["long"],comment:""}},COMMENT:""},UserConvPropertiesModel:{def:{visible:{keyName:"visible",keyNum:"1",itemType:["int"],comment:"//1-首屏显示，0-首屏不显示"},muteNotification:{keyName:"muteNotification",keyNum:"2",itemType:["int"],comment:""},extension:{keyName:"extension",keyNum:"3",itemType:["map","string","string"],comment:""},utags:{keyName:"utags",keyNum:"4",itemType:["map","string","list","string"],comment:""}},COMMENT:""},UserConvUpdateEventModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"//用户会话属性变更事件"},conversationType:{keyName:"conversationType",keyNum:"2",itemType:["int"],comment:""},visible:{keyName:"visible",keyNum:"3",itemType:["int"],comment:"//1-首屏显示，0-首屏不显示"},muteNotification:{keyName:"muteNotification",keyNum:"4",itemType:["int"],comment:""},extension:{keyName:"extension",keyNum:"5",itemType:["map","string","string"],comment:""},eventTime:{keyName:"eventTime",keyNum:"6",itemType:["long"],comment:""}},COMMENT:""},ServerSendMessageOptionModel:{def:{createAt:{keyName:"createAt",keyNum:"1",itemType:["long"],comment:""},clearSenderRedPoint:{keyName:"clearSenderRedPoint",keyNum:"2",itemType:["int"],comment:"// 发消息清发送者红点选项, 0：不清发送者红点, 1：清发送者红点"},utagsMap:{keyName:"utagsMap",keyNum:"3",itemType:["map","string","map","string","list","string"],comment:"// tagName和tagValue里面的单个元素分别都是merge语义"},securityCheckType:{keyName:"securityCheckType",keyNum:"4",itemType:["int"],comment:"// 服务端消息内容安全教育类型，0默认校验，1不校验"}},COMMENT:""},SendMessageOptionModel:{def:{receiverScope:{keyName:"receiverScope",keyNum:"1",itemType:["MessageReceiverScopeModel"],comment:""},receiverOption:{keyName:"receiverOption",keyNum:"2",itemType:["MessageReceiverOptionModel"],comment:""},createSingleChatCoversation:{keyName:"createSingleChatCoversation",keyNum:"3",itemType:["CreateSingleChatConversationModel"],comment:""},createSingleChatConversationOption:{keyName:"createSingleChatConversationOption",keyNum:"4",itemType:["CreateSingleChatConversationOptionModel"],comment:""}},COMMENT:""},GroupChatConversationModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:""},ownerUid:{keyName:"ownerUid",keyNum:"2",itemType:["string"],comment:"//群主"},title:{keyName:"title",keyNum:"3",itemType:["string"],comment:"//群名称"},icon:{keyName:"icon",keyNum:"4",itemType:["string"],comment:"//群头像"},memberCount:{keyName:"memberCount",keyNum:"5",itemType:["int"],comment:"//群人数"},memberLimit:{keyName:"memberLimit",keyNum:"6",itemType:["int"],comment:"//群人数上限"},bizType:{keyName:"bizType",keyNum:"7",itemType:["string"],comment:"//业务自定义标签"},extension:{keyName:"extension",keyNum:"8",itemType:["map","string","string"],comment:"//会话extension"},createAt:{keyName:"createAt",keyNum:"9",itemType:["long"],comment:"//群创建时间"},silenceAll:{keyName:"silenceAll",keyNum:"10",itemType:["int"],comment:"//全员禁止发言 1：全员禁言(仅群主或管理员可发言)，0：可以发言"},admins:{keyName:"admins",keyNum:"11",itemType:["list","string"],comment:"// admins列表"},memberPermissions:{keyName:"memberPermissions",keyNum:"12",itemType:["list","PermissionModel"],comment:"// 普通群成员的权限设置"},msgReadStatusSetting:{keyName:"msgReadStatusSetting",keyNum:"13",itemType:["int"],comment:"//已读标记 1:有已读状态 2:无已读状态"}},COMMENT:""},GroupChatUserConversationModel:{def:{groupChatConversation:{keyName:"groupChatConversation",keyNum:"1",itemType:["GroupChatConversationModel"],comment:""},visible:{keyName:"visible",keyNum:"2",itemType:["int"],comment:"//1-首屏显示，0-首屏不显示"},topRank:{keyName:"topRank",keyNum:"3",itemType:["long"],comment:"//置顶值"},redPoint:{keyName:"redPoint",keyNum:"4",itemType:["int"],comment:"//红点数量"},muteNotification:{keyName:"muteNotification",keyNum:"5",itemType:["int"],comment:"//1-免打扰开启，0-免打扰关闭"},lastMessage:{keyName:"lastMessage",keyNum:"6",itemType:["UserMessageModel"],comment:"//会话最后一条消息"},userExtension:{keyName:"userExtension",keyNum:"7",itemType:["map","string","string"],comment:"//会话UserExtension"},joinTime:{keyName:"joinTime",keyNum:"8",itemType:["long"],comment:"//会话加入时间"},modifyTime:{keyName:"modifyTime",keyNum:"9",itemType:["long"],comment:"//会话变更时间"},silencedStatus:{keyName:"silencedStatus",keyNum:"10",itemType:["int"],comment:"// 禁言类型 1 白名单 2 黑名单 0 既不在白名单也不在黑名单"},silencedEndTime:{keyName:"silencedEndTime",keyNum:"11",itemType:["long"],comment:"// 禁言截止时间点，单位ms"},parent_id:{keyName:"parent_id",keyNum:"12",itemType:["string"],comment:""},conversationVersion:{keyName:"conversationVersion",keyNum:"13",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},CreateGroupChatConversationModel:{def:{uuid:{keyName:"uuid",keyNum:"1",itemType:["string"],comment:"// 唯一标识一次创建请求，防止弱网下重复建群"},uids:{keyName:"uids",keyNum:"2",itemType:["list","string"],comment:"// 群成员列表"},title:{keyName:"title",keyNum:"3",itemType:["string"],comment:"// 群名称"},iconResource:{keyName:"iconResource",keyNum:"4",itemType:["string"],comment:"// 群头像"},bizType:{keyName:"bizType",keyNum:"5",itemType:["string"],comment:"//业务自定义"},extension:{keyName:"extension",keyNum:"6",itemType:["map","string","string"],comment:""},ctx:{keyName:"ctx",keyNum:"7",itemType:["map","string","string"],comment:""},operatorNick:{keyName:"operatorNick",keyNum:"8",itemType:["string"],comment:"//创建者nickname"}},COMMENT:""},InitialMemberModel:{def:{user:{keyName:"user",keyNum:"1",itemType:["UserModel"],comment:"// 入群的成员的初始化信息，作为接口入参使用"},role:{keyName:"role",keyNum:"2",itemType:["int"],comment:"// 1-群主，2-管理员，3-普通。100以后业务自定义"},joinTime:{keyName:"joinTime",keyNum:"3",itemType:["long"],comment:"// 入群时间戳"},groupNick:{keyName:"groupNick",keyNum:"4",itemType:["string"],comment:"// 群昵称"},extension:{keyName:"extension",keyNum:"5",itemType:["map","string","string"],comment:""}},COMMENT:""},MemberModel:{def:{uid:{keyName:"uid",keyNum:"1",itemType:["string"],comment:""},role:{keyName:"role",keyNum:"2",itemType:["int"],comment:"// 1-群主，2-管理员，3-普通。100以后业务自定义"},createAt:{keyName:"createAt",keyNum:"3",itemType:["long"],comment:"// 入群时间戳"},groupNick:{keyName:"groupNick",keyNum:"4",itemType:["string"],comment:"// 群昵称"},extension:{keyName:"extension",keyNum:"5",itemType:["map","string","string"],comment:"// 群成员扩展信息"}},COMMENT:""},ListGroupChatMembersResultModel:{def:{memberVersion:{keyName:"memberVersion",keyNum:"1",itemType:["long"],comment:"//拉取群成员列表接口返回信息"},members:{keyName:"members",keyNum:"2",itemType:["list","MemberModel"],comment:""}},COMMENT:""},GroupChatAnnouncementModel:{def:{announcement:{keyName:"announcement",keyNum:"1",itemType:["string"],comment:"// 公告文本,最大2048字节"},operatorUid:{keyName:"operatorUid",keyNum:"2",itemType:["string"],comment:"// 公告的操作者"},modifyTime:{keyName:"modifyTime",keyNum:"3",itemType:["long"],comment:"// 公告的修改时间，单位毫秒"}},COMMENT:""},GroupChatCreateEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//创建群事件ObjectType=40200"},groupUserConversationModel:{keyName:"groupUserConversationModel",keyNum:"2",itemType:["GroupChatUserConversationModel"],comment:"//每个人的信息可能不一样"}},COMMENT:""},GroupChatJoinedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//被加的人收到的事件 ObjectType=40201"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},joinedUids:{keyName:"joinedUids",keyNum:"3",itemType:["list","MemberModel"],comment:""},icon:{keyName:"icon",keyNum:"4",itemType:["string"],comment:""},memberCount:{keyName:"memberCount",keyNum:"5",itemType:["int"],comment:""},groupUserConversationModel:{keyName:"groupUserConversationModel",keyNum:"6",itemType:["GroupChatUserConversationModel"],comment:""}},COMMENT:""},GroupChatPeerJoinedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//已在群里的人收到的事件 ObjectType=40202"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},joinedUids:{keyName:"joinedUids",keyNum:"3",itemType:["list","MemberModel"],comment:""},icon:{keyName:"icon",keyNum:"4",itemType:["string"],comment:""},memberCount:{keyName:"memberCount",keyNum:"5",itemType:["int"],comment:""},conversationVersion:{keyName:"conversationVersion",keyNum:"6",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},GroupChatKickedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//被踢的人收到事件 ObjectType=40203"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},conversationVersion:{keyName:"conversationVersion",keyNum:"3",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},GroupChatPeerKickedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//非被踢人收到的事件,即群里其他人收到的事件 ObjectType=40204"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},kickedUids:{keyName:"kickedUids",keyNum:"3",itemType:["list","string"],comment:""},icon:{keyName:"icon",keyNum:"4",itemType:["string"],comment:""},memberCount:{keyName:"memberCount",keyNum:"5",itemType:["int"],comment:""},owner:{keyName:"owner",keyNum:"6",itemType:["string"],comment:""},conversationVersion:{keyName:"conversationVersion",keyNum:"7",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},GroupChatLeftEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//退群的人收到的事件 ObjectType=40205"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},leftUid:{keyName:"leftUid",keyNum:"3",itemType:["string"],comment:""},conversationVersion:{keyName:"conversationVersion",keyNum:"4",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},GroupChatPeerLeftEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//非退群人收到的事件 ObjectType=40206"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},leftUid:{keyName:"leftUid",keyNum:"3",itemType:["string"],comment:""},icon:{keyName:"icon",keyNum:"4",itemType:["string"],comment:""},memberCount:{keyName:"memberCount",keyNum:"5",itemType:["int"],comment:""},owner:{keyName:"owner",keyNum:"6",itemType:["string"],comment:""},conversationVersion:{keyName:"conversationVersion",keyNum:"7",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},GroupChatRoleUpdatedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//ObjectType=40218"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},updatedUids:{keyName:"updatedUids",keyNum:"3",itemType:["list","string"],comment:""},role:{keyName:"role",keyNum:"4",itemType:["int"],comment:""},operatorUid:{keyName:"operatorUid",keyNum:"5",itemType:["string"],comment:""},conversationVersion:{keyName:"conversationVersion",keyNum:"6",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},GroupChatDismissedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//ObjectType=40207"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""}},COMMENT:""},GroupChatTitleUpdatedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//ObjectType=40208"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},title:{keyName:"title",keyNum:"3",itemType:["string"],comment:"//json格式"},conversationVersion:{keyName:"conversationVersion",keyNum:"4",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},GroupChatIconUpdatedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//ObjectType=40209"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},icon:{keyName:"icon",keyNum:"3",itemType:["string"],comment:"//json格式"},conversationVersion:{keyName:"conversationVersion",keyNum:"4",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},GroupChatAnnouncementUpdatedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//ObjectType=40220"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},announcement:{keyName:"announcement",keyNum:"3",itemType:["string"],comment:"// 公告文本,最大2048字节"},operatorUid:{keyName:"operatorUid",keyNum:"4",itemType:["string"],comment:"// 公告的操作者"},modifyTime:{keyName:"modifyTime",keyNum:"5",itemType:["long"],comment:"// 公告的修改时间，单位毫秒"},conversationVersion:{keyName:"conversationVersion",keyNum:"6",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},GroupMemberNickUpdatedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//ObjectType=40221"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},uid:{keyName:"uid",keyNum:"3",itemType:["string"],comment:"// 更新的用户"},nick:{keyName:"nick",keyNum:"4",itemType:["string"],comment:""},conversationVersion:{keyName:"conversationVersion",keyNum:"5",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},UserConversationEmendEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//ObjectType=40210"},userConversationModel:{keyName:"userConversationModel",keyNum:"2",itemType:["UserConversationModel"],comment:"//单聊、群聊都包含；每个人信息可能不一样"}},COMMENT:""},MessageReadStatusModel:{def:{uid:{keyName:"uid",keyNum:"1",itemType:["string"],comment:""},status:{keyName:"status",keyNum:"2",itemType:["int"],comment:"//消息状态0-未读，2-已读(1-保留)"}},COMMENT:""},OperaterModel:{def:{displayName:{keyName:"displayName",keyNum:"1",itemType:["string"],comment:""}},COMMENT:""},RequestContextModel:{def:{operater:{keyName:"operater",keyNum:"1",itemType:["OperaterModel"],comment:"// 操作者"}},COMMENT:""},CreateGroupChatConversationV2Model:{def:{uuid:{keyName:"uuid",keyNum:"1",itemType:["string"],comment:"// 唯一标识一次创建请求，防止弱网下重复建群"},initMembers:{keyName:"initMembers",keyNum:"2",itemType:["list","InitialMemberModel"],comment:"// 群成员列表"},defaultTitle:{keyName:"defaultTitle",keyNum:"3",itemType:["string"],comment:"// 群名称"},iconResource:{keyName:"iconResource",keyNum:"4",itemType:["string"],comment:"// 群头像"},bizType:{keyName:"bizType",keyNum:"5",itemType:["string"],comment:"//业务自定义"},extension:{keyName:"extension",keyNum:"6",itemType:["map","string","string"],comment:""},ctx:{keyName:"ctx",keyNum:"7",itemType:["map","string","string"],comment:""},parent_id:{keyName:"parent_id",keyNum:"8",itemType:["string"],comment:"//父会话id"}},COMMENT:""},UpdateSilencedWhitelistModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"// required 会话id"},members:{keyName:"members",keyNum:"2",itemType:["list","UserModel"],comment:"// required 添加白名单成员列表"}},COMMENT:""},UpdateSilencedBlacklistModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"// required 会话id"},members:{keyName:"members",keyNum:"2",itemType:["list","UserModel"],comment:"// required 添加黑名单成员列表"},silenceDuration:{keyName:"silenceDuration",keyNum:"3",itemType:["long"],comment:"// 禁言时长 单位ms(譬如5分钟则设置为5*60*1000)"}},COMMENT:""},SilencedWhitelistMemberInfoModel:{def:{uid:{keyName:"uid",keyNum:"1",itemType:["string"],comment:"// 禁言用户"},operateTime:{keyName:"operateTime",keyNum:"2",itemType:["long"],comment:"// 操作时间 (ms)"},operateUid:{keyName:"operateUid",keyNum:"3",itemType:["string"],comment:"// 把uid加入白名单的操作者id"}},COMMENT:""},SilencedBlacklistMemberInfoModel:{def:{uid:{keyName:"uid",keyNum:"1",itemType:["string"],comment:"// 禁言用户"},endTime:{keyName:"endTime",keyNum:"2",itemType:["long"],comment:"// 禁言截止时间单位ms"},operateTime:{keyName:"operateTime",keyNum:"3",itemType:["long"],comment:"// 操作时间 (ms)"},operateUid:{keyName:"operateUid",keyNum:"4",itemType:["string"],comment:"// 把uid加入黑名单的操作者id"}},COMMENT:""},SilencedInfoModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"// 群禁言信息"},blacklistInfo:{keyName:"blacklistInfo",keyNum:"2",itemType:["list","SilencedBlacklistMemberInfoModel"],comment:""},whitelistInfo:{keyName:"whitelistInfo",keyNum:"3",itemType:["list","SilencedWhitelistMemberInfoModel"],comment:""}},COMMENT:""},GroupChatAllSilencedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//ObjectType=40211"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},silenceAll:{keyName:"silenceAll",keyNum:"3",itemType:["int"],comment:"// 1 全员禁言（群主,管理员,禁言白名单用户可发言） 0 取消全员禁言"},conversationVersion:{keyName:"conversationVersion",keyNum:"4",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},SilencedBlacklistModifiedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//ObjectType=40212 只推送被操作者"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},silencedStatus:{keyName:"silencedStatus",keyNum:"3",itemType:["int"],comment:"// 2 添加黑名单 0 移除黑名单 (禁言状态和存储状态保持一致)"},silencedEndTime:{keyName:"silencedEndTime",keyNum:"4",itemType:["long"],comment:"// silencedStatus为2时，表示用户禁言截止时间点"},conversationVersion:{keyName:"conversationVersion",keyNum:"5",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},SilencedWhitelistModifiedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//ObjectType=40213 只推送被操作者"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},silencedStatus:{keyName:"silencedStatus",keyNum:"3",itemType:["int"],comment:"// 1 添加白名单 0 移除白名单 (禁言状态和存储状态保持一致)"},conversationVersion:{keyName:"conversationVersion",keyNum:"4",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},GroupAdminModifiedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//ObjectType=40214 推送给所有用户"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},uids:{keyName:"uids",keyNum:"3",itemType:["list","string"],comment:"// 操作的成员列表"},role:{keyName:"role",keyNum:"4",itemType:["int"],comment:"// 2 设置群管理员 3 设置普通成员（和role保持一致）"},admins:{keyName:"admins",keyNum:"5",itemType:["list","string"],comment:"// 所有群管理员列表（不包括群主）"}},COMMENT:""},GroupOwnerModifiedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//ObjectType=40215 推送给所有用户"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},owner:{keyName:"owner",keyNum:"3",itemType:["string"],comment:""},conversationVersion:{keyName:"conversationVersion",keyNum:"4",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},GroupChatExtModifiedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//ObjectType=40217 推送给所有用户"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},conversationType:{keyName:"conversationType",keyNum:"3",itemType:["int"],comment:""},extension:{keyName:"extension",keyNum:"4",itemType:["map","string","string"],comment:""},conversationVersion:{keyName:"conversationVersion",keyNum:"5",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},GroupChatMemberLimitUpdatedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"// 单位毫秒"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:"// 群聊会话id"},msgReadStatusSetting:{keyName:"msgReadStatusSetting",keyNum:"3",itemType:["int"],comment:"// 是否已读 1: 有已读状态 2: 无已读状态(大群都不打算保留已读状态，都会是2)"},memberLimit:{keyName:"memberLimit",keyNum:"4",itemType:["int"],comment:"// 群人数上限"},conversationVersion:{keyName:"conversationVersion",keyNum:"5",itemType:["ConversationVersionModel"],comment:"// 群版本"}},COMMENT:""},GroupMemberExtModifiedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:""},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},uid:{keyName:"uid",keyNum:"3",itemType:["string"],comment:"// 更新的用户  "},extension:{keyName:"extension",keyNum:"4",itemType:["map","string","string"],comment:"// 全量的扩展信息"},conversationVersion:{keyName:"conversationVersion",keyNum:"5",itemType:["ConversationVersionModel"],comment:""}},COMMENT:""},CheckMultimediaAuthModel:{def:{mediaId:{keyName:"mediaId",keyNum:"1",itemType:["string"],comment:""},authBizEntity:{keyName:"authBizEntity",keyNum:"2",itemType:["string"],comment:'/**\n  * 鉴权的业务实体信息，服务端使用该字段来验证权限，格式: json，如 {"msgId":"123", "cid": "12345"}\n  * 注:文件服务器对外提供的鉴权业务参数叫auth_bizEntity,与文件服务保持一致\n  */'}},COMMENT:""},MessageStorageModel:{def:{messageId:{keyName:"messageId",keyNum:"1",itemType:["string"],comment:""},senderUid:{keyName:"senderUid",keyNum:"2",itemType:["string"],comment:""},cid:{keyName:"cid",keyNum:"3",itemType:["string"],comment:""},conversationType:{keyName:"conversationType",keyNum:"4",itemType:["int"],comment:""},contentType:{keyName:"contentType",keyNum:"5",itemType:["int"],comment:""},displayStyle:{keyName:"displayStyle",keyNum:"6",itemType:["int"],comment:""},receiverCount:{keyName:"receiverCount",keyNum:"7",itemType:["int"],comment:""},unreadCount:{keyName:"unreadCount",keyNum:"8",itemType:["int"],comment:""},mtags:{keyName:"mtags",keyNum:"9",itemType:["string"],comment:""},extension:{keyName:"extension",keyNum:"10",itemType:["string"],comment:""},defaultUserExtension:{keyName:"defaultUserExtension",keyNum:"11",itemType:["string"],comment:""},recordStatus:{keyName:"recordStatus",keyNum:"12",itemType:["int"],comment:""},createAt:{keyName:"createAt",keyNum:"13",itemType:["long"],comment:""},gmtCreate:{keyName:"gmtCreate",keyNum:"14",itemType:["long"],comment:""},gmtModified:{keyName:"gmtModified",keyNum:"15",itemType:["long"],comment:""},msgReadStatusSetting:{keyName:"msgReadStatusSetting",keyNum:"16",itemType:["int"],comment:""},recallFeature:{keyName:"recallFeature",keyNum:"17",itemType:["string"],comment:""},updateVersion:{keyName:"updateVersion",keyNum:"18",itemType:["long"],comment:""},receivers:{keyName:"receivers",keyNum:"19",itemType:["list","string"],comment:""},ackStatus:{keyName:"ackStatus",keyNum:"20",itemType:["map","string","int"],comment:""}},COMMENT:""},MessageStorageListModel:{def:{messageStorages:{keyName:"messageStorages",keyNum:"1",itemType:["map","string","MessageStorageModel"],comment:""}},COMMENT:""},AutomaticIconModel:{def:{automaticIconMediaId:{keyName:"automaticIconMediaId",keyNum:"1",itemType:["string"],comment:""}},COMMENT:""},RecallMessageV2Request:{def:{messageId:{keyName:"messageId",keyNum:"1",itemType:["string"],comment:"// MessageManagerService.recallMessageV2 入参"}},COMMENT:""},RecallMessageV2Response:{def:{operatorType:{keyName:"operatorType",keyNum:"1",itemType:["int"],comment:"// 撤回操作者类型"},extension:{keyName:"extension",keyNum:"2",itemType:["map","string","string"],comment:"// 撤回扩展字段"}},COMMENT:""},SimpleListNewestRequestModel:{def:{timestamp:{keyName:"timestamp",keyNum:"1",itemType:["long"],comment:"//拉取时间戳"},maxCount:{keyName:"maxCount",keyNum:"2",itemType:["int"],comment:"//单次拉取上限"}},COMMENT:""},SimpleListNewestResultModel:{def:{userConvModels:{keyName:"userConvModels",keyNum:"1",itemType:["list","UserConversationModel"],comment:""}},COMMENT:""},SetPermissionModel:{def:{cid:{keyName:"cid",keyNum:"1",itemType:["string"],comment:"// required "},permissionGroup:{keyName:"permissionGroup",keyNum:"2",itemType:["string"],comment:"// required "},status:{keyName:"status",keyNum:"3",itemType:["int"],comment:"// 0:权限关闭 1:权限开启 2:权限废弃"}},COMMENT:""},PermissionModel:{def:{permissionGroup:{keyName:"permissionGroup",keyNum:"1",itemType:["string"],comment:""},status:{keyName:"status",keyNum:"2",itemType:["int"],comment:""}},COMMENT:""},GroupChatPermissionsModifiedEventModel:{def:{eventTime:{keyName:"eventTime",keyNum:"1",itemType:["long"],comment:"//ObjectType=40216"},cid:{keyName:"cid",keyNum:"2",itemType:["string"],comment:""},memberPermissions:{keyName:"memberPermissions",keyNum:"3",itemType:["list","PermissionModel"],comment:""}},COMMENT:""}},includes:[["impaas","UserConversationModel"],["impaas","ConversationClearRedPointModel"],["impaas","RequestContextModel"],["impaas","CreateGroupChatConversationV2Model"],["impaas","GroupChatUserConversationModel"],["impaas","MemberModel"],["impaas","JoinV2Model"],["impaas","KickV2Model"],["impaas","LeaveV2Model"],["impaas","UpdateAdminsModel"],["impaas","SetOwnerModel"],["impaas","UpdateGroupMemberNickModel"],["impaas","UpdateGroupMemberRoleModel"],["impaas","ListGroupChatMembersResultModel"],["impaas","SetPermissionModel"],["impaas","UpdateSilencedBlacklistModel"],["impaas","UpdateSilencedWhitelistModel"],["impaas","SilencedBlacklistMemberInfoModel"],["impaas","SilencedInfoModel"],["impaas","RecallMessageV2Response"],["impaas","RecallMessageV2Request"],["impaas","SendMessageModel"],["impaas","SendResultModel"],["impaas","MessageReceiverScopeModel"],["impaas","MessageReadStatusModel"],["impaas","CreateSingleChatConversationModel"],["impaas","SingleChatConversationModel"],["impaas","TypingModel"],["impaas","ForwardRequestModel"],["impaas","ForwardResultModel"],["impaas","CombineForwardRequestModel"],["impaas","CombineForwardResultModel"],["impaas","CreateGroupChatConversationModel"],["impaas","UpdateTitleModel"],["impaas","UpdateIconModel"]],enums:{},interfaces:[{interfaceName:"ConversationService",functions:[{functionName:"listNewest",params:[{paramType:["long"],paramName:"timestamp"},{paramType:["int"],paramName:"maxCount"}],returnType:["list","UserConversationModel"],comment:"/**\n  *描述：拉首屏接口\n  *参数：timestamp 拉取的开始时间点，maxCount 最多拉取的会话（最大1000）\n  */"},{functionName:"simpleListNewest",params:[{paramType:["SimpleListNewestRequestModel"],paramName:"simpleListNewestRequestModel"}],returnType:["SimpleListNewestResultModel"],comment:"/**\n  * 描述：轻量拉首屏接口\n  */"},{functionName:"listNewestPagination",params:[{paramType:["long"],paramName:"timestamp"},{paramType:["int"],paramName:"maxCount"}],returnType:["ListNewestPaginationResultModel"],comment:"/**\n  *描述：分页拉首屏接口\n  *参数：\n  */"},{functionName:"getByCids",params:[{paramType:["list","string"],paramName:"cids"}],returnType:["list","UserConversationModel"],comment:"/**\n  *描述：根据会话id查用户会话(不包括隐藏会话)\n  *参数：\n  */"},{functionName:"setTop",params:[{paramType:["string"],paramName:"cid"},{paramType:["boolean"],paramName:"isTop"}],returnType:["long"],comment:"/**\n  *描述：会话置顶设置\n  *参数：isTop-true置顶，false取消置顶\n  */"},{functionName:"hide",params:[{paramType:["string"],paramName:"cid"}],returnType:["void"],comment:"/**\n  *描述：删除一个会话,只是首屏隐藏，获取Conversation list时不返回hide的数据\n  *参数：\n  */"},{functionName:"mute",params:[{paramType:["string"],paramName:"cid"},{paramType:["boolean"],paramName:"mute"}],returnType:["void"],comment:"/**\n  *描述：更新通知状态\n  */"},{functionName:"clearRedPoint",params:[{paramType:["list","ConversationClearRedPointModel"],paramName:"conv_clear_red_point_models"}],returnType:["void"],comment:"/**\n  *描述：清除会话红点\n  *参数\n  */"},{functionName:"addUserConversation",params:[{paramType:["string"],paramName:"cid"}],returnType:["void"],comment:"/*\n   * 将自己加入到一个已知会话。\n   * 调用场景：客服场景，已存在会话C:B,新的客服B1，B2加入到会话中\n   * 参数: cid 待加入的会话\n   */"},{functionName:"hideBatch",params:[{paramType:["list","string"],paramName:"cids"}],returnType:["void"],comment:"/**\n  *描述：删除一个会话,只是首屏隐藏，获取Conversation list时不返回hide的数据\n  *参数：\n  */"}]},{interfaceName:"GroupChatConversationService",functions:[{functionName:"create",params:[{paramType:["RequestContextModel"],paramName:"requestContextModel"},{paramType:["CreateGroupChatConversationV2Model"],paramName:"createGroupChatCoversationModel"}],returnType:["GroupChatUserConversationModel"],comment:"/**\n  *创建群聊会话\n  */"},{functionName:"dismiss",params:[{paramType:["RequestContextModel"],paramName:"requestContextModel"},{paramType:["string"],paramName:"cid"}],returnType:["void"],comment:"/**\n  *解散群聊会话\n  */"},{functionName:"updateDefTitle",params:[{paramType:["RequestContextModel"],paramName:"requestContextModel"},{paramType:["string"],paramName:"cid"},{paramType:["string"],paramName:"title"}],returnType:["void"],comment:"/**\n  *更新群默认title\n  */"},{functionName:"updateIconResource",params:[{paramType:["RequestContextModel"],paramName:"requestContextModel"},{paramType:["string"],paramName:"cid"},{paramType:["string"],paramName:"icon"}],returnType:["void"],comment:"/**\n  *更新群icon\n  */"},{functionName:"genAutomaticIcon",params:[{paramType:["RequestContextModel"],paramName:"requestContextModel"},{paramType:["list","string"],paramName:"uids"}],returnType:["AutomaticIconModel"],comment:"/**\n  * 生成默认头像\n  * IMPaaS未实现\n  **/"},{functionName:"updateAnnouncement",params:[{paramType:["RequestContextModel"],paramName:"requestContextModel"},{paramType:["string"],paramName:"cid"},{paramType:["string"],paramName:"announcement"}],returnType:["void"],comment:"/**\n  *更新群公告\n  */"},{functionName:"getAnnouncement",params:[{paramType:["string"],paramName:"cid"}],returnType:["GroupChatAnnouncementModel"],comment:"/**\n  *获取群公告\n  */"}]},{interfaceName:"GroupChatMemberService",functions:[{functionName:"join",params:[{paramType:["RequestContextModel"],paramName:"requestContextModel"},{paramType:["JoinV2Model"],paramName:"joinModel"}],returnType:["list","MemberModel"],comment:"/**\n  *群加人\n  */"},{functionName:"kick",params:[{paramType:["RequestContextModel"],paramName:"requestContextModel"},{paramType:["KickV2Model"],paramName:"kickModel"}],returnType:["void"],comment:"/**\n  *群踢人\n  */"},{functionName:"leave",params:[{paramType:["RequestContextModel"],paramName:"requestContextModel"},{paramType:["LeaveV2Model"],paramName:"leaveModel"}],returnType:["void"],comment:"/**\n  *退出群聊\n  */"},{functionName:"listAllMembers",params:[{paramType:["string"],paramName:"cid"}],returnType:["list","MemberModel"],comment:"/**\n  *全量拉群成员\n  */"},{functionName:"listAllMembersV2",params:[{paramType:["string"],paramName:"cid"}],returnType:["ListGroupChatMembersResultModel"],comment:"/**\n  *全量拉群成员\n  */"},{functionName:"addAdmins",params:[{paramType:["RequestContextModel"],paramName:"requestContextModel"},{paramType:["UpdateAdminsModel"],paramName:"updateAdminsModel"}],returnType:["void"],comment:"/**\n  * 添加管理员\n  * 调用权限: 群主\n  * IMPaaS未实现\n  */"},{functionName:"removeAdmins",params:[{paramType:["RequestContextModel"],paramName:"requestContextModel"},{paramType:["UpdateAdminsModel"],paramName:"updateAdminsModel"}],returnType:["void"],comment:"/**\n  * 删除管理员\n  * 调用权限: 群主\n  * IMPaaS未实现\n  */"},{functionName:"listAllAdmins",params:[{paramType:["string"],paramName:"cid"}],returnType:["list","MemberModel"],comment:"/**\n  * 查询全量群管理员\n  * 调用权限: 群成员\n  * IMPaaS未实现\n  */"},{functionName:"setOwner",params:[{paramType:["RequestContextModel"],paramName:"requestContextModel"},{paramType:["SetOwnerModel"],paramName:"setOwnerModel"}],returnType:["void"],comment:"/**\n  * 转让群主\n  * 调用权限: 群主\n  * IMPaaS未实现\n  */"},{functionName:"updateRole",params:[{paramType:["RequestContextModel"],paramName:"requestContextModel"},{paramType:["UpdateGroupMemberRoleModel"],paramName:"updateGroupMemberRoleModel"}],returnType:["void"],comment:"/**\n  *修改群成员角色\n  * IMPaaS未实现\n  */"},{functionName:"updateGroupMemberNick",params:[{paramType:["RequestContextModel"],paramName:"requestContextModel"},{paramType:["UpdateGroupMemberNickModel"],paramName:"updateGroupMemberNickModel"}],returnType:["void"],comment:"/**\n  *修改群成员昵称\n  * IMPaaS未实现\n  */"},{functionName:"getMembers",params:[{paramType:["string"],paramName:"cid"},{paramType:["list","string"],paramName:"uids"}],returnType:["list","MemberModel"],comment:"/**\n  *批量获取群成员,最大限制100\n  * IMPaaS未实现\n  */"}]},{interfaceName:"GroupChatPermissionService",functions:[{functionName:"setMemberPermission",params:[{paramType:["RequestContextModel"],paramName:"requestContextModel"},{paramType:["SetPermissionModel"],paramName:"setPermissionModel"}],returnType:["void"],comment:"/**\n   * 设置普通群成员权限\n   * 调用权限：群主或群管理员\n   * IMPaaS未实现\n   */"}]},{interfaceName:"GroupChatSilenceService",functions:[{functionName:"silenceAll",params:[{paramType:["RequestContextModel"],paramName:"ctx"},{paramType:["string"],paramName:"cid"}],returnType:["void"],comment:"/**\n   * 设置全员禁言\n   * 调用权限：群主或群管理员\n   * 禁言后仅群主和管理员可发言\n   * IMPaaS未实现\n   */"},{functionName:"cancelSilenceAll",params:[{paramType:["RequestContextModel"],paramName:"ctx"},{paramType:["string"],paramName:"cid"}],returnType:["void"],comment:"/**\n   * 取消全员禁言\n   * 调用权限：群主或群管理员\n   * IMPaaS未实现\n   */"},{functionName:"addWhitelist",params:[{paramType:["RequestContextModel"],paramName:"ctx"},{paramType:["UpdateSilencedWhitelistModel"],paramName:"updateSilencedWhitelistModel"}],returnType:["void"],comment:"/**\n   * 增加白名单用户(在设置全员禁言后，可以设置白名单，白名单中的用户可以发言)\n   * 调用权限：群主或群管理员\n   * IMPaaS未实现\n   */"},{functionName:"removeWhitelist",params:[{paramType:["RequestContextModel"],paramName:"ctx"},{paramType:["UpdateSilencedWhitelistModel"],paramName:"updateSilencedWhitelistModel"}],returnType:["void"],comment:"/**\n   * 删除白名单用户\n   * 调用权限：群主或群管理员\n   * IMPaaS未实现\n   */"},{functionName:"addBlacklist",params:[{paramType:["RequestContextModel"],paramName:"ctx"},{paramType:["UpdateSilencedBlacklistModel"],paramName:"updateSilencedBlacklistModel"}],returnType:["void"],comment:"/**\n   * 增加禁言用户\n   * 调用权限：群主或群管理员\n   * IMPaaS未实现\n   */"},{functionName:"removeBlacklist",params:[{paramType:["RequestContextModel"],paramName:"ctx"},{paramType:["UpdateSilencedBlacklistModel"],paramName:"updateSilencedBlacklistModel"}],returnType:["void"],comment:"/**\n   * 删除禁言用户\n   * 调用权限：群主或群管理员\n   * IMPaaS未实现\n   */"},{functionName:"getSilencedInfo",params:[{paramType:["string"],paramName:"cid"}],returnType:["SilencedInfoModel"],comment:"/**\n   * 拉取禁言列表\n   * 调用权限：群成员\n   */"}]},{interfaceName:"MessageManagerService",functions:[{functionName:"listUserMessages",params:[{paramType:["string"],paramName:"cid"},{paramType:["boolean"],paramName:"forward"},{paramType:["long"],paramName:"cursor"},{paramType:["int"],paramName:"count"},{paramType:["boolean"],paramName:"needReceivers"}],returnType:["ListUserMessageResultModel"],comment:"/**\n    * 显示一个谈话下面的信息列表, cursor是createdAt,\n      forward-true：向后取值，forward-false：向前取值，list按createAt从大到小排序，TODO 按从小到大排序更合理\n    */"},{functionName:"listUserMessagesFailover",params:[{paramType:["string"],paramName:"cid"},{paramType:["boolean"],paramName:"forward"},{paramType:["long"],paramName:"cursor"},{paramType:["int"],paramName:"count"},{paramType:["boolean"],paramName:"needReceivers"}],returnType:["ListUserMessageResultModel"],comment:"/**\n    * 异常情况下一个谈话下面的信息列表, cursor是createdAt,\n    * forward-true：向后取值，forward-false：向前取值，list按createAt从大到小排序，TODO 按从小到大排序更合理\n    * 此时count传的值服务端不再使用，使用的是服务端配置的一个值\n    */"},{functionName:"getUserMessageById",params:[{paramType:["string"],paramName:"messageId"}],returnType:["UserMessageModel"],comment:"/**\n     * 取单条消息\n     */"},{functionName:"removeUserMessageIds",params:[{paramType:["string"],paramName:"cid"},{paramType:["list","string"],paramName:"messageIds"}],returnType:["void"],comment:"/**\n     * 删除指定会话里的多条消息(未定)\n     */"},{functionName:"updateExtension",params:[{paramType:["string"],paramName:"messageId"},{paramType:["map","string","string"],paramName:"extension"}],returnType:["void"],comment:"/**\n     * 修改消息扩展信息(未定)\n     */"},{functionName:"recallMessage",params:[{paramType:["string"],paramName:"messageId"}],returnType:["void"],comment:"/**\n     * 消息撤回接口\n     */"},{functionName:"recallMessageByFeature",params:[{paramType:["RequestContextModel"],paramName:"requestContextModel"},{paramType:["string"],paramName:"messageId"},{paramType:["RecallFeatureModel"],paramName:"recallFeature"}],returnType:["void"],comment:"/**\n     * 消息撤回接口, 支持群主\n     * 客户端只支持群主跟发送者撤回\n     */"},{functionName:"clear",params:[{paramType:["string"],paramName:"cid"}],returnType:["void"],comment:"/**\n     * 清空会话消息\n     */"},{functionName:"listUserMessageByIds",params:[{paramType:["string"],paramName:"cid"},{paramType:["list","string"],paramName:"msgIds"}],returnType:["list","UserMessageModel"],comment:"/**\n     * 查询会话中非自己发送的消息.\n     * 默认限制一次最多查100条消息.\n     */"},{functionName:"recallMessageV2",params:[{paramType:["RecallMessageV2Request"],paramName:"req"}],returnType:["RecallMessageV2Response"],comment:"/**\n     * 允许以管理员或其他身份撤回他人消息\n     * IMPaaS 暂未实现\n     */"}]},{interfaceName:"MessageSendService",functions:[{functionName:"send",params:[{paramType:["SendMessageModel"],paramName:"messageModel"}],returnType:["SendResultModel"],comment:""},{functionName:"sendByReceiverScope",params:[{paramType:["SendMessageModel"],paramName:"sendMessageModel"},{paramType:["MessageReceiverScopeModel"],paramName:"receiverScope"}],returnType:["SendResultModel"],comment:""}]},{interfaceName:"MessageStatusService",functions:[{functionName:"read",params:[{paramType:["list","string"],paramName:"messageIds"}],returnType:["void"],comment:"/**\n     * 消息已读接口\n     */"},{functionName:"listMessageReadStatus",params:[{paramType:["string"],paramName:"messageId"}],returnType:["list","MessageReadStatusModel"],comment:"/*\n    *来源：client\n    * 描述：根据消息id拉取消息接收者消息已读、未读状态\n    */"}]},{interfaceName:"SingleChatConversationService",functions:[{functionName:"create",params:[{paramType:["CreateSingleChatConversationModel"],paramName:"createSingleChatCoversationModel"}],returnType:["SingleChatUserConversationModel"],comment:"/**\n  *创建单聊会话\n  */"}]},{interfaceName:"TypingService",functions:[{functionName:"send",params:[{paramType:["TypingModel"],paramName:"typingModel"}],returnType:["void"],comment:"/**\n     * 发送正在输入事件\n     * 调用来源：客户端\n     * 调用权限：\n     *   1. 仅单聊的双方可以调用\n     */"}]},{interfaceName:"MessageForwardService",functions:[{functionName:"batchForward",params:[{paramType:["ForwardRequestModel"],paramName:"forwardRequest"},{paramType:["MessageReceiverScopeModel"],paramName:"receiverScope"}],returnType:["ForwardResultModel"],comment:""},{functionName:"combineForward",params:[{paramType:["CombineForwardRequestModel"],paramName:"combineForwardRequest"},{paramType:["MessageReceiverScopeModel"],paramName:"receiverScope"}],returnType:["CombineForwardResultModel"],comment:""}]},{interfaceName:"GroupChatService",functions:[{functionName:"create",params:[{paramType:["CreateGroupChatConversationModel"],paramName:"createGroupChatCoversationModel"}],returnType:["GroupChatUserConversationModel"],comment:"/**\n  *创建群聊会话\n  */"},{functionName:"dismiss",params:[{paramType:["string"],paramName:"cid"}],returnType:["void"],comment:"/**\n  *解散群聊会话\n  */"},{functionName:"updateDefTitle",params:[{paramType:["UpdateTitleModel"],paramName:"updateTitleModel"}],returnType:["void"],comment:"/**\n  *更新群默认title\n  */"},{functionName:"updateIcon",params:[{paramType:["UpdateIconModel"],paramName:"updateIconModel"}],returnType:["void"],comment:"/**\n  *更新群icon\n  */"}]}]}),Ze=function(e){return Qe.padding("MsgSetExtEventModel",e)},et=Object.values(xe);function tt(e){var t;void 0===e&&(e={});var n=function(e){if(ht.getCloudVersion()){var t={};if(e.cid){var n=e.cid;Object.assign(t,{$unset:["cid"],appCid:{$set:Pe(n)}})}return Re.forEach(function(n){void 0!==e[n]&&(t[n]={$apply:function(e){return"string"===typeof e?Pe(e):Array.isArray(e)&&e.map?e.map(function(e){if("string"===typeof e)return Pe(e);var t=e;return t&&t.uid?C(C({},t),{uid:Pe(t.uid)}):e}):e}})}),t}return{}}(e);return(null===(t=e.recallFeature)||void 0===t?void 0:t.operatorUid)&&Object.assign(n,{recallFeature:{operatorUid:{$apply:Pe}}}),e.groupUserConversationModel&&Object.assign(n,{groupUserConversationModel:{$apply:Le}}),e.userConversationModel&&Object.assign(n,{userConversationModel:{$apply:Fe}}),e.messageModel&&Object.assign(n,{messageModel:{$apply:De}}),e.message&&Object.assign(n,{message:{$apply:De}}),void 0!==(e=l()(e,n)).type&&(e.singleChatUserConversation||e.groupChatUserConversation)&&(e=Fe(e)),e}var nt,rt=function(){function e(){this.emitter=new m.a.EventEmitter}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.register=function(e){var t=this;return et.forEach(function(n){t.emitter.addListener(n,e)}),function(){et.forEach(function(n){t.emitter.removeListener(n,e)})}},e.prototype.unRegister=function(){this.emitter.removeAllListeners()},e.prototype.emit=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return ht.getCloudVersion()&&(n=n.map(function(e){return e.events&&e.events.length>0?e.events=e.events.map(function(e){return tt(e)}):e=tt(e),e})),(t=this.emitter).emit.apply(t,k([e,e],n))},e.prototype.getPushHandler=function(){var e={4e4:function(e){try{var t=function(e){return Qe.padding("UserMessageModel",e)}(e);ht.getEventService().emit(xe.PaaSMessageAdd,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40000",e)}return Promise.resolve()},40001:function(e){try{var t=function(e){return Qe.padding("ConvSetVisibleEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationSetVisible,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40001",e)}return Promise.resolve()},40002:function(e){try{var t=function(e){return Qe.padding("ConvMuteEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationMute,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40002",e)}return Promise.resolve()},40003:function(e){try{var t=function(e){return Qe.padding("ConvSetTopEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationMute,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40003",e)}return Promise.resolve()},40004:function(e){var t;try{var n={events:[]};try{n=function(e){return Qe.padding("ConvClearRedPointListEventModel",e)}(e)}catch(e){}if(0===(null===(t=null===n||void 0===n?void 0:n.events)||void 0===t?void 0:t.length))try{var r=function(e){return Qe.padding("ConvClearRedPointEventModel",e)}(e);n={events:[r]}}catch(e){}"[object Array]"===Object.prototype.toString.call(n)&&(n={events:n}),n.events||(n.events=[]),ht.getEventService().emit(xe.PaaSConversationClearRedPoint,n)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40004",e)}return Promise.resolve()},40005:function(e){try{var t=function(e){return Qe.padding("ConvSetSingleExtEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationSetSingleExt,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40005",e)}return Promise.resolve()},40007:function(e){try{var t=function(e){return Qe.padding("ConvUpdateUserExtEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationGroupUpdateUserExt,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40007",e)}return Promise.resolve()},40101:function(e){try{var t=function(e){return Qe.padding("MsgRemoveEventModel",e)}(e);ht.getEventService().emit(xe.PaaSMessageRemove,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40101",e)}return Promise.resolve()},40102:function(e){try{var t=function(e){return Qe.padding("MsgReadToReaderEventModel",e)}(e);ht.getEventService().emit(xe.PaaSMessageReadToReader,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40102",e)}return Promise.resolve()},40103:function(e){try{var t=function(e){return Qe.padding("MsgReadToSenderEventModel",e)}(e);ht.getEventService().emit(xe.PaaSMessageReadToSenderList,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40103",e)}return Promise.resolve()},40104:function(e){try{var t=function(e){return Qe.padding("MsgRecallEventModel",e)}(e);ht.getEventService().emit(xe.PaaSMessageRecall,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40104",e)}return Promise.resolve()},40105:function(e){try{var t=Ze(e);ht.getEventService().emit(xe.PaaSMessageExtensionChange,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40105",e)}return Promise.resolve()},40106:function(e){try{var t=function(e){return Qe.padding("MsgClearEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationClear,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40106",e)}return Promise.resolve()},40108:function(e){try{var t=Ze(e);ht.getEventService().emit(xe.PaaSMessageExtensionChange,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40108",e)}return Promise.resolve()},40200:function(e){try{var t=function(e){return Qe.padding("GroupChatCreateEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationGroupChatCreate,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40200",e)}return Promise.resolve()},40201:function(e){try{var t=function(e){return Qe.padding("GroupChatJoinedEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationGroupChatJoined,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40201",e)}return Promise.resolve()},40202:function(e){try{var t=function(e){return Qe.padding("GroupChatPeerJoinedEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationGroupChatPeerJoined,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40202",e)}return Promise.resolve()},40203:function(e){try{var t=function(e){return Qe.padding("GroupChatKickedEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationGroupChatKicked,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40203",e)}return Promise.resolve()},40204:function(e){try{var t=function(e){return Qe.padding("GroupChatPeerKickedEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationGroupChatPeerKicked,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40204",e)}return Promise.resolve()},40205:function(e){try{var t=function(e){return Qe.padding("GroupChatLeftEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationGroupChatLeft,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40205",e)}return Promise.resolve()},40206:function(e){try{var t=function(e){return Qe.padding("GroupChatPeerLeftEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationGroupChatPeerLeft,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40206",e)}return Promise.resolve()},40207:function(e){try{var t=function(e){return Qe.padding("GroupChatDismissedEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationGroupChatDismissed,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40207",e)}return Promise.resolve()},40208:function(e){try{var t=function(e){return Qe.padding("GroupChatTitleUpdatedEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationGroupChatTitleUpdated,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40208",e)}return Promise.resolve()},40209:function(e){try{var t=function(e){return Qe.padding("GroupChatIconUpdatedEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationGroupChatIconUpdated,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40209",e)}return Promise.resolve()},40210:function(e){try{var t=function(e){return Qe.padding("UserConversationEmendEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationUserConversationEmend,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40210",e)}return Promise.resolve()},40211:function(e){try{var t=function(e){return Qe.padding("GroupChatAllSilencedEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationGroupChatAllSilenced,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40211",e)}return Promise.resolve()},40212:function(e){try{var t=function(e){return Qe.padding("SilencedBlacklistModifiedEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationSilencedBlacklistModified,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40212",e)}return Promise.resolve()},40213:function(e){try{var t=function(e){return Qe.padding("SilencedWhitelistModifiedEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationSilencedWhitelistModified,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40213",e)}return Promise.resolve()},40214:function(e){try{var t=function(e){return Qe.padding("GroupAdminModifiedEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationGroupAdminModified,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40214",e)}return Promise.resolve()},40215:function(e){try{var t=function(e){return Qe.padding("GroupOwnerModifiedEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationGroupOwnerModified,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40215",e)}return Promise.resolve()},40217:function(e){try{var t=function(e){return Qe.padding("GroupChatExtModifiedEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationGroupChatExtModified,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40217",e)}return Promise.resolve()},40221:function(e){try{var t=function(e){return Qe.padding("GroupMemberNickUpdatedEventModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationGroupMemberNickModified,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40221",e)}return Promise.resolve()}};return{"/s/sync":v()(e),"/s/sync_failover":v()(e),"/s/para":{40006:function(e){try{var t=function(e){return Qe.padding("TypingModel",e)}(e);ht.getEventService().emit(xe.PaaSConversationTypingChange,t)}catch(e){ht.getLoggerService().error("error at pushHandler decode 40006",e)}return Promise.resolve()}}}},e.prototype.registerSyncPushHandler=function(e){var t=this.getPushHandler(),n=new Xe("/s/sync",v()(t["/s/sync"])),r=new Xe("/s/sync_failover",v()(t["/s/sync"]));e.registerPushHandler(n.topicName,n.handlePush),e.registerPushHandler(r.topicName,r.handlePush);var o=new Xe("/s/para",t["/s/para"]);e.registerPushHandler(o.topicName,o.handlePush);var i=new Xe("/s/session/remove",t["/s/session/remove"]);e.registerPushHandler(i.topicName,i.handlePush)},e.prototype.onPushEvent=function(e){var t=this,n=this.getPushHandler();e.on("/s/sync",function(e){var r="/s/sync";return t.handlePushData(e).then(function(e){e.forEach(function(e){try{var t=n[r][(e.objectType||"0")+""];t&&t(e.eventData)}catch(e){ht.getLoggerService().error("error at handle push "+r,e)}})}),Promise.resolve({code:E.SUCCESS,headers:e.headers})}),e.on("/s/sync_failover",function(e){var r="/s/sync_failover";return t.handlePushData(e).then(function(e){e.forEach(function(e){try{var t=n[r][(e.objectType||"0")+""];t&&t(e.eventData)}catch(e){ht.getLoggerService().error("error at handle push "+r,e)}})}),Promise.resolve({code:E.SUCCESS,headers:e.headers})});e.on("/s/para",function(e){var r="/s/para";return t.handlePushData(e).then(function(e){e.forEach(function(e,o){return T(t,void 0,void 0,function(){var t,i;return S(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(s=10*o,new Promise(function(e){return 0===s?e():setTimeout(e,s)}))];case 1:return a.sent(),(t=n[r][(e.objectType||"0")+""])&&t(e.eventData),[3,3];case 2:return i=a.sent(),ht.getLoggerService().error("error at handle push "+r,i),[3,3];case 3:return[2]}var s})})})}),Promise.resolve({code:E.SUCCESS,headers:e.headers})})},e.prototype.offPushEvent=function(e){e.off("/s/sync")},e.prototype.handlePushData=function(e){return new Promise(function(t,n){var r,o,i=e.body;1===(null===(r=null===i||void 0===i?void 0:i.syncExtraType)||void 0===r?void 0:r.type)||2===(null===(o=null===i||void 0===i?void 0:i.syncExtraType)||void 0===o?void 0:o.type)?We({topic:"sync"}).then(function(e){return 200===e.code&&e.body?He(e.body):(t([]),Promise.reject(e))}).catch(function(e){n("error at sync isToolong2 "+Object(g.serializeError)(e)),ht.getLoggerService().error("error at sync isToolong2",e)}):setTimeout(function(){var e,n=[];((null===(e=i.syncPushPackage)||void 0===e?void 0:e.data)||[]).map(function(e){void 0===e&&(e={});var t=e.bizType,r=e.data,o=e.objectType;if(r&&o&&t)try{var i="string"===typeof r?Ke.decodeFromB64(r):r;n.push({bizType:t,eventData:i,objectType:o})}catch(e){ht.getLoggerService().error("error at decode64 "+o,e)}}),t(n)},0)})},e}();!function(e){e.INFO="INFO",e.ERROR="ERROR"}(nt||(nt={}));var ot,it,at,st,ct=function(){function e(){this.batchSyncLocallogToStorage=f()(this.batchSyncLocallogToStorage,300)}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.batchSyncLocallogToStorage=function(){},e.prototype.info=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logFn||(this.logFn=ht.getSettingService().get().log),(e=this.logFn).info.apply(e,t),this.localLog.apply(this,k([nt.INFO],t))},e.prototype.error=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logFn||(this.logFn=ht.getSettingService().get().log),(e=this.logFn).error.apply(e,t),this.localLog.apply(this,k([nt.ERROR],t))},e.prototype.localLog=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ht.getAuthService().getMyOpenId()){if(void 0===this.localLogData){try{this.localLogData=JSON.parse(ht.getStorageService().get(Ae.localLog))}catch(e){}this.localLogData=this.localLogData||[]}var r=["["+e+"] "+(new Date).toLocaleString()];t.forEach(function(e){e.constructor===Error?r.push(JSON.stringify(Object(g.serializeError)(e))):r.push(JSON.stringify(e))}),this.localLogData.push(r.join(". ")),this.batchSyncLocallogToStorage()}},e}(),ut=function(){function e(){}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.FileUpload_pre=function(e,t){return void 0===t&&(t={}),function(e,t){return void 0===t&&(t={}),A("/r/FileUpload/pre",t,[e])}(e,t)},e.prototype.FileUpload_frag=function(e,t){return void 0===t&&(t={}),function(e,t){return void 0===t&&(t={}),A("/r/FileUpload/frag",t,[e])}(e,t)},e.prototype.FileUpload_ci=function(e,t){return void 0===t&&(t={}),function(e,t){return void 0===t&&(t={}),A("/r/FileUpload/ci",t,[e])}(e,t)},e.prototype.FileDown_get=function(e,t){return void 0===t&&(t={}),function(e,t){return void 0===t&&(t={}),A("/r/FileDown/get",t,[e])}(e,t)},e.prototype.FileDown_getDownUrl=function(e,t){return void 0===t&&(t={}),function(e,t){return void 0===t&&(t={}),A("/r/FileDown/getDownUrl",t,[e])}(e,t)},e}();!function(e){e[e.INTIMACY_CONTACT=681]="INTIMACY_CONTACT",e[e.CONTACT=605]="CONTACT",e[e.FRIEND=603]="FRIEND",e[e.ROBOT=712]="ROBOT"}(ot||(ot={})),function(e){e[e.GROUP_MAIN_SEARCH=0]="GROUP_MAIN_SEARCH",e[e.GROUP_SELECT_SEARCH=1]="GROUP_SELECT_SEARCH",e[e.GROUP_PUBLIC_SEARCH=2]="GROUP_PUBLIC_SEARCH",e[e.GROUP_LINEUP_SEARCH=1001]="GROUP_LINEUP_SEARCH"}(it||(it={})),function(e){e[e.DTSorter_DEFAULT=0]="DTSorter_DEFAULT",e[e.DTSorter_LATESTMSG=1]="DTSorter_LATESTMSG",e[e.DTSorter_JOINAT=2]="DTSorter_JOINAT"}(at||(at={})),function(e){e[e.DTReturnType_DEFAULT=0]="DTReturnType_DEFAULT",e[e.DTReturnType_CHATFIELDS=1]="DTReturnType_CHATFIELDS",e[e.DTReturnType_ACTIVEFIELDS=2]="DTReturnType_ACTIVEFIELDS"}(st||(st={}));var lt,dt=function(){function e(){}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.searchHistoryMessage=function(e){return T(this,void 0,void 0,function(){var t,n,r,o;return S(this,function(i){switch(i.label){case 0:return ht.getCloudVersion()&&(s()(e,"appCids")&&(e=l()(e,{cids:{$set:s()(e,"appCids").map(Ie)}}),Object.assign(e,{appCids:void 0})),s()(e,"appUids")&&(e=l()(e,{uids:{$set:s()(e,"appUids").map(Ie)}}),Object.assign(e,{appUids:void 0}))),[4,(a=e,void 0===c&&(c={}),A("/r/SearchI/searchIMPaasHistoryMessage",c,[a]))];case 1:if(200===(t=i.sent()).code)return ht.getCloudVersion()&&(s()(e,"appCids")&&(e=l()(e,{cids:{$set:s()(e,"appCids").map(Ie)}}),Object.assign(e,{appCids:void 0})),t.body.groupMsgModelList&&(n=t.body.groupMsgModelList.map(function(e){var t,n=null===(t=e.msgList)||void 0===t?void 0:t.map(function(e){var t=l()(e,{$unset:["cid"]});return Object.assign(t,{appCid:Pe(e.cid)}),t});return C(C({},e),{msgList:n||[]})}),t.body.groupMsgModelList=l()(t.body.groupMsgModelList,{$set:n})),t.body.msgList&&(r=t.body.msgList.map(function(e){var t=l()(e,{$unset:["cid"]});return Object.assign(t,{appCid:Pe(e.cid)}),t}),t.body.msgList=l()(t.body.msgList,{$set:r}))),[2,t.body];throw o="response error at [searchHistoryMessage]: "+t,ht.getLoggerService().error(o),o}var a,c})})},e}(),ft=function(e){var t,n,r=0;return 1===e.type?r=(null===(t=e.singleChatUserConversation)||void 0===t?void 0:t.topRank)||0:2===e.type&&(r=(null===(n=e.groupChatUserConversation)||void 0===n?void 0:n.topRank)||0),r},pt=function(e){var t,n,r=0;return 1===e.type?r=(null===(t=e.singleChatUserConversation)||void 0===t?void 0:t.modifyTime)||0:2===e.type&&(r=(null===(n=e.groupChatUserConversation)||void 0===n?void 0:n.modifyTime)||0),r},mt=Object.freeze({__proto__:null,isSingleConv:function(e){return 1===e.type},getConversationType:function(e){return 2===e.type?2:1},getCidByUserConversation:function(e){var t,n,r,o,i=ht.getCloudVersion();return 1===e.type?i?s()(e,"singleChatUserConversation.singleChatConversation.appCid"):null===(n=null===(t=e.singleChatUserConversation)||void 0===t?void 0:t.singleChatConversation)||void 0===n?void 0:n.cid:2===e.type?i?s()(e,"groupChatUserConversation.groupChatConversation.appCid"):null===(o=null===(r=e.groupChatUserConversation)||void 0===r?void 0:r.groupChatConversation)||void 0===o?void 0:o.cid:void 0},getTopRandByUserConversation:ft,getModifyTimeByUserConversation:pt,sortConversations:function(e){return e.sort(function(e,t){var n=ft(e),r=ft(t),o=pt(e),i=pt(t);return n===r||n>0&&r>0?o-i:n-r})}});Number.MAX_SAFE_INTEGER;!function(e){e[e.TooLong=1]="TooLong",e[e.TooLong2=2]="TooLong2"}(lt||(lt={}));var gt=!1,ht=function(){function e(){gt=!1}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.setCloudVersion=function(){gt=!0},e.prototype.getCloudVersion=function(){return gt},e.prototype.getSettingService=function(){return M.getInstance()},e.prototype.getAuthService=function(){return H.getInstance()},e.prototype.getMsgService=function(){return Be.getInstance()},e.prototype.getConvService=function(){return Ge.getInstance()},e.prototype.getUtService=function(){return Ve.getInstance()},e.prototype.getEventService=function(){return rt.getInstance()},e.prototype.getLoggerService=function(){return ct.getInstance()},e.prototype.getStorageService=function(){return qe.getInstance()},e.prototype.getPaasFileService=function(){return ut.getInstance()},e.prototype.getSearchService=function(){return dt.getInstance()},e}().getInstance()}).call(this,n(9))},function(e,t,n){var r=n(570);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){"use strict";(function(n){function r(e){return"object"!==typeof e||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var o="object"===typeof n&&!0;function i(e,t){if(!e){if(o)throw new Error("Invariant failed");throw new Error(t())}}t.invariant=i;var a=Object.prototype.hasOwnProperty,s=Array.prototype.splice,c=Object.prototype.toString;function u(e){return c.call(e).slice(8,-1)}var l=Object.assign||function(e,t){return d(t).forEach(function(n){a.call(t,n)&&(e[n]=t[n])}),e},d="function"===typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function f(e){return Array.isArray(e)?l(e.constructor(e.length),e):"Map"===u(e)?new Map(e):"Set"===u(e)?new Set(e):e&&"object"===typeof e?l(Object.create(Object.getPrototypeOf(e)),e):e}var p=function(){function e(){this.commands=l({},m),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var n=this,r="function"===typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(r)||i(!Array.isArray(r),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),i("object"===typeof r&&null!==r,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(n.commands).join(", ")+"."});var o=e;return d(r).forEach(function(t){if(a.call(n.commands,t)){var i=e===o;o=n.commands[t](r[t],o,r,e),i&&n.isEquals(o,e)&&(o=e)}else{var s="Map"===u(e)?n.update(e.get(t),r[t]):n.update(e[t],r[t]),c="Map"===u(o)?o.get(t):o[t];n.isEquals(s,c)&&("undefined"!==typeof s||a.call(e,t))||(o===e&&(o=f(e)),"Map"===u(o)?o.set(t,s):o[t]=s)}}),o},e}();t.Context=p;var m={$push:function(e,t,n){return h(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return h(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,o){return function(e,t){i(Array.isArray(e),function(){return"Expected $splice target to be an array; got "+r(e)}),y(t.$splice)}(t,n),e.forEach(function(e){y(e),t===o&&e.length&&(t=f(o)),s.apply(t,e)}),t},$set:function(e,t,n){return function(e){i(1===Object.keys(e).length,function(){return"Cannot have more than one key in an object with $set"})}(n),e},$toggle:function(e,t){v(e,"$toggle");var n=e.length?f(t):t;return e.forEach(function(e){n[e]=!t[e]}),n},$unset:function(e,t,n,r){return v(e,"$unset"),e.forEach(function(e){Object.hasOwnProperty.call(t,e)&&(t===r&&(t=f(r)),delete t[e])}),t},$add:function(e,t,n,r){return _(t,"$add"),v(e,"$add"),"Map"===u(t)?e.forEach(function(e){var n=e[0],o=e[1];t===r&&t.get(n)!==o&&(t=f(r)),t.set(n,o)}):e.forEach(function(e){t!==r||t.has(e)||(t=f(r)),t.add(e)}),t},$remove:function(e,t,n,r){return _(t,"$remove"),v(e,"$remove"),e.forEach(function(e){t===r&&t.has(e)&&(t=f(r)),t.delete(e)}),t},$merge:function(e,t,n,o){var a,s;return a=t,i((s=e)&&"object"===typeof s,function(){return"update(): $merge expects a spec of type 'object'; got "+r(s)}),i(a&&"object"===typeof a,function(){return"update(): $merge expects a target of type 'object'; got "+r(a)}),d(e).forEach(function(n){e[n]!==t[n]&&(t===o&&(t=f(o)),t[n]=e[n])}),t},$apply:function(e,t){var n;return i("function"===typeof(n=e),function(){return"update(): expected spec of $apply to be a function; got "+r(n)+"."}),e(t)}},g=new p;function h(e,t,n){i(Array.isArray(e),function(){return"update(): expected target of "+r(n)+" to be an array; got "+r(e)+"."}),v(t[n],n)}function v(e,t){i(Array.isArray(e),function(){return"update(): expected spec of "+r(t)+" to be an array; got "+r(e)+". Did you forget to wrap your parameter in an array?"})}function y(e){i(Array.isArray(e),function(){return"update(): expected spec of $splice to be an array of arrays; got "+r(e)+". Did you forget to wrap your parameters in an array?"})}function _(e,t){var n=u(e);i("Map"===n||"Set"===n,function(){return"update(): "+r(t)+" expects a target of type Set or Map; got "+r(n)})}t.isEquals=g.update.isEquals,t.extend=g.extend,t.default=g.update,t.default.default=e.exports=l(t.default,t)}).call(this,n(7))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,d=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||l||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";(function(n){function r(e){return"object"!==typeof e||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var o="object"===typeof n&&!0;function i(e,t){if(!e){if(o)throw new Error("Invariant failed");throw new Error(t())}}t.invariant=i;var a=Object.prototype.hasOwnProperty,s=Array.prototype.splice,c=Object.prototype.toString;function u(e){return c.call(e).slice(8,-1)}var l=Object.assign||function(e,t){return d(t).forEach(function(n){a.call(t,n)&&(e[n]=t[n])}),e},d="function"===typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function f(e){return Array.isArray(e)?l(e.constructor(e.length),e):"Map"===u(e)?new Map(e):"Set"===u(e)?new Set(e):e&&"object"===typeof e?l(Object.create(Object.getPrototypeOf(e)),e):e}var p=function(){function e(){this.commands=l({},m),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var n=this,r="function"===typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(r)||i(!Array.isArray(r),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),i("object"===typeof r&&null!==r,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(n.commands).join(", ")+"."});var o=e;return d(r).forEach(function(t){if(a.call(n.commands,t)){var i=e===o;o=n.commands[t](r[t],o,r,e),i&&n.isEquals(o,e)&&(o=e)}else{var s="Map"===u(e)?n.update(e.get(t),r[t]):n.update(e[t],r[t]),c="Map"===u(o)?o.get(t):o[t];n.isEquals(s,c)&&("undefined"!==typeof s||a.call(e,t))||(o===e&&(o=f(e)),"Map"===u(o)?o.set(t,s):o[t]=s)}}),o},e}();t.Context=p;var m={$push:function(e,t,n){return h(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return h(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,o){return function(e,t){i(Array.isArray(e),function(){return"Expected $splice target to be an array; got "+r(e)}),y(t.$splice)}(t,n),e.forEach(function(e){y(e),t===o&&e.length&&(t=f(o)),s.apply(t,e)}),t},$set:function(e,t,n){return function(e){i(1===Object.keys(e).length,function(){return"Cannot have more than one key in an object with $set"})}(n),e},$toggle:function(e,t){v(e,"$toggle");var n=e.length?f(t):t;return e.forEach(function(e){n[e]=!t[e]}),n},$unset:function(e,t,n,r){return v(e,"$unset"),e.forEach(function(e){Object.hasOwnProperty.call(t,e)&&(t===r&&(t=f(r)),delete t[e])}),t},$add:function(e,t,n,r){return _(t,"$add"),v(e,"$add"),"Map"===u(t)?e.forEach(function(e){var n=e[0],o=e[1];t===r&&t.get(n)!==o&&(t=f(r)),t.set(n,o)}):e.forEach(function(e){t!==r||t.has(e)||(t=f(r)),t.add(e)}),t},$remove:function(e,t,n,r){return _(t,"$remove"),v(e,"$remove"),e.forEach(function(e){t===r&&t.has(e)&&(t=f(r)),t.delete(e)}),t},$merge:function(e,t,n,o){var a,s;return a=t,i((s=e)&&"object"===typeof s,function(){return"update(): $merge expects a spec of type 'object'; got "+r(s)}),i(a&&"object"===typeof a,function(){return"update(): $merge expects a target of type 'object'; got "+r(a)}),d(e).forEach(function(n){e[n]!==t[n]&&(t===o&&(t=f(o)),t[n]=e[n])}),t},$apply:function(e,t){var n;return i("function"===typeof(n=e),function(){return"update(): expected spec of $apply to be a function; got "+r(n)+"."}),e(t)}},g=new p;function h(e,t,n){i(Array.isArray(e),function(){return"update(): expected target of "+r(n)+" to be an array; got "+r(e)+"."}),v(t[n],n)}function v(e,t){i(Array.isArray(e),function(){return"update(): expected spec of "+r(t)+" to be an array; got "+r(e)+". Did you forget to wrap your parameter in an array?"})}function y(e){i(Array.isArray(e),function(){return"update(): expected spec of $splice to be an array of arrays; got "+r(e)+". Did you forget to wrap your parameters in an array?"})}function _(e,t){var n=u(e);i("Map"===n||"Set"===n,function(){return"update(): "+r(t)+" expects a target of type Set or Map; got "+r(n)})}t.isEquals=g.update.isEquals,t.extend=g.extend,t.default=g.update,t.default.default=e.exports=l(t.default,t)}).call(this,n(7))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return T}),n.d(t,"b",function(){return k}),n.d(t,"c",function(){return x}),n.d(t,"d",function(){return D}),n.d(t,"e",function(){return C}),n.d(t,"f",function(){return q}),n.d(t,"g",function(){return G}),n.d(t,"h",function(){return w}),n.d(t,"i",function(){return O}),n.d(t,"j",function(){return R}),n.d(t,"k",function(){return H}),n.d(t,"l",function(){return Y}),n.d(t,"m",function(){return z}),n.d(t,"n",function(){return J}),n.d(t,"o",function(){return V});var r=n(42),o=n(2),i=n.n(o),a=n(160),s=n.n(a),c=n(46),u=n(70),l=n(40),d=n(158),f=n.n(d),p=(n(491),n(159)),m=n(225),g=n.n(m),h=1073741823,v="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};var y=i.a.createContext||function(e,t){var n,o,a="__create-react-context-"+function(){var e="__global_unique_id__";return v[e]=(v[e]||0)+1}()+"__",c=function(e){function n(){for(var t,n,r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).emitter=(n=t.props.value,r=[],{on:function(e){r.push(e)},off:function(e){r=r.filter(function(t){return t!==e})},get:function(){return n},set:function(e,t){n=e,r.forEach(function(e){return e(n,t)})}}),t}Object(r.a)(n,e);var o=n.prototype;return o.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},o.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,o=e.value;((i=r)===(a=o)?0!==i||1/i===1/a:i!==i&&a!==a)?n=0:(n="function"===typeof t?t(r,o):h,0!==(n|=0)&&this.emitter.set(e.value,n))}var i,a},o.render=function(){return this.props.children},n}(i.a.Component);c.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(r.a)(n,t);var o=n.prototype;return o.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?h:t},o.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?h:e},o.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},o.getValue=function(){return this.context[a]?this.context[a].get():e},o.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.a.Component);return u.contextTypes=((o={})[a]=s.a.object,o),{Provider:c,Consumer:u}},_=function(e){var t=y();return t.displayName=e,t},b=_("Router-History"),w=_("Router"),C=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._pendingLocation=e})),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(t){e._isMounted&&e.setState({location:t})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return i.a.createElement(w.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i.a.createElement(b.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i.a.Component);var T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(c.b)(t.props),t}return Object(r.a)(t,e),t.prototype.render=function(){return i.a.createElement(C,{history:this.history,children:this.props.children})},t}(i.a.Component);var S=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(i.a.Component);function k(e){var t=e.message,n=e.when,r=void 0===n||n;return i.a.createElement(w.Consumer,null,function(e){if(e||Object(u.a)(!1),!r||e.staticContext)return null;var n=e.history.block;return i.a.createElement(S,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})})}var N={},M=1e4,E=0;function O(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(N[e])return N[e];var t=f.a.compile(e);return E<M&&(N[e]=t,E++),t}(e)(t,{pretty:!0})}function x(e){var t=e.computedMatch,n=e.to,r=e.push,o=void 0!==r&&r;return i.a.createElement(w.Consumer,null,function(e){e||Object(u.a)(!1);var r=e.history,a=e.staticContext,s=o?r.push:r.replace,d=Object(c.a)(t?"string"===typeof n?O(n,t.params):Object(l.a)({},n,{pathname:O(n.pathname,t.params)}):n);return a?(s(d),null):i.a.createElement(S,{onMount:function(){s(d)},onUpdate:function(e,t){var n=Object(c.a)(t.to);Object(c.d)(n,Object(l.a)({},d,{key:n.key}))||s(d)},to:n})})}var A={},I=1e4,P=0;function R(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,i=void 0!==o&&o,a=n.strict,s=void 0!==a&&a,c=n.sensitive,u=void 0!==c&&c;return[].concat(r).reduce(function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=A[n]||(A[n]={});if(r[e])return r[e];var o=[],i={regexp:f()(e,o,t),keys:o};return P<I&&(r[e]=i,P++),i}(n,{end:i,strict:s,sensitive:u}),o=r.regexp,a=r.keys,c=o.exec(e);if(!c)return null;var l=c[0],d=c.slice(1),p=e===l;return i&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:a.reduce(function(e,t,n){return e[t.name]=d[n],e},{})}},null)}var D=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return i.a.createElement(w.Consumer,null,function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?R(n.pathname,e.props):t.match,o=Object(l.a)({},t,{location:n,match:r}),a=e.props,s=a.children,c=a.component,d=a.render;return Array.isArray(s)&&function(e){return 0===i.a.Children.count(e)}(s)&&(s=null),i.a.createElement(w.Provider,{value:o},o.match?s?"function"===typeof s?s(o):s:c?i.a.createElement(c,o):d?d(o):null:"function"===typeof s?s(o):null)})},t}(i.a.Component);function U(e){return"/"===e.charAt(0)?e:"/"+e}function j(e,t){if(!e)return t;var n=U(e);return 0!==t.pathname.indexOf(n)?t:Object(l.a)({},t,{pathname:t.pathname.substr(n.length)})}function L(e){return"string"===typeof e?e:Object(c.c)(e)}function F(e){return function(){Object(u.a)(!1)}}function B(){}var q=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return B},t.handleBlock=function(){return B},t}Object(r.a)(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,o=void 0===r?"":r,i=n.context,a=void 0===i?{}:i;a.action=t,a.location=function(e,t){return e?Object(l.a)({},t,{pathname:U(e)+t.pathname}):t}(o,Object(c.a)(e)),a.url=L(a.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,o=void 0===r?{}:r,a=e.location,s=void 0===a?"/":a,u=Object(p.a)(e,["basename","context","location"]),d={createHref:function(e){return U(n+L(e))},action:"POP",location:j(n,Object(c.a)(s)),push:this.handlePush,replace:this.handleReplace,go:F(),goBack:F(),goForward:F(),listen:this.handleListen,block:this.handleBlock};return i.a.createElement(C,Object(l.a)({},u,{history:d,staticContext:o}))},t}(i.a.Component);var G=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return i.a.createElement(w.Consumer,null,function(t){t||Object(u.a)(!1);var n,r,o=e.props.location||t.location;return i.a.Children.forEach(e.props.children,function(e){if(null==r&&i.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?R(o.pathname,Object(l.a)({},e.props,{path:a})):t.match}}),r?i.a.cloneElement(n,{location:o,computedMatch:r}):null})},t}(i.a.Component);function V(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(p.a)(t,["wrappedComponentRef"]);return i.a.createElement(w.Consumer,null,function(t){return t||Object(u.a)(!1),i.a.createElement(e,Object(l.a)({},r,t,{ref:n}))})};return n.displayName=t,n.WrappedComponent=e,g()(n,e)}var W=i.a.useContext;function H(){return W(b)}function Y(){return W(w).location}function z(){var e=W(w).match;return e?e.params:{}}function J(e){var t=Y(),n=W(w).match;return e?R(t.pathname,e):n}}).call(this,n(9))},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],l=0;(c=new Error(t.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){var r=n(523);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){var r=n(485)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(108);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.Success=0]="Success",e[e.Executing=1]="Executing",e[e.None=2]="None",e[e.Finish=99]="Finish",e[e.ServerAPINotFound=150]="ServerAPINotFound",e[e.ServerDataNotFound=151]="ServerDataNotFound",e[e.NonMainThread=200]="NonMainThread",e[e.AbilityNotFound=404]="AbilityNotFound",e[e.APINotFound=405]="APINotFound",e[e.AbilityInternalError=499]="AbilityInternalError",e[e.ParametersNotCorrect=500]="ParametersNotCorrect",e[e.BizDefaultError=1e3]="BizDefaultError"}(r||(r={}))},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.Success=0]="Success",e[e.Executing=1]="Executing",e[e.None=2]="None",e[e.Finish=99]="Finish",e[e.ServerAPINotFound=150]="ServerAPINotFound",e[e.ServerDataNotFound=151]="ServerDataNotFound",e[e.NonMainThread=200]="NonMainThread",e[e.AbilityNotFound=404]="AbilityNotFound",e[e.APINotFound=405]="APINotFound",e[e.AbilityInternalError=499]="AbilityInternalError",e[e.ParametersNotCorrect=500]="ParametersNotCorrect",e[e.BizDefaultError=1e3]="BizDefaultError"}(r||(r={}))},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.Success=0]="Success",e[e.Executing=1]="Executing",e[e.None=2]="None",e[e.Finish=99]="Finish",e[e.ServerAPINotFound=150]="ServerAPINotFound",e[e.ServerDataNotFound=151]="ServerDataNotFound",e[e.NonMainThread=200]="NonMainThread",e[e.AbilityNotFound=404]="AbilityNotFound",e[e.APINotFound=405]="APINotFound",e[e.AbilityInternalError=499]="AbilityInternalError",e[e.ParametersNotCorrect=500]="ParametersNotCorrect",e[e.BizDefaultError=1e3]="BizDefaultError"}(r||(r={}))},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.Success=0]="Success",e[e.Executing=1]="Executing",e[e.None=2]="None",e[e.Finish=99]="Finish",e[e.ServerAPINotFound=150]="ServerAPINotFound",e[e.ServerDataNotFound=151]="ServerDataNotFound",e[e.NonMainThread=200]="NonMainThread",e[e.AbilityNotFound=404]="AbilityNotFound",e[e.APINotFound=405]="APINotFound",e[e.AbilityInternalError=499]="AbilityInternalError",e[e.ParametersNotCorrect=500]="ParametersNotCorrect",e[e.BizDefaultError=1e3]="BizDefaultError"}(r||(r={}))},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,n){e.exports=n(504)()},function(e,t,n){var r=n(192);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,n){var r=n(197),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";t.__esModule=!0;var r=n(657);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||(t[e]=r[e]))})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(663);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||(t[e]=r[e]))})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},,function(e,t,n){"use strict";var r=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n,r=null!==(t=null===(n=i.default)||void 0===n?void 0:n.sdkVersion)&&void 0!==t?t:"",a=void 0===window.__imHisoryTaskRunning?2:window.__imHisoryTaskRunning?1:0;"string"===typeof e?e="".concat(e,"&sdkVersion=").concat(r,"&fetchHis=").concat(a):(e.sdkVersion=r,e.fetchHis=a);(0,o.default)(e)},Object.defineProperty(t,"generateTraceId",{enumerable:!0,get:function(){return o.generateTraceId}});var o=a(n(522)),i=a(n(35));function a(e,t){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(a=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,s={__proto__:null,default:e};if(null===e||"object"!=r(e)&&"function"!=typeof e)return s;if(i=t?o:n){if(i.has(e))return i.get(e);i.set(e,s)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(a.get||a.set)?i(s,c,a):s[c]=e[c]);return s})(e,t)}},,function(e,t,n){"use strict";n.r(t),n.d(t,"convertMessageSummary",function(){return Ws}),n.d(t,"convertConversation",function(){return Hs}),n.d(t,"setMsgExtInfoStrict",function(){return Ku}),n.d(t,"structCardUrl",function(){return Xu}),n.d(t,"transCustomMsg",function(){return Qu}),n.d(t,"convertMessage",function(){return Zu}),n.d(t,"wrapSendMessage",function(){return nl}),n.d(t,"convertGetMessageParams",function(){return rl}),n.d(t,"convertRecallMessageParams",function(){return ol}),n.d(t,"httpConversation",function(){return f}),n.d(t,"httpMessage",function(){return d}),n.d(t,"MessageSendType",function(){return ms}),n.d(t,"Type",function(){return gs}),n.d(t,"UIMessageStatus",function(){return hs}),n.d(t,"SendMsgType",function(){return vs}),n.d(t,"GroupMemberRole",function(){return Gs}),n.d(t,"tansSingleChatUserConversationModel",function(){return Sa}),n.d(t,"tansGroupChatUserConversationModel",function(){return ka}),n.d(t,"transConvData",function(){return Na}),n.d(t,"getGroupInfo",function(){return xa}),n.d(t,"transformTypeStatus",function(){return Aa}),n.d(t,"transGroupMemberData",function(){return Ia}),n.d(t,"transMsgData",function(){return fa}),n.d(t,"wrapSendMessageModel",function(){return pa}),n.d(t,"buildMessageSummary",function(){return ma}),n.d(t,"convertSendMessageModelToMessage",function(){return ba}),n.d(t,"typeFromPrefix",function(){return Ut}),n.d(t,"typeFromBizDomain",function(){return jt}),n.d(t,"domainFromTargetType",function(){return Lt}),n.d(t,"bizDomainFromType",function(){return Ft}),n.d(t,"bizDomainFromPrefix",function(){return Bt}),n.d(t,"prefixFromBizDomain",function(){return qt}),n.d(t,"getPrefix",function(){return Gt}),n.d(t,"getTargetType",function(){return Vt}),n.d(t,"getBizDomain",function(){return Wt}),n.d(t,"toTarget",function(){return Ht}),n.d(t,"tansMsgStatus",function(){return Yt}),n.d(t,"safetyParse",function(){return zt}),n.d(t,"transMsgBody",function(){return Jt}),n.d(t,"parseBcReceiverStateBase",function(){return $t}),n.d(t,"parseBcReceiverState",function(){return Kt}),n.d(t,"mergeMessageExtension",function(){return Xt}),n.d(t,"getNumberId",function(){return Ot}),n.d(t,"getPrefixFromNick",function(){return xt}),n.d(t,"isSelfSide",function(){return At}),n.d(t,"deDuplicateMessage",function(){return It}),n.d(t,"sortMessageFunction",function(){return Pt}),n.d(t,"sortMessageQueue",function(){return Rt}),n.d(t,"MessageSortDirection",function(){return Dt}),n.d(t,"ConversationStatus",function(){return N}),n.d(t,"InputStatus",function(){return M}),n.d(t,"ConversationPosition",function(){return E}),n.d(t,"RemindType",function(){return O}),n.d(t,"MessageRemindBehavior",function(){return x}),n.d(t,"MessageRemindType",function(){return A}),n.d(t,"PaasContentType",function(){return I}),n.d(t,"AIMCustomMessageType",function(){return P}),n.d(t,"MessageType",function(){return R}),n.d(t,"MessageSelfState",function(){return D}),n.d(t,"MessageAtType",function(){return U}),n.d(t,"MessageStatus",function(){return j}),n.d(t,"BizChannelType",function(){return L}),n.d(t,"MessageResultFromType",function(){return F}),n.d(t,"FetchType",function(){return B}),n.d(t,"IMChannel",function(){return q}),n.d(t,"Environment",function(){return V}),n.d(t,"LruCache",function(){return Y}),n.d(t,"MapCache",function(){return z}),n.d(t,"DataNotifyEventType",function(){return Wa}),n.d(t,"initStore",function(){return Ha}),n.d(t,"dataManager",function(){return $a}),n.d(t,"conversationUtils",function(){return c}),n.d(t,"messageUtils",function(){return r}),n.d(t,"Mtop",function(){return o}),n.d(t,"AuthService",function(){return ss}),n.d(t,"ConversationService",function(){return cs}),n.d(t,"MessageService",function(){return us}),n.d(t,"SettingService",function(){return ls}),n.d(t,"chatSdk",function(){return fs}),n.d(t,"imsdk",function(){return ps}),n.d(t,"baasDataManager",function(){return _c}),n.d(t,"initCurrentUserDisplayInfo",function(){return Ps}),n.d(t,"getCurrentUser",function(){return Rs}),n.d(t,"conversationUtil",function(){return u}),n.d(t,"EmotionUtil",function(){return Ll}),n.d(t,"Logger",function(){return Fl}),n.d(t,"track",function(){return Bl}),n.d(t,"EventNameEnum",function(){return ql}),n.d(t,"ConnectionStatus",function(){return Gl}),n.d(t,"IcbuMessageServiceImpl",function(){return Vl}),n.d(t,"IcbuConversationServiceImpl",function(){return Wl}),n.d(t,"IcbuSettingServiceImpl",function(){return Hl}),n.d(t,"IcbuAuthServiceImpl",function(){return Yl}),n.d(t,"IcbuEventServiceImpl",function(){return zl});var r={};n.r(r),n.d(r,"getNumberId",function(){return Ot}),n.d(r,"getPrefixFromNick",function(){return xt}),n.d(r,"isSelfSide",function(){return At}),n.d(r,"deDuplicateMessage",function(){return It}),n.d(r,"sortMessageFunction",function(){return Pt}),n.d(r,"sortMessageQueue",function(){return Rt}),n.d(r,"MessageSortDirection",function(){return Dt});var o={};n.r(o),n.d(o,"default",function(){return en}),n.d(o,"MTopLib",function(){return tn});var i={};n.r(i),n.d(i,"asyncCall",function(){return Mn}),n.d(i,"syncCall",function(){return En});var a={};n.r(a),n.d(a,"asyncCall",function(){return dr}),n.d(a,"syncCall",function(){return fr});var s={};n.r(s),n.d(s,"ABILITY_NAME",function(){return Dr}),n.d(s,"APIS",function(){return Ur}),n.d(s,"CommitAction",function(){return Pr}),n.d(s,"UTStatus",function(){return Rr}),n.d(s,"commitEvent",function(){return jr}),n.d(s,"pageAppear",function(){return Lr}),n.d(s,"pageDisAppear",function(){return Fr}),n.d(s,"skipPage",function(){return Br}),n.d(s,"pageAppearDonotSkip",function(){return qr}),n.d(s,"updatePageName",function(){return Gr}),n.d(s,"updatePageUrl",function(){return Vr}),n.d(s,"updatePageStatus",function(){return Wr}),n.d(s,"updatePageUtparam",function(){return Hr}),n.d(s,"updateNextPageUtparam",function(){return Yr}),n.d(s,"updatePageProperties",function(){return zr}),n.d(s,"updateNextPageProperties",function(){return Jr}),n.d(s,"updateSessionProperties",function(){return $r}),n.d(s,"updateNextPageUtparamCnt",function(){return Kr}),n.d(s,"getPageSpmUrl",function(){return Xr}),n.d(s,"getPageSpmPre",function(){return Qr}),n.d(s,"requestPageAllProperties",function(){return Zr}),n.d(s,"turnOnUTRealtimeDebug",function(){return eo});var c={};n.r(c),n.d(c,"sortConversationFunction",function(){return Da}),n.d(c,"sortConversation",function(){return Ua}),n.d(c,"deDuplicateConversation",function(){return ja}),n.d(c,"addConversation",function(){return La}),n.d(c,"deleteConversation",function(){return Fa});var u={};n.r(u),n.d(u,"filterConversationByCid",function(){return Ks});var l={};n.r(l),n.d(l,"convert2url",function(){return Dc}),n.d(l,"isEmotionByOriginalData",function(){return Uc}),n.d(l,"isEmotion",function(){return jc}),n.d(l,"convert2urlByOriginalData",function(){return Lc});var d={};n.r(d),n.d(d,"convertMsgExtInfoFromExtension",function(){return Fc}),n.d(d,"convertMessage",function(){return Bc});var f={};n.r(f),n.d(f,"assignConversationMessageSummary",function(){return qc}),n.d(f,"convertConversation",function(){return Wc});var p={};n.r(p),n.d(p,"testGetTargetOld",function(){return yl}),n.d(p,"listConversation",function(){return _l}),n.d(p,"main",function(){return wl}),n.d(p,"listRecentConversation",function(){return Tl}),n.d(p,"listRecentConversationContactDetail",function(){return kl}),n.d(p,"sendMessage",function(){return Ml}),n.d(p,"listRecentMessage",function(){return Ol}),n.d(p,"testGroup",function(){return Al}),n.d(p,"testListGroupMemberDetails",function(){return Pl}),n.d(p,"testListGroupMemberDetails2",function(){return Dl});var m=n(23),g=n.n(m),h=n(1),v=n.n(h),y=n(3),_=n.n(y),b=n(15),w=n.n(b),C=n(0),T=n.n(C),S=n(12),k=n.n(S),N=(n(563),function(e){return e[e.ConversationStatusInvalid=-1]="ConversationStatusInvalid",e[e.ConversationStatusNormal=0]="ConversationStatusNormal",e[e.ConversationStatusDelete=1]="ConversationStatusDelete",e}({})),M=function(e){return e[e.NONE=-1]="NONE",e[e.TEXT=1]="TEXT",e[e.AUDIO=2]="AUDIO",e[e.STOP=0]="STOP",e}({}),E=function(e){return e[e.ConversationPositionNormal=0]="ConversationPositionNormal",e[e.ConversationPositionTop=1]="ConversationPositionTop",e}({}),O=function(e){return e[e.OnlyNormalMessageRemind=0]="OnlyNormalMessageRemind",e[e.AllMute=1]="AllMute",e[e.AllRemind=2]="AllRemind",e[e.OnlyGroupOperationRemind=3]="OnlyGroupOperationRemind",e}({}),x=function(e){return e[e.MessageRemindBehaviorSoundAndVibrate=0]="MessageRemindBehaviorSoundAndVibrate",e[e.MessageRemindBehaviorVibrate=1]="MessageRemindBehaviorVibrate",e[e.MessageRemindBehaviorSound=2]="MessageRemindBehaviorSound",e[e.MessageRemindBehaviorSilent=3]="MessageRemindBehaviorSilent",e}({}),A=function(e){return e[e.MessageRemindTypeNone=0]="MessageRemindTypeNone",e[e.MessageRemindTypeNormal=1]="MessageRemindTypeNormal",e[e.MessageRemindTypeForce=2]="MessageRemindTypeForce",e[e.MessageRemindTypeCustom=3]="MessageRemindTypeCustom",e}({}),I=function(e){return e[e.ContentTypeUnknow=-1]="ContentTypeUnknow",e[e.ContentTypeText=1]="ContentTypeText",e[e.ContentTypeImage=2]="ContentTypeImage",e[e.ContentTypeAudio=3]="ContentTypeAudio",e[e.ContentTypeVideo=4]="ContentTypeVideo",e[e.ContentTypeGeo=5]="ContentTypeGeo",e[e.ContentTypeCustom=101]="ContentTypeCustom",e}({}),P=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.TEMPLATE=1]="TEMPLATE",e[e.DYNAMIC=2]="DYNAMIC",e[e.YUNPAN=3]="YUNPAN",e[e.ITEM=4]="ITEM",e[e.BIND=5]="BIND",e[e.CUSTOM=6]="CUSTOM",e[e.IMAGE=7]="IMAGE",e[e.AUDIO=8]="AUDIO",e[e.VIDEO=9]="VIDEO",e[e.LOCATION=10]="LOCATION",e[e.EMOTION=11]="EMOTION",e[e.SYSTEM=1001]="SYSTEM",e}({}),R=function(e){return e[e.MessageTypeUnknown=0]="MessageTypeUnknown",e[e.MessageTypeMaxTaobao=1e4]="MessageTypeMaxTaobao",e[e.MessageTypeWWPicText=504]="MessageTypeWWPicText",e[e.MessageTypeText=101]="MessageTypeText",e[e.MessageTypeImage=102]="MessageTypeImage",e[e.MessageTypeAudio=104]="MessageTypeAudio",e[e.MessageTypeVideo=105]="MessageTypeVideo",e[e.MessageTypeGeo=116]="MessageTypeGeo",e[e.MessageTypeTemplate=503]="MessageTypeTemplate",e[e.MessageTypeFile=107]="MessageTypeFile",e[e.MessageTypeCustom=109]="MessageTypeCustom",e[e.MessageTypeGoodsFocus=118]="MessageTypeGoodsFocus",e[e.MessageTypeDynamicCard=129]="MessageTypeDynamicCard",e[e.MessageTypeImageEx=103]="MessageTypeImageEx",e[e.MessageTypeSystem=106]="MessageTypeSystem",e[e.MessageTypeShareGoodsCard=111]="MessageTypeShareGoodsCard",e[e.MessageTypeDemotion=-1]="MessageTypeDemotion",e}({}),D=function(e){return e[e.MessageSelfStateUnread=0]="MessageSelfStateUnread",e[e.MessageSelfStateRead=1]="MessageSelfStateRead",e}({}),U=function(e){return e[e.MessageAtTypeMe=0]="MessageAtTypeMe",e[e.MessageAtTypeAll=1]="MessageAtTypeAll",e[e.MessageAtTypeOthers=2]="MessageAtTypeOthers",e}({}),j=function(e){return e[e.MessageStatusNormal=0]="MessageStatusNormal",e[e.MessageStatusDelete=1]="MessageStatusDelete",e[e.MessageStatusRevoke=2]="MessageStatusRevoke",e[e.MessageStatusSending=11]="MessageStatusSending",e[e.MessageStatusFailed=13]="MessageStatusFailed",e}({}),L=function(e){return e[e.BizChannelType_IM=0]="BizChannelType_IM",e[e.BizChannelType_IMBA=1]="BizChannelType_IMBA",e[e.BizChannelType_BC=2]="BizChannelType_BC",e[e.BizChannelType_DingTalk=3]="BizChannelType_DingTalk",e}({}),F=function(e){return e[e.MessageResultFromTypeLocal=0]="MessageResultFromTypeLocal",e[e.MessageResultFromTypeRemote=1]="MessageResultFromTypeRemote",e[e.MessageResultFromTypeUpdate=2]="MessageResultFromTypeUpdate",e}({}),B=function(e){return e[e.FetchTypeNew=0]="FetchTypeNew",e[e.FetchTypeOld=1]="FetchTypeOld",e}({}),q=function(e){return e[e.dingding=0]="dingding",e[e.amp=1]="amp",e}({}),G=function(e){return e[e.CONN_UNCONNECTED=0]="CONN_UNCONNECTED",e[e.CONN_CONNECTING=1]="CONN_CONNECTING",e[e.CONN_CONNECTED=2]="CONN_CONNECTED",e[e.CONN_AUTHING=3]="CONN_AUTHING",e[e.CONN_AUTHED=4]="CONN_AUTHED",e}({}),V=function(e){return e[e.ENV_ONLINE=0]="ENV_ONLINE",e[e.ENV_PRERELEASE=1]="ENV_PRERELEASE",e[e.ENV_DAILY=2]="ENV_DAILY",e[e.ENV_MOCK=3]="ENV_MOCK",e}({}),W=n(227),H=n.n(W),Y=function(){function e(e){this.store=void 0,this.store=new H.a(e)}var t=e.prototype;return t.clear=function(){this.store.reset()},t.delete=function(e){return this.store.del(e),!0},t.forEach=function(e,t){this.store.forEach(e,t)},t.get=function(e){return this.store.get(e)},t.has=function(e){return this.store.has(e)},t.set=function(e,t){return this.store.set(e,t),this},e}(),z=function(){function e(){this.store=void 0,this.store=new Map}var t=e.prototype;return t.clear=function(){this.store.clear()},t.delete=function(e){return this.store.delete(e)},t.forEach=function(e,t){this.store.forEach(e,t)},t.get=function(e){return this.store.get(e)},t.has=function(e){return this.store.has(e)},t.set=function(e,t){return this.store.set(e,t),this},e}(),J=n(4);function $(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function K(e){return!!e&&!!e[Le]}function X(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&Function.toString.call(n)===Fe}(e)||Array.isArray(e)||!!e[je]||!!e.constructor[je]||oe(e)||ie(e))}function Q(e,t,n){void 0===n&&(n=!1),0===Z(e)?(n?Object.keys:Be)(e).forEach(function(r){n&&"symbol"==typeof r||t(r,e[r],e)}):e.forEach(function(n,r){return t(r,n,e)})}function Z(e){var t=e[Le];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:oe(e)?2:ie(e)?3:0}function ee(e,t){return 2===Z(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function te(e,t){return 2===Z(e)?e.get(t):e[t]}function ne(e,t,n){var r=Z(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function re(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function oe(e){return Pe&&e instanceof Map}function ie(e){return Re&&e instanceof Set}function ae(e){return e.o||e.t}function se(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=qe(e);delete t[Le];for(var n=Be(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function ce(e,t){return void 0===t&&(t=!1),le(e)||K(e)||!X(e)||(Z(e)>1&&(e.set=e.add=e.clear=e.delete=ue),Object.freeze(e),t&&Q(e,function(e,t){return ce(t,!0)},!0)),e}function ue(){$(2)}function le(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function de(e){var t=Ge[e];return t||$(18,e),t}function fe(e,t){Ge[e]||(Ge[e]=t)}function pe(){return Ae}function me(e,t){t&&(de("Patches"),e.u=[],e.s=[],e.v=t)}function ge(e){he(e),e.p.forEach(ye),e.p=null}function he(e){e===Ae&&(Ae=e.l)}function ve(e){return Ae={p:[],l:Ae,h:e,m:!0,_:0}}function ye(e){var t=e[Le];0===t.i||1===t.i?t.j():t.g=!0}function _e(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||de("ES5").S(t,e,r),r?(n[Le].P&&(ge(t),$(4)),X(e)&&(e=be(t,e),t.l||Ce(t,e)),t.u&&de("Patches").M(n[Le],e,t.u,t.s)):e=be(t,n,[]),ge(t),t.u&&t.v(t.u,t.s),e!==Ue?e:void 0}function be(e,t,n){if(le(t))return t;var r=t[Le];if(!r)return Q(t,function(o,i){return we(e,r,t,o,i,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Ce(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=se(r.k):r.o;Q(3===r.i?new Set(o):o,function(t,i){return we(e,r,o,t,i,n)}),Ce(e,o,!1),n&&e.u&&de("Patches").R(r,n,e.u,e.s)}return r.o}function we(e,t,n,r,o,i){if(K(o)){var a=be(e,o,i&&t&&3!==t.i&&!ee(t.D,r)?i.concat(r):void 0);if(ne(n,r,a),!K(a))return;e.m=!1}if(X(o)&&!le(o)){if(!e.h.F&&e._<1)return;be(e,o),t&&t.A.l||Ce(e,o)}}function Ce(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&ce(t,n)}function Te(e,t){var n=e[Le];return(n?ae(n):e)[t]}function Se(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ke(e){e.P||(e.P=!0,e.l&&ke(e.l))}function Ne(e){e.o||(e.o=se(e.t))}function Me(e,t,n){var r=oe(t)?de("MapSet").N(t,n):ie(t)?de("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:pe(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=Ve;n&&(o=[r],i=We);var a=Proxy.revocable(o,i),s=a.revoke,c=a.proxy;return r.k=c,r.j=s,c}(t,n):de("ES5").J(t,n);return(n?n.A:pe()).p.push(r),r}function Ee(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return se(e)}function Oe(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Le];return Ve.get(t,e)},set:function(t){var n=this[Le];Ve.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var o=e[t][Le];if(!o.P)switch(o.i){case 5:r(o)&&ke(o);break;case 4:n(o)&&ke(o)}}}function n(e){for(var t=e.t,n=e.k,r=Be(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==Le){var a=t[i];if(void 0===a&&!ee(t,i))return!0;var s=n[i],c=s&&s[Le];if(c?c.t!==a:!re(s,a))return!0}}var u=!!t[Le];return r.length!==Be(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var o={};fe("ES5",{J:function(t,n){var r=Array.isArray(t),o=function(t,n){if(t){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,e(o,!0));return r}var i=qe(n);delete i[Le];for(var a=Be(i),s=0;s<a.length;s++){var c=a[s];i[c]=e(c,t||!!i[c].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,t),i={i:r?5:4,A:n?n.A:pe(),P:!1,I:!1,D:{},l:n,t:t,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,Le,{value:i,writable:!0}),o},S:function(e,n,o){o?K(n)&&n[Le].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Le];if(n){var o=n.t,i=n.k,a=n.D,s=n.i;if(4===s)Q(i,function(t){t!==Le&&(void 0!==o[t]||ee(o,t)?a[t]||e(i[t]):(a[t]=!0,ke(n)))}),Q(o,function(e){void 0!==i[e]||ee(i,e)||(a[e]=!1,ke(n))});else if(5===s){if(r(n)&&(ke(n),a.length=!0),i.length<o.length)for(var c=i.length;c<o.length;c++)a[c]=!1;else for(var u=o.length;u<i.length;u++)a[u]=!0;for(var l=Math.min(i.length,o.length),d=0;d<l;d++)void 0===a[d]&&e(i[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var xe,Ae,Ie="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Pe="undefined"!=typeof Map,Re="undefined"!=typeof Set,De="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Ue=Ie?Symbol.for("immer-nothing"):((xe={})["immer-nothing"]=!0,xe),je=Ie?Symbol.for("immer-draftable"):"__$immer_draftable",Le=Ie?Symbol.for("immer-state"):"__$immer_state",Fe=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Be="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,qe=Object.getOwnPropertyDescriptors||function(e){var t={};return Be(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Ge={},Ve={get:function(e,t){if(t===Le)return e;var n=ae(e);if(!ee(n,t))return function(e,t,n){var r,o=Se(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!X(r)?r:r===Te(e.t,t)?(Ne(e),e.o[t]=Me(e.A.h,r,e)):r},has:function(e,t){return t in ae(e)},ownKeys:function(e){return Reflect.ownKeys(ae(e))},set:function(e,t,n){var r=Se(ae(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=Te(ae(e),t),i=null==o?void 0:o[Le];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(re(n,o)&&(void 0!==n||ee(e.t,t)))return!0;Ne(e),ke(e)}return e.o[t]===n&&"number"!=typeof n||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Te(e.t,t)||t in e.t?(e.D[t]=!1,Ne(e),ke(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=ae(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){$(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){$(12)}},We={};Q(Ve,function(e,t){We[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),We.deleteProperty=function(e,t){return Ve.deleteProperty.call(this,e[0],t)},We.set=function(e,t,n){return Ve.set.call(this,e[0],t,n,e[0])};var He=function(){function e(e){var t=this;this.O=De,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return i.produce(e,function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))})}}var a;if("function"!=typeof n&&$(6),void 0!==r&&"function"!=typeof r&&$(7),X(e)){var s=ve(t),c=Me(t,e,void 0),u=!0;try{a=n(c),u=!1}finally{u?ge(s):he(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then(function(e){return me(s,r),_e(e,s)},function(e){throw ge(s),e}):(me(s,r),_e(a,s))}if(!e||"object"!=typeof e){if((a=n(e))===Ue)return;return void 0===a&&(a=e),t.F&&ce(a,!0),a}$(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,function(t){return e.apply(void 0,[t].concat(o))})}:[t.produce(e,n,function(e,t){r=e,o=t}),r,o];var r,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){X(e)||$(8),K(e)&&(e=function(e){return K(e)||$(22,e),function e(t){if(!X(t))return t;var n,r=t[Le],o=Z(t);if(r){if(!r.P&&(r.i<4||!de("ES5").K(r)))return r.t;r.I=!0,n=Ee(t,o),r.I=!1}else n=Ee(t,o);return Q(n,function(t,o){r&&te(r.t,t)===o||ne(n,t,e(o))}),3===o?new Set(n):n}(e)}(e));var t=ve(this),n=Me(this,e,void 0);return n[Le].C=!0,he(t),n},t.finishDraft=function(e,t){var n=(e&&e[Le]).A;return me(n,t),_e(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!De&&$(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=de("Patches").$;return K(e)?o(e,t):this.produce(e,function(e){return o(e,t.slice(n+1))})},e}(),Ye=new He,ze=Ye.produce;Ye.produceWithPatches.bind(Ye),Ye.setAutoFreeze.bind(Ye),Ye.setUseProxies.bind(Ye),Ye.applyPatches.bind(Ye),Ye.createDraft.bind(Ye),Ye.finishDraft.bind(Ye);const Je="function"===typeof Buffer,$e="function"===typeof TextDecoder?new TextDecoder:void 0,Ke="function"===typeof TextEncoder?new TextEncoder:void 0,Xe=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Qe=(e=>{let t={};return e.forEach((e,n)=>t[e]=n),t})(Xe),Ze=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,et=String.fromCharCode.bind(String),tt="function"===typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),nt=e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_"),rt=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),ot=e=>{let t,n,r,o,i="";const a=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(o=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|o,i+=Xe[t>>18&63]+Xe[t>>12&63]+Xe[t>>6&63]+Xe[63&t]}return a?i.slice(0,a-3)+"===".substring(a):i},it="function"===typeof btoa?e=>btoa(e):Je?e=>Buffer.from(e,"binary").toString("base64"):ot,at=Je?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(et.apply(null,e.subarray(n,n+4096)));return it(t.join(""))},st=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?et(192|t>>>6)+et(128|63&t):et(224|t>>>12&15)+et(128|t>>>6&63)+et(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return et(240|t>>>18&7)+et(128|t>>>12&63)+et(128|t>>>6&63)+et(128|63&t)},ct=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ut=e=>e.replace(ct,st),lt=Je?e=>Buffer.from(e,"utf8").toString("base64"):Ke?e=>at(Ke.encode(e)):e=>it(ut(e)),dt=(e,t=!1)=>t?nt(lt(e)):lt(e),ft=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,pt=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return et((t>>>10)+55296)+et(56320+(1023&t));case 3:return et((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return et((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},mt=e=>e.replace(ft,pt),gt=e=>{if(e=e.replace(/\s+/g,""),!Ze.test(e))throw new TypeError("malformed base64.");let t,n,r;e+="==".slice(2-(3&e.length));let o=[];for(let i=0;i<e.length;)t=Qe[e.charAt(i++)]<<18|Qe[e.charAt(i++)]<<12|(n=Qe[e.charAt(i++)])<<6|(r=Qe[e.charAt(i++)]),64===n?o.push(et(t>>16&255)):64===r?o.push(et(t>>16&255,t>>8&255)):o.push(et(t>>16&255,t>>8&255,255&t));return o.join("")},ht="function"===typeof atob?e=>atob(rt(e)):Je?e=>Buffer.from(e,"base64").toString("binary"):gt,vt=Je?e=>tt(Buffer.from(e,"base64")):e=>tt(ht(e).split("").map(e=>e.charCodeAt(0))),yt=Je?e=>Buffer.from(e,"base64").toString("utf8"):$e?e=>$e.decode(vt(e)):e=>mt(ht(e)),_t=e=>rt(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),bt=e=>yt(_t(e)),wt=dt,Ct=bt,Tt=e=>{if("string"!==typeof e)return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)};var St=function(){function e(){this.setting={environment:V.ENV_ONLINE,appKey:"3ce2dacdc7c0c43ad7bc7f9bc7d7a1b8",mediaHost:"https://static.dingtalk.com/media",deviceId:"",appVersion:"0.1",domain:"cntaobao",bizDomain:"taobao",debug:!1,imChannel:q.dingding,enableTbUpload:!1}}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.set=function(e){this.setting=_()({},this.setting,e)},t.get=function(){return this.setting},e}();St.instance=void 0;var kt=!!window.workbench&&location.protocol.indexOf("alires")>=0,Nt=!!window.workbench&&location.href.indexOf("from=alisupplier")>=0,Mt=/channel=aim/gi.test(location.href),Et=(/env=mock/gi.test(location.href),/^(cntaobao|cnalichn|enaliint|cnnotify)/),Ot=function(e){return"number"===typeof e&&(e+=""),"string"!==typeof e?"":e.split("@")[0]},xt=function(e){if(!e)return"";var t=Et.exec(e);return Array.isArray(t)&&t.length>0?t[0]:""},At=function(e){var t=fs.getAuthService().getLoginUid(),n=e.sender?e.sender.targetId:"",r=e.code,o=r.messageId,i=r.clientId;return!!t&&(!(o||!i)||Ot(t)===Ot(n))},It=function(e){for(var t=[],n=[],r=0;r<e.length;r++){var o=e[r],i=o.code,a=i.messageId,s=i.clientId;o.conversationCode&&((Mt||a||s)&&(a&&t.includes(a||"")||s&&t.includes(s||"")||(a&&t.push(a),s&&t.push(s),n.push(o))))}return n},Pt=function(e,t,n){void 0===n&&(n=Dt.asc);var r=e.sendTime,o=t.sendTime;return"number"===typeof r&&"number"===typeof o?n===Dt.asc?r-o:o-r:0},Rt=function(e,t){return void 0===t&&(t=Dt.asc),!Array.isArray(e)||e.length<1?[]:e.sort(function(e,n){var r=e.sendTime,o=n.sendTime;return"number"===typeof r&&"number"===typeof o?t===Dt.asc?r-o:o-r:0})},Dt=function(e){return e[e.asc=1]="asc",e[e.desc=2]="desc",e}({});function Ut(e){return jt(Bt(e))}function jt(e){return"taobao"===e?"3":"cbu"===e?"8":"notify"===e?"9":""}function Lt(e){return"cntaobao"}function Ft(e){return"3"==e?"taobao":"8"==e?"cbu":"9"==e?"notify":""}function Bt(e){return"cntaobao"===e?"taobao":"cnalichn"===e?"cbu":"enaliint"===e?"icbu":"cnnotify"===e?"notify":e}function qt(e){return"taobao"===e?"cntaobao":"cbu"===e?"cnalichn":"icbu"===e?"enaliint":"notify"===e?"cnnotify":e}function Gt(){var e=St.getInstance().get().domain,t=Wt();return t?qt(t):e||""}function Vt(){return Ut(Gt())}function Wt(){return St.getInstance().get().bizDomain||""}var Ht=function(e,t){return{targetId:Ot(e.uid||""),targetType:jt(t||"")}},Yt=function(e){var t,n=j.MessageStatusNormal;return 0===e.msgStatus||-1===e.msgStatus?n=j.MessageStatusDelete:2===e.msgStatus&&1===(null===(t=e.recallFeature)||void 0===t?void 0:t.showRecallStatusSetting)?n=j.MessageStatusRevoke:13===e.msgStatus&&(n=j.MessageStatusFailed),n},zt=function(e){if(!e)return e;var t=null;if("string"===typeof e)try{t=JSON.parse(e)}catch(n){try{t=JSON.parse(Ct(e))}catch(n){t=e}}else t=e;return t},Jt=function(e,t){var n,r,o,i,a,s,c,u,l,d,f,p,m,g,h,v=e.contentType;if(t.msgType=R.MessageTypeUnknown,t.originalData={},v===I.ContentTypeText)t.msgType=R.MessageTypeText,t.originalData.text=null===(g=e.text)||void 0===g?void 0:g.content,t.summary=null===(h=e.text)||void 0===h?void 0:h.content;else if(v===I.ContentTypeImage);else if(v===I.ContentTypeAudio);else if(v===I.ContentTypeVideo);else if(5===v){var y,_,b;t.msgType=R.MessageTypeGeo,t.originalData.latitude=null===(y=e.geo)||void 0===y?void 0:y.latitude,t.originalData.longitude=null===(_=e.geo)||void 0===_?void 0:_.longitude,t.originalData.locationName=null===(b=e.geo)||void 0===b?void 0:b.locationName}else if(101===v){var w,C;switch(null!==(w=e.custom)&&void 0!==w&&w.summary&&e.custom.summary.length>0&&(t.summary=e.custom.summary),null===(C=e.custom)||void 0===C?void 0:C.type){case P.TEMPLATE:t.msgType=R.MessageTypeTemplate,t.originalData=zt((null===(n=e.custom)||void 0===n?void 0:n.data)||"");break;case P.DYNAMIC:t.msgType=R.MessageTypeDynamicCard,t.originalData=zt((null===(r=e.custom)||void 0===r?void 0:r.data)||"");break;case P.YUNPAN:t.msgType=R.MessageTypeFile,t.originalData=zt((null===(o=e.custom)||void 0===o?void 0:o.data)||"");break;case P.ITEM:t.msgType=R.MessageTypeGoodsFocus,t.originalData=zt((null===(i=e.custom)||void 0===i?void 0:i.data)||"");break;case P.CUSTOM:t.msgType=R.MessageTypeCustom,t.originalData=zt((null===(a=e.custom)||void 0===a?void 0:a.data)||"");break;case P.IMAGE:t.msgType=R.MessageTypeImage,t.originalData=zt((null===(s=e.custom)||void 0===s?void 0:s.data)||"");break;case P.AUDIO:t.msgType=R.MessageTypeAudio,t.originalData=zt((null===(c=e.custom)||void 0===c?void 0:c.data)||"");break;case P.VIDEO:t.msgType=R.MessageTypeVideo,t.originalData=zt((null===(u=e.custom)||void 0===u?void 0:u.data)||"");break;case P.LOCATION:t.msgType=R.MessageTypeGeo,t.originalData=zt((null===(l=e.custom)||void 0===l?void 0:l.data)||"");break;case P.EMOTION:t.msgType=R.MessageTypeImageEx,t.originalData=zt((null===(d=e.custom)||void 0===d?void 0:d.data)||"");break;case P.SYSTEM:t.msgType=R.MessageTypeSystem,t.originalData=zt((null===(f=e.custom)||void 0===f?void 0:f.data)||"");break;case P.BIND:t.msgType=R.MessageTypeWWPicText;var T;if(T=zt((null===(p=e.custom)||void 0===p?void 0:p.data)||""),Array.isArray(T)&&T.length>0){for(var S=0;S<T.length;S++){var k=T[S];k.content=zt(k.content)}t.originalData.msgs=T}break;default:var N;if(null!==(m=e.custom)&&void 0!==m&&m.type&&e.custom.type>R.MessageTypeMaxTaobao)t.msgType=e.custom.type,t.originalData=zt((null===(N=e.custom)||void 0===N?void 0:N.data)||"");else t.msgType=R.MessageTypeUnknown}}return t.msgType!==R.MessageTypeUnknown},$t=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),e<0||t<0?{unread:{count:e,all:!0},read:{count:0,all:!1}}:0===t?{unread:{count:0,all:!1},read:{count:e,all:!0}}:t>=e?{unread:{count:t,all:!0},read:{count:0,all:!1}}:{unread:{count:t,all:!1},read:{count:e-t,all:!1}}},Kt=function(e){var t=e.receiverCount||0,n=e.unreadCount||0;return $t(t,n)},Xt=function(e){var t,n=e.userExtension||{};if(n.hasOwnProperty("dynamic_msg_content"))try{n.dynamic_msg_content=JSON.parse(n.dynamic_msg_content)}catch(e){}return Object.assign({},n,null===(t=e.message)||void 0===t?void 0:t.extension)},Qt=n(165),Zt=n.n(Qt);function en(e){return new Promise(function(t,n){Zt.a.request(e,function(r){"SUCCESS::调用成功"===r.ret[0]?t(r):(r&&r.ret&&r.ret[0].indexOf("SESSION_EXPIRED")>-1&&e.LoginRequest&&location.replace("https://login.taobao.com?tpl_redirect_url="+encodeURIComponent(location.href)),n(r))},function(t){t&&t.ret&&t.ret[0].indexOf("SESSION_EXPIRED")>-1&&e.LoginRequest&&location.replace("https://login.taobao.com?tpl_redirect_url="+encodeURIComponent(location.href)),n(t)})})}var tn=Zt.a,nn=n(124),rn=n.n(nn),on=function(){function e(e){var t=this;this._debug=void 0,this.fmt="yyyy-MM-dd hh:mm:ss",this.format=function(e,n){void 0===n&&(n=t.fmt);var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var o in/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+o+")").test(n)&&(n=n.replace(RegExp.$1,1==RegExp.$1.length?r[o]:("00"+r[o]).substr((""+r[o]).length)));return n},this._debug=rn()(e),this._debug.log=console.log}var t=e.prototype;return t.color=function(e){this._debug.color=e},t.log=function(e){this._debug.enabled=St.getInstance().get().environment!==V.ENV_ONLINE;try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._debug.apply(this,[e].concat(n,[this.format(new Date)]))}catch(e){}},e}(),an=n(75),sn=n(168);function cn(){return cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cn.apply(this,arguments)}var un=Object.create(an.aplus_universal),ln="object"===typeof pha&&"object"===typeof pha.config,dn=ln&&!sn.isWeb;Object.assign(un,{launch:function(e,t){if(void 0===e&&(e=an.aplus_universal.getPageSPM()),void 0===t&&(t={}),!dn){if(e&&ln&&sn.isWeb){var n=window.pha.config.bundleUrl||t.url||"",r=(/spm=([^&]+)/.exec(n)||["","0.0.0.0"])[1],o=e[0]||"0",i=e[1]||"0",a=n.indexOf("?");if(window.WindVane&&window.WindVane.call){var s=n.substring(0,-1===a?n.length:a);return void window.WindVane.call("PHAJSBridge","userTrack.pageEnter",{pageName:t.pageName||s,params:cn({_toUT:2,autosend:"1",url:s,_h5url:n,"spm-cnt":o+"."+i+".0.0","spm-url":r},t)},function(){})}console.error("windvane is not ready, use goldlog launch api")}an.aplus_universal.setPageSPM(e[0],e[1]),an.aplus_universal.enter({pageName:t.name,pageUrl:t.url,spmUrl:t["spm-url"],referrer:t.referrer},t)}},updateNextProps:function(e){void 0===e&&(e={}),an.aplus_universal.updateNextPageProperties(e)}}),un.sendPV=un.launch;var fn=un,pn=n(27);function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){mn(e,t,n[t])})}return e}function hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"===typeof e)return hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var yn,_n=n(65),bn=n(64),wn=n(18),Cn=n(217),Tn=n(63);function Sn(){var e=Object(Tn.getContext)().mtopEvent;if(!yn)try{var t;yn=JSON.parse(decodeURIComponent(null===e||void 0===e||null===(t=e.httpInfo)||void 0===t?void 0:t.headers["api-context"]))||[]}catch(e){null===Tn.logger||void 0===Tn.logger||Tn.logger.info("getInfo err: ".concat(JSON.stringify(e)))}}function kn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Sn();var r={isMatch:!1,res:{statusCode:wn.a.ServerDataNotFound,type:"result"}};return Array.isArray(yn)&&yn.forEach(function(o){Array.isArray(o)&&(o[0]||"")==="".concat(e,".").concat(t)&&JSON.stringify(o[1]||{})===JSON.stringify(n)&&(r={isMatch:!0,res:o[2]||{statusCode:wn.a.ServerDataNotFound,type:"result"}})}),r}function Nn(e,t){Sn();var n=!1;return Array.isArray(yn)&&yn.forEach(function(r){Array.isArray(r)&&(r[0]||"")==="".concat(e,".").concat(t)&&(n=!0)}),n}function Mn(e,t){var n=arguments.length>3?arguments[3]:void 0,r=kn(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});r.isMatch?n(r.res):n({statusCode:wn.a.ServerDataNotFound,type:"result"})}function En(e,t,n){if("ability"===e&&"available"===t)return{statusCode:Nn(null===n||void 0===n?void 0:n.ability,null===n||void 0===n?void 0:n.api)?wn.a.Success:wn.a.ServerAPINotFound,type:"YES"};var r=kn(e,t,n);return r.isMatch?r.res:{statusCode:wn.a.ServerDataNotFound,type:"result"}}var On=n(234);function xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var An=n(30);function In(e,t){return In=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},In(e,t)}function Pn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Pn=function(){return!!e})()}function Rn(e,t,n){return Rn=Pn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&In(o,n.prototype),o},Rn.apply(null,arguments)}function Dn(e){return Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dn(e)}function Un(e){var t="function"===typeof Map?new Map:void 0;return Un=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Rn(e,arguments,Dn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),In(r,e)},Un(e)}function jn(e,t){return!t||"object"!==((n=t)&&"undefined"!==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!==typeof t?xn(e):t;var n}var Ln=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&In(e,t)}(o,e);var t,n,r=(t=o,n=Pn(),function(){var e,r=Dn(t);if(n){var o=Dn(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return jn(this,e)});function o(e,t,n,i,a){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),s=r.call(this,e),Object(An.a)(xn(s),"ability",void 0),Object(An.a)(xn(s),"api",void 0),Object(An.a)(xn(s),"params",void 0),Object(An.a)(xn(s),"output",void 0),Object(An.a)(xn(s),"statusCode",void 0),Object(An.a)(xn(s),"data",void 0),Object(An.a)(xn(s),"type",void 0),s.name="UNIAPIError",s.ability=t,s.api=n,s.params=i,s.output=a,s.statusCode=a.statusCode,s.data=a.data,s.type=a.type,s}return o}(Un(Error)),Fn=function(e){throw e};n(38);var Bn=!!Object(Tn.getContext)(),qn=On.a||Bn,Gn=Bn?i:Cn;function Vn(e){var t={};for(var n in e||{})"function"!==typeof e[n]&&(t[n]=e[n]);return t}function Wn(e){var t=Object(bn.a)(Object(_n.a)({},e),{originStatusCode:null===e||void 0===e?void 0:e.statusCode});return(null===e||void 0===e?void 0:e.statusCode)<wn.a.Finish&&(t.statusCode=wn.a.Success),t}function Hn(e,t,n,r){var o=(r||{}).needThrowError,i=void 0===o||o,a=Vn(n),s=Wn(Gn.syncCall(e,t,a));if(!qn&&("undefined"===typeof s||s.statusCode!==wn.a.Success)){var c=new Ln("Error in syncCall:".concat(e,"-").concat(t,": params: ").concat(JSON.stringify(a),", output: ").concat(JSON.stringify(s)),e,t,a,s);i&&Fn(c)}return s}var Yn,zn=n(233),Jn="ability",$n="available",Kn="instanceAvailable",Xn=!!Object(zn.getContext)(),Qn=new Map,Zn="";!function(e){e[e.LessThan=-1]="LessThan",e[e.EqualTo=0]="EqualTo",e[e.GreaterThan=1]="GreaterThan"}(Yn||(Yn={}));function er(e){return e&&0===e.statusCode&&"YES"===e.type}function tr(e,t){if(!Xn&&("undefined"===typeof window||!window.__megability_bridge__))return!1;if(/AliApp\((TB.*)\/([\d.]+)\)/.test(navigator.userAgent)&&function(e,t){for(var n=String(e).split("."),r=String(t).split("."),o=0;o<Math.min(n.length,r.length);o++){var i=Number(n[o]),a=Number(r[o]);if(i>a)return Yn.GreaterThan;if(a>i)return Yn.LessThan;if(!isNaN(i)&&isNaN(a))return Yn.GreaterThan;if(isNaN(i)&&!isNaN(a))return Yn.LessThan}return Yn.EqualTo}(function(){if(Zn)return Zn;if("undefined"!==typeof navigator){var e=navigator.userAgent.match(/AliApp\((TB.*)\/([\d.]+)\)/);Zn=e?e[2]:""}return Zn}(),"10.26.0")===Yn.LessThan)return!1;if("function"===typeof e&&"function"===typeof e.getAbilityInfo){var n=vn(e.getAbilityInfo(),3),r=n[0],o=n[1],i=n[2],a=!1;if(i){var s=i.ability,c="".concat(r,"-").concat(o,"-").concat(s);if(Qn.has(c))a=Qn.get(c);else a=er(Hn(Jn,Kn,i,{needThrowError:!1})),Qn.set(c,a)}else{var u="".concat(r,"-").concat(o);if(Qn.has(u))a=Qn.get(u);else a=er(Hn(Jn,$n,gn({ability:r,api:o},t||{}),{needThrowError:!1})),Qn.set(u,a)}return a}return!1}var nr,rr=n(68),or=n(67),ir=n(19),ar=n(218),sr=n(66);function cr(){var e=Object(sr.getContext)().mtopEvent;if(!nr)try{var t;nr=JSON.parse(decodeURIComponent(null===e||void 0===e||null===(t=e.httpInfo)||void 0===t?void 0:t.headers["api-context"]))||[]}catch(e){null===sr.logger||void 0===sr.logger||sr.logger.info("getInfo err: ".concat(JSON.stringify(e)))}}function ur(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};cr();var r={isMatch:!1,res:{statusCode:ir.a.ServerDataNotFound,type:"result"}};return Array.isArray(nr)&&nr.forEach(function(o){Array.isArray(o)&&(o[0]||"")==="".concat(e,".").concat(t)&&JSON.stringify(o[1]||{})===JSON.stringify(n)&&(r={isMatch:!0,res:o[2]||{statusCode:ir.a.ServerDataNotFound,type:"result"}})}),r}function lr(e,t){cr();var n=!1;return Array.isArray(nr)&&nr.forEach(function(r){Array.isArray(r)&&(r[0]||"")==="".concat(e,".").concat(t)&&(n=!0)}),n}function dr(e,t){var n=arguments.length>3?arguments[3]:void 0,r=ur(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});r.isMatch?n(r.res):n({statusCode:ir.a.ServerDataNotFound,type:"result"})}function fr(e,t,n){if("ability"===e&&"available"===t)return{statusCode:lr(null===n||void 0===n?void 0:n.ability,null===n||void 0===n?void 0:n.api)?ir.a.Success:ir.a.ServerAPINotFound,type:"YES"};var r=ur(e,t,n);return r.isMatch?r.res:{statusCode:ir.a.ServerDataNotFound,type:"result"}}var pr=n(235);function mr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var gr=n(31);function hr(e,t){return hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},hr(e,t)}function vr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(vr=function(){return!!e})()}function yr(e,t,n){return yr=vr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&hr(o,n.prototype),o},yr.apply(null,arguments)}function _r(e){return _r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_r(e)}function br(e){var t="function"===typeof Map?new Map:void 0;return br=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return yr(e,arguments,_r(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),hr(r,e)},br(e)}function wr(e,t){return!t||"object"!==((n=t)&&"undefined"!==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!==typeof t?mr(e):t;var n}var Cr=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hr(e,t)}(o,e);var t,n,r=(t=o,n=vr(),function(){var e,r=_r(t);if(n){var o=_r(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return wr(this,e)});function o(e,t,n,i,a){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),s=r.call(this,e),Object(gr.a)(mr(s),"ability",void 0),Object(gr.a)(mr(s),"api",void 0),Object(gr.a)(mr(s),"params",void 0),Object(gr.a)(mr(s),"output",void 0),Object(gr.a)(mr(s),"statusCode",void 0),Object(gr.a)(mr(s),"data",void 0),Object(gr.a)(mr(s),"type",void 0),s.name="UNIAPIError",s.ability=t,s.api=n,s.params=i,s.output=a,s.statusCode=a.statusCode,s.data=a.data,s.type=a.type,s}return o}(br(Error)),Tr=function(e){throw e},Sr=function(e){throw e};var kr=n(39),Nr=!!Object(sr.getContext)(),Mr=pr.a||Nr,Er=Nr?a:ar;function Or(e){var t={};for(var n in e||{})"function"!==typeof e[n]&&(t[n]=e[n]);return t}function xr(e){var t=Object(or.a)(Object(rr.a)({},e),{originStatusCode:null===e||void 0===e?void 0:e.statusCode});return(null===e||void 0===e?void 0:e.statusCode)<ir.a.Finish&&(t.statusCode=ir.a.Success),t}function Ar(e,t,n,r){var o=(r||{}).needThrowError,i=void 0===o||o,a=Or(n),s=xr(Er.syncCall(e,t,a));if(!Mr&&("undefined"===typeof s||s.statusCode!==ir.a.Success)){var c=new Cr("Error in syncCall:".concat(e,"-").concat(t,": params: ").concat(JSON.stringify(a),", output: ").concat(JSON.stringify(s)),e,t,a,s);i&&Sr(c)}return s}function Ir(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o={};Object.keys(n).forEach(function(e){var t=n[e];"function"===typeof t&&(o[e.toLowerCase()]=t)});var i=!0;return new Promise(function(a,s){var c=Or(n);Er.asyncCall(e,t,c,function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr.a;if(u.statusCode!==ir.a.Finish){var l=xr(u);if("function"===typeof r&&function(e){return e.statusCode!==ir.a.Finish}(u)&&r(l),i){if(l.statusCode===ir.a.Success)a(l);else{var d=new Cr("Error in asyncCall:".concat(e,"-").concat(t,": params: ").concat(JSON.stringify(c),", output: ").concat(JSON.stringify(l)),e,t,c,l);s(d)}i=!1}if(l.originStatusCode!==ir.a.None)if(l.statusCode!==ir.a.Success)"function"===typeof n.onError&&n.onError(l);else if(l.type){var f=l.type;f=/^on/.test(f)?f.toLowerCase():"on".concat(f.toLowerCase());var p=o[f];"function"===typeof p&&p(l.data||{})}}})}).catch(Tr)}var Pr,Rr,Dr="ut",Ur={commitEvent:"commitEvent",pageAppear:"pageAppear",pageDisAppear:"pageDisAppear",skipPage:"skipPage",pageAppearDonotSkip:"pageAppearDonotSkip",updatePageName:"updatePageName",updatePageUrl:"updatePageUrl",updatePageStatus:"updatePageStatus",updatePageUtparam:"updatePageUtparam",updateNextPageUtparam:"updateNextPageUtparam",updatePageProperties:"updatePageProperties",updateNextPageProperties:"updateNextPageProperties",updateSessionProperties:"updateSessionProperties",updateNextPageUtparamCnt:"updateNextPageUtparamCnt",getPageSpmUrl:"getPageSpmUrl",getPageSpmPre:"getPageSpmPre",requestPageAllProperties:"requestPageAllProperties",turnOnUTRealtimeDebug:"turnOnUTRealtimeDebug"};function jr(e){return Ir(Dr,Ur.commitEvent,e)}function Lr(e){return Ir(Dr,Ur.pageAppear,e)}function Fr(e){return Ir(Dr,Ur.pageDisAppear,e)}function Br(e){return Ir(Dr,Ur.skipPage,e)}function qr(e){return Ir(Dr,Ur.pageAppearDonotSkip,e)}function Gr(e){return Ir(Dr,Ur.updatePageName,e)}function Vr(e){return Ir(Dr,Ur.updatePageUrl,e)}function Wr(e){return Ir(Dr,Ur.updatePageStatus,e)}function Hr(e){return Ir(Dr,Ur.updatePageUtparam,e)}function Yr(e){return Ir(Dr,Ur.updateNextPageUtparam,e)}function zr(e){return Ir(Dr,Ur.updatePageProperties,e)}function Jr(e){return Ir(Dr,Ur.updateNextPageProperties,e)}function $r(e){return Ir(Dr,Ur.updateSessionProperties,e)}function Kr(e){return Ir(Dr,Ur.updateNextPageUtparamCnt,e)}function Xr(e){return Ar(Dr,Ur.getPageSpmUrl,e).data}function Qr(e){return Ar(Dr,Ur.getPageSpmPre,e).data}function Zr(e){return Ir(Dr,Ur.requestPageAllProperties,e)}function eo(e){return Ir(Dr,Ur.turnOnUTRealtimeDebug,e)}!function(e){e.click="click",e.componentExposure="componentExposure",e.pageExposure="pageExposure",e.custom="custom"}(Pr||(Pr={})),function(e){e.UT_H5_IN_WebView="UT_H5_IN_WebView"}(Rr||(Rr={})),jr.getAbilityInfo=function(){return[Dr,Ur.commitEvent]},Lr.getAbilityInfo=function(){return[Dr,Ur.pageAppear]},Fr.getAbilityInfo=function(){return[Dr,Ur.pageDisAppear]},Br.getAbilityInfo=function(){return[Dr,Ur.skipPage]},qr.getAbilityInfo=function(){return[Dr,Ur.pageAppearDonotSkip]},Gr.getAbilityInfo=function(){return[Dr,Ur.updatePageName]},Vr.getAbilityInfo=function(){return[Dr,Ur.updatePageUrl]},Wr.getAbilityInfo=function(){return[Dr,Ur.updatePageStatus]},Hr.getAbilityInfo=function(){return[Dr,Ur.updatePageUtparam]},Yr.getAbilityInfo=function(){return[Dr,Ur.updateNextPageUtparam]},zr.getAbilityInfo=function(){return[Dr,Ur.updatePageProperties]},Jr.getAbilityInfo=function(){return[Dr,Ur.updateNextPageProperties]},$r.getAbilityInfo=function(){return[Dr,Ur.updateSessionProperties]},Kr.getAbilityInfo=function(){return[Dr,Ur.updateNextPageUtparamCnt]},Xr.getAbilityInfo=function(){return[Dr,Ur.getPageSpmUrl]},Qr.getAbilityInfo=function(){return[Dr,Ur.getPageSpmPre]},Zr.getAbilityInfo=function(){return[Dr,Ur.requestPageAllProperties]},eo.getAbilityInfo=function(){return[Dr,Ur.turnOnUTRealtimeDebug]};var to={render:"rx_render_err",data:"rx_data_fetch_err",error:"rax_error"},no=function(e){var t=pn.isNode||"undefined"===typeof location?"":location.href||"",n=to[e.type]||(e.type?e.type+"/":"")+"rx_user_define_err",r=[t.replace(/[\?#].*$/,"").replace(/\/$/,""),e.module||"",n].join("/").toLowerCase();return pn.isWeex?encodeURIComponent(r):r};var ro=0,oo={screen:"undefined"===typeof screen?"0x0":(screen&&screen.width)+"x"+(screen&&screen.height),sampling:1,version:"rx-tracker/3.0.12",native:pn.isWeex?1:0,isInWindmill:0},io="/jstracker.3";function ao(e){if(++ro>20&&pn.isWeb)return!1;var t=Object.assign({url:no(e)},oo,e);if(t.sampling=(pn.isNode||"undefined"===typeof location?"":location.href).indexOf("jt_debug=1")>-1?1:t.sampling,function(){if(pn.isWeb&&"undefined"!==typeof goldlog&&window.JSTracker2&&window.JSTracker2.push)return!0;return!1}())window.JSTracker2.push(t);else if(Math.random()*t.sampling<1)if(pn.isWeex){var n="undefined"!==typeof __weex_options__&&__weex_options__.weex,r=pn.isWeex&&"object"===typeof n&&n.config&&"windmill"===n.config.container||!1,o=!1;if("undefined"!==typeof navigator&&/themis/i.test(navigator.userAgent||"")||"undefined"!==typeof navigator&&/OpenHarmony/i.test(navigator.userAgent||""))tr(s.commitEvent)&&s.commitEvent({action:s.CommitAction.custom,pageName:location.href,args:t,arg1:io,onResult:function(){}});else{var i;try{i=__weex_require__("@weex-module/userTrack")}catch(e){}if(r)try{var a=__weex_require__("@weex-module/keyboard");"function"==typeof a.hideKeyboard&&(o=!0)}catch(e){}i.commitEvent&&(r&&o?(t.isInWindmill="weex",i.commitEvent({eventId:"19999",eventid:"19999",name:location.href,pageName:location.href,arg1:io,arg2:"",arg3:"",param:t,params:t})):i.commitEvent(location.href,"19999",io,"","",t))}}else pn.isWeb&&"undefined"!==typeof goldlog?(t.grey=function(e){if(document&&document.querySelector){var t=document.querySelector('meta[name="'+e+'"]');if(t)return t.getAttribute("content")}return""}("def-grey"),"undefined"!==typeof aplus&&(t=function(e){var t="";if("object"===typeof e)for(var n in e)""!=t&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]);else t=e;return t}(t)),goldlog.send&&goldlog.send("//gm.mmstat.com"+io,t)):function(){if("undefined"!==typeof my&&my.getSystemInfoSync&&"function"===typeof my.getSystemInfoSync&&("TB"===my.getSystemInfoSync().app||"alipay"===my.getSystemInfoSync().app))return!0;return!1}()&&(t.isInWindmill="web",function(e){my.request&&"function"===typeof my.request?my.request({url:"https://gm.mmstat.com"+io,method:"GET",data:e,dataType:"text"}).catch(function(){}):my.httpRequest&&"function"===typeof my.httpRequest&&my.httpRequest({url:"//gm.mmstat.com"+io,method:"get",data:e,dataType:"json"})}(t))}var so={report:ao,reportError:function(e,t,n){var r={};e&&e instanceof Error&&(r={stack:JSON.stringify(e.stack),name:e.name,message:e.message,type:"error",module:t},n&&(r.reverse1=n),ao(r))},reportApi:function(e,t){e&&e.url&&(e.type="api",e.module=t,e.sampling=e.sampling||"100",ao(e))},setConfig:function(e){e&&e.sampling&&(oo.sampling=e.sampling),e&&e.pid&&(oo.pid=e.pid)}},co=Object.assign(fn,so),uo="0.0.3-beta.28",lo=n(236),fo=new on("track");function po(){return St.getInstance().get().appKey}function mo(){return St.getInstance().get().environment}function go(){return St.getInstance().get().domain}fo.color("#bb3554"),lo.isWeb&&(window.goldlog&&window.goldlog.aplus_cplugin_ver||fo.log("请引入aplus脚本以采集数据,参考:https://yuque.antfin-inc.com/aplusjs/docs/yn798f"));var ho,vo=function(){co.record(" /qnmessage.webim.web_im_expose","EXP",{b_domain:go(),env:mo(),version:uo,appkey:po()},"GET")},yo=function(e){co.record("/qnmessage.webim.message_auth","CLK",{b_domain:go(),env:mo(),version:uo,result_type:e,appkey:po()},"GET")},_o=function(e){co.record("/qnmessage.webim.message_authFail","CLK",{b_domain:go(),env:mo(),version:uo,result_type:e,appkey:po()},"GET")},bo=function(e){co.record("/qnmessage.webim.web_message_send","CLK",{b_domain:go(),env:mo(),version:uo,result_type:e,appkey:po()},"GET")},wo=function(){co.record("/qnmessage.webim.web_message_receive","CLK",{b_domain:go(),env:mo(),version:uo,appkey:po()},"GET")},Co=function(e){co.record("/qnmessage.webim.web_conversation_create","CLK",{b_domain:go(),env:mo(),version:uo,result_type:e,appkey:po()},"GET")},To=function(e){var t,n,r,o=null===(t=window)||void 0===t||null===(n=t.IcbuIM)||void 0===n||null===(r=n.lib)||void 0===r?void 0:r.log;o&&o(e)},So=function(e){return e[e.ENV_ONLINE=0]="ENV_ONLINE",e[e.ENV_PRERELEASE=1]="ENV_PRERELEASE",e[e.ENV_DAILY=2]="ENV_DAILY",e[e.ENV_MOCK=3]="ENV_MOCK",e}({}),ko=function(){function e(){this.setting={environment:So.ENV_ONLINE,appKey:"",mediaHost:"",deviceId:"",appLocale:"zh_CN",deviceLocale:"zh_CN",timeZone:"Asia/Shanghai",debug:!1,log:{error:function(){var e;(e=console).error.apply(e,arguments);var t=((arguments.length<=1?void 0:arguments[1])||{}).traceId;To({ext:"IMSDKInteralError",resultMsg:arguments.length<=0?void 0:arguments[0],traceId:void 0===t?"":t})},info:function(){var e;(e=console).info.apply(e,arguments)}},authTokenCallback:function(){return Promise.resolve({})}}}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.set=function(e){this.setting=_()({},this.setting,e)},t.get=function(){return this.setting},e}();ko.instance=void 0;var No=new Uint8Array(16);function Mo(){if(!ho&&!(ho="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ho(No)}var Eo=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Oo=function(e){return"string"===typeof e&&Eo.test(e)},xo=[],Ao=0;Ao<256;++Ao)xo.push((Ao+256).toString(16).substr(1));var Io=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(xo[e[t+0]]+xo[e[t+1]]+xo[e[t+2]]+xo[e[t+3]]+"-"+xo[e[t+4]]+xo[e[t+5]]+"-"+xo[e[t+6]]+xo[e[t+7]]+"-"+xo[e[t+8]]+xo[e[t+9]]+"-"+xo[e[t+10]]+xo[e[t+11]]+xo[e[t+12]]+xo[e[t+13]]+xo[e[t+14]]+xo[e[t+15]]).toLowerCase();if(!Oo(n))throw TypeError("Stringified UUID is invalid");return n};var Po=function(e,t,n){var r=(e=e||{}).random||(e.rng||Mo)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return Io(r)},Ro=function(){function e(e){var t=this;this._debug=void 0,this.fmt="yyyy-MM-dd hh:mm:ss",this.format=function(e,n){void 0===n&&(n=t.fmt);var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var o in/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(""+e.getFullYear()).substr(4-RegExp.$1.length))),r)new RegExp("("+o+")").test(n)&&(n=n.replace(RegExp.$1,1==RegExp.$1.length?r[o]:("00"+r[o]).substr((""+r[o]).length)));return n},this._debug=rn()(e),this._debug.enabled=!0,this._debug.log=function(){var e;(e=window.console).log.apply(e,arguments)}}var t=e.prototype;return t.color=function(e){this._debug.color=e},t.log=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._debug.apply(this,[e].concat(n,[this.format(new Date)]))}catch(e){}},e}(),Do=new Ro("aim-sdk");Do.color("#2a48f4");var Uo=function(){var e=v()(T.a.mark(function e(t,n){var r,o,i,a,s,c,u;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),r=Po(),o=Date.now(),i={data:n,traceId:r},To({ext:"IMSDK_callAIMStart",traceId:r,bizData:{fn:t}}),Do.log("JSBridge.invoke Start",t,i),e.prev=1,e.next=2,null===(s=window.imsdk)||void 0===s?void 0:s.invoke(t,i);case 2:a=e.sent,Do.log("JSBridge.invoke Succeed",t,a),To({ext:"IMSDK_callAIMEnd",traceId:r,costTime:Date.now()-o,bizData:{fn:t}}),e.next=4;break;case 3:throw e.prev=3,u=e.catch(1),Do.log("JSBridge.invoke Failed",t,u),c="JSBridge.invoke Failed: "+u+", Function Name: "+t,Do.log(c),ia.getLoggerService().error(c,{traceId:r}),jo(u,r);case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t,n){return e.apply(this,arguments)}}(),jo=function(e,t){var n;try{n=JSON.parse(e)}catch(e){n={data:"string"===typeof e?{reason:e}:e,traceId:t}}return n},Lo=function(e){return e.getConnectionStatus="im.aimsdk.getConnectionStatus",e.getServerTime="im.aimsdk.getServerTime",e.kCreateSingleConversation="im.aimsdk.createSingleConversation",e.kListAllStatusLocalConversations="im.aimsdk.listAllStatusLocalConversations",e.kGetConversations="im.aimsdk.getConversations",e.kHideConversation="im.aimsdk.hideConversation",e.kMuteConversation="im.aimsdk.muteConversation",e.kSetConversationTop="im.aimsdk.setConversationTop",e.kImportConversations="im.aimsdk.importConversations",e.kListLocalConversationsWithOffset="im.aimsdk.listLocalConversationsWithOffset",e.kListLocalConversationsWithCid="im.aimsdk.listLocalConversationsWithCid",e.kGetConversation="im.aimsdk.getConversation",e.kGetLocalConversations="im.aimsdk.getLocalConversations",e.kGetRemoteConversations="im.aimsdk.getRemoteConversations",e.kGetSingleConversations="im.aimsdk.getSingleConversations",e.kGetSingleConversationsWithUserIds="im.aimsdk.getSingleConversationsWithUserIds",e.kRemoveLocalConversation="im.aimsdk.removeLocalConversation",e.kUpdateConversationTypingStatus="im.aimsdk.updateConversationTypingStatus",e.kUpdateConversationLocalExtension="im.aimsdk.updateConversationLocalExtension",e.kUpdateConversationLocalExtensionByKeys="im.aimsdk.updateConversationLocalExtensionByKeys",e.kUpdateConversationsLocalExtensionByKeys="im.aimsdk.updateConversationsLocalExtensionByKeys",e.kHideConversations="im.aimsdk.hideConversations",e.kHideAllConversations="im.aimsdk.hideAllConversations",e.kSetConversationTopWithTimeStamp="im.aimsdk.setConversationTopWithTimeStamp",e.kClearConversationRedPoint="im.aimsdk.clearConversationRedPoint",e.kClearAllConversationsRedPoint="im.aimsdk.clearAllConversationsRedPoint",e.kClearConversation="im.aimsdk.clearConversation",e.kSetActiveCid="im.aimsdk.setActiveCid",e.kParseConversationListData="im.aimsdk.parseConversationListData",e.kCreateGroupConversation="im.aimsdk.createGroupConversation",e.kUpdateGroupDefaultTitle="im.aimsdk.updateGroupDefaultTitle",e.kUpdateGroupIcon="im.aimsdk.updateGroupIcon",e.kDismissGroup="im.aimsdk.dismissGroup",e.kLeaveGroup="im.aimsdk.leaveGroup",e.kListGroupLocalMembers="im.aimsdk.listGroupLocalMembers",e.kListGroupAllMembers="im.aimsdk.listGroupAllMembers",e.kGetGroupMembers="im.aimsdk.getGroupMembers",e.kAddGroupMembers="im.aimsdk.addGroupMembers",e.kRemoveGroupMembers="im.aimsdk.removeGroupMembers",e.kUpdateGroupMemberNick="im.aimsdk.updateGroupMemberNick",e.kSilenceGroupAll="im.aimsdk.silenceGroupAll",e.kCancelSilenceGroupAll="im.aimsdk.cancelSilenceGroupAll",e.kAddGroupSilencedWhitelist="im.aimsdk.addGroupSilencedWhitelist",e.kRemoveGroupSilencedWhitelist="im.aimsdk.removeGroupSilencedWhitelist",e.kAddGroupSilencedBlacklist="im.aimsdk.addGroupSilencedBlacklist",e.kRemoveGroupSilencedBlacklist="im.aimsdk.removeGroupSilencedBlacklist",e.kGetGroupSilencedInfo="im.aimsdk.getGroupSilencedInfo",e.kAddGroupAdmins="im.aimsdk.addGroupAdmins",e.kRemoveGroupAdmins="im.aimsdk.removeGroupAdmins",e.kListGroupAllAdmins="im.aimsdk.listGroupAllAdmins",e.kSetGroupOwner="im.aimsdk.setGroupOwner",e.kSetGroupMemberPermission="im.aimsdk.setGroupMemberPermission",e.kUpdateGroupMemberRole="im.aimsdk.updateGroupMemberRole",e.kUpdateGroupAnnouncement="im.aimsdk.updateGroupAnnouncement",e.kGetGroupAnnouncement="im.aimsdk.getGroupAnnouncement",e.kSetUseGroupListAllMembersV2="im.aimsdk.setUseGroupListAllMembersV2",e.kListPreviousLocalMessages="im.aimsdk.listPreviousLocalMessages",e.kListNextLocalMessages="im.aimsdk.listNextLocalMessages",e.kListNextMessages="im.aimsdk.listNextMessages",e.kListPreviousMessages="im.aimsdk.listPreviousMessages",e.kSendMessage="im.aimsdk.sendMessage",e.kResendMessage="im.aimsdk.resendMessage",e.kSendMessageTolocal="im.aimsdk.sendMessageTolocal",e.kReplyMessage="im.aimsdk.replyMessage",e.kForwardMessage="im.aimsdk.forwardMessage",e.kCombineForwardMessage="im.aimsdk.combineForwardMessage",e.kGetMessage="im.aimsdk.getMessage",e.kGetLocalMessage="im.aimsdk.getLocalMessage",e.kGetLocalMessages="im.aimsdk.getLocalMessages",e.kDeleteMessage="im.aimsdk.deleteMessage",e.kDeleteLocalMessage="im.aimsdk.deleteLocalMessage",e.kRecallMessage="im.aimsdk.recallMessage",e.kUpdateMessageLocalExtension="im.aimsdk.updateMessageLocalExtension",e.kUpdateMessageLocalExtensionByKey="im.aimsdk.updateMessageLocalExtensionByKey",e.kUpdateMessageLocalMessagesBizInfo="im.aimsdk.updateMessageLocalMessagesBizInfo",e.kListMessagesReadStatus="im.aimsdk.listMessagesReadStatus",e.kUpdateMessageToRead="im.aimsdk.updateMessageToRead",e.kGenerateMessageLocalId="im.aimsdk.generateMessageLocalId",e.kDecryptMessage="im.aimsdk.decryptMessage",e.kParseMessageUrl="im.aimsdk.parseMessageUrl",e.kSetMessageNeedReceivers="im.aimsdk.setMessageNeedReceivers",e.kSearchChatContent="im.aimsdk.searchChatContent",e.kSearchRemoteChatContent="im.aimsdk.searchRemoteChatContent",e}({}),Fo=function(e){return e.kOnConnectionStatusChanged="im.aimsdk.onConnectionStatusChanged",e.kOnAddedConversations="im.aimsdk.onAddedConversations",e.kOnRemovedConversations="im.aimsdk.onRemovedConversations",e.kOnRefreshedConversations="im.aimsdk.onRefreshedConversations",e.kOnConversationStatusChanged="im.aimsdk.onConversationStatusChanged",e.kOnConversationLastMessageChanged="im.aimsdk.onConversationLastMessageChanged",e.kOnConversationBizTypeChanged="im.aimsdk.onConversationBizTypeChanged",e.kOnConversationUnreadCountChanged="im.aimsdk.onConversationUnreadCountChanged",e.kOnConversationExtensionChanged="im.aimsdk.onConversationExtensionChanged",e.kOnConversationLocalExtensionChanged="im.aimsdk.onConversationLocalExtensionChanged",e.kOnConversationUserExtensionChanged="im.aimsdk.onConversationUserExtensionChanged",e.kOnConversationNotificationChanged="im.aimsdk.onConversationNotificationChanged",e.kOnConversationTopChanged="im.aimsdk.onConversationTopChanged",e.kOnConversationDraftChanged="im.aimsdk.onConversationDraftChanged",e.kOnConversationTypingEvent="im.aimsdk.onConversationTypingEvent",e.kOnConversationClearMessage="im.aimsdk.onConversationClearMessage",e.kOnConversationUTagsChanged="im.aimsdk.onConversationUTagsChanged",e.kOnAddedMessages="im.aimsdk.onAddedMessages",e.kOnRemovedMessages="im.aimsdk.onRemovedMessages",e.kOnStoredMessages="im.aimsdk.onStoredMessages",e.kOnMessageUnreadCountChanged="im.aimsdk.onMessageUnreadCountChanged",e.kOnMessageReadStatusChanged="im.aimsdk.onMessageReadStatusChanged",e.kOnMessageExtensionChanged="im.aimsdk.onMessageExtensionChanged",e.kOnMessageLocalExtensionChanged="im.aimsdk.onMessageLocalExtensionChanged",e.kOnMessageUserExtensionChanged="im.aimsdk.onMessageUserExtensionChanged",e.kOnMessageRecalled="im.aimsdk.onMessageRecalled",e.kOnMessageStatusChanged="im.aimsdk.onMessageStatusChanged",e.kOnMessageSendMediaProgressChanged="im.aimsdk.onMessageSendMediaProgressChanged",e.kOnGroupTitleChanged="im.aimsdk.onGroupTitleChanged",e.kOnGroupIconChanged="im.aimsdk.onGroupIconChanged",e.kOnGroupMemberCountChanged="im.aimsdk.onGroupMemberCountChanged",e.kOnGroupOwnerChanged="im.aimsdk.onGroupOwnerChanged",e.kOnGroupSilenceAllChanged="im.aimsdk.onGroupSilenceAllChanged",e.kOnGroupSilencedStatusChanged="im.aimsdk.onGroupSilencedStatusChanged",e.kOnGroupSilencedEndtimeChanged="im.aimsdk.onGroupSilencedEndtimeChanged",e.kOnGroupAdminChanged="im.aimsdk.onGroupAdminChanged",e.kOnGroupMemberRoleChanged="im.aimsdk.onGroupMemberRoleChanged",e.kOnGroupMemberPermissionsChanged="im.aimsdk.onGroupMemberPermissionsChanged",e.kOnGroupDismissed="im.aimsdk.onGroupDismissed",e.kOnGroupKicked="im.aimsdk.onGroupKicked",e.kOnGroupAnnouncementChanged="im.aimsdk.onGroupAnnouncementChanged",e.kOnGroupMemberLimitChanged="im.aimsdk.onGroupMemberLimitChanged",e.kOnAddedGroupMembers="im.aimsdk.onAddedGroupMembers",e.kOnRemovedGroupMembers="im.aimsdk.onRemovedGroupMembers",e.kOnUpdatedGroupMembers="im.aimsdk.onUpdatedGroupMembers",e}({}),Bo=""+(Number.MAX_SAFE_INTEGER||"9007199254740991"),qo=function(e){return e[e.CONV_TYPE_UNKNOW=-1]="CONV_TYPE_UNKNOW",e[e.CONV_TYPE_SINGLE=1]="CONV_TYPE_SINGLE",e[e.CONV_TYPE_GROUP=2]="CONV_TYPE_GROUP",e}({}),Go=function(e){return e[e.CONN_UNCONNECTED=0]="CONN_UNCONNECTED",e[e.CONN_CONNECTING=1]="CONN_CONNECTING",e[e.CONN_CONNECTED=2]="CONN_CONNECTED",e[e.CONN_AUTHING=3]="CONN_AUTHING",e[e.CONN_AUTHED=4]="CONN_AUTHED",e[e.CONN_ERROR=5]="CONN_ERROR",e}({}),Vo=n(49),Wo=n.n(Vo),Ho=_()({},J.b,{PaaSStoreChange:"PaaSStoreChange",BaaSMessageNew:"BaaSMessageNew",BaaSMessageSendCallback:"BaaSMessageSendCallback",BaaSMessageRecall:"BaasMessageRecall",BaaSMessageSendFail:"BaaSMessageSendFail",BaaSMessageReadToSenderList:"BaaSMessageReadToSenderList",BaaSMessageTranslateChange:"BaaSMessageTranslateChange",BaaSMessageAdd:"BaaSMessageAdd",BaaSMessageRemove:"BaaSMessageRemove",BaaSMessageChange:"BaaSMessageChange",BaaSMessageUpdate:"BaaSMessageUpdate",PC_SEND_MESSAGE:"PC_SendMsg",SelectedQuickPhase:"SelectedQuickPhase",SelectedQuickPhaseSearch:"SelectedQuickPhaseSearch",inviteParticipantsInMeeting:"inviteParticipantsInMeeting",COPY_IMAGE_SHORTCUT:"CopyImageShortcut",OpenConversation:"OpenConversation",OpenConversationByLoginId:"OpenConversationByLoginId",PaaSConversationExtChange:"PaaSConversationExtChange",PaaSConversationUnreadChange:"PaaSConversationUnreadChange",PaasConversationLastMessageChanged:"PaasConversationLastMessageChanged",AimConversationRefreshed:"AimConversationRefreshed",BaaSGroupMemberChanged:"BaaSGroupMemberChanged",PHRASE_CHANGE:"PHRASE_CHANGE",CONV_RECONCILIATION_FAIL:"CONV_RECONCILIATION_FAIL",GET_RECONCILIATION_CONS:"GET_RECONCILIATION_CONS"}),Yo="icbu",zo=function(e){return void 0===e&&(e=""),"string"!==typeof e?e:{uid:e.replace(new RegExp("@"+Yo),""),domain:Yo}},Jo=function(e){if(!e)return"";var t=e.uid,n=e.domain,r=void 0===n?Yo:n;return new RegExp("@"+Yo).test(t)?t:[t,r].join("@")},$o=function(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,t))},Ko=function(e){var t=e.mid,n=e.created_at,r=e.extension,o=e.local_extension,i=e.is_disable_read,a=e.receiver_count,s=e.unread_count;return{messageId:t,uuid:o.uuid,createAt:n,receiverCount:a,unreadCount:s,extension:r,msgReadStatusSetting:i?2:1,msgReadStatusDowngrade:i?0:1}},Xo=function(e){var t=e.is_read,n=e.user_extension,r=e.recall_feature,o=Qo(e),i=n,a={showRecallStatusSetting:1,operatorType:r.operator_type,code:r.code,operatorUid:Jo(r.operator_uid),extension:r.extension};return{message:o,readStatus:t?2:0,userExtension:i,msgStatus:ni(e),recallFeature:a,conversationVersion:{}}},Qo=function(e){var t=e.sender,n=e.sender_tag,r=e.cid,o=e.mid,i=e.display_style,a=e.created_at,s=e.content,c=e.receiver_count,u=e.receivers,l=e.unread_count,d=e.extension,f=e.local_extension,p=s.content_type,m=s.reply_content,g=s.combine_forward_content,h=_()({contentType:p},Zo(s));return m&&(h.replyContent=ei(m)),g&&(h.combineForwardContent=ti(g)),{sender:{uid:Jo(t),tag:n},cid:r,uuid:f.uuid,messageId:o,displayStyle:i,createAt:a,content:h,receiverCount:c,unreadCount:l,redPointPolicy:0,extension:d,receivers:u.map(function(e){return Jo(e)}),msgReadStatusSetting:1}},Zo=function(e){void 0===e&&(e={});var t,n=e,r=n.text_content,o=n.image_content,i=n.audio_content,a=n.video_content,s=n.geo_content,c=n.custom_content,u=n.struct_content,l=n.link_content,d=n.file_content,f={};(r&&(f.text={content:r.text,extension:r.extension}),o&&(f.photo={mediaId:o.media_id,picSize:o.size,type:o.type,picBytes:"",fileType:o.file_type,orientation:o.orientation,extension:o.extension,filename:o.file_name,md5:""}),i&&(f.audio={mediaId:i.media_id,duration:i.duration,audioBytes:i.binary_data?$o(i.binary_data):"",md5:"",fileType:i.audio_type}),a&&(f.video={videoMediaId:a.media_id,fileName:a.file_name,fileType:a.file_type,fileSize:a.file_size,duration:a.duration,width:a.width,height:a.height,picMediaId:a.cover_media_id,videoMd5:"",picMd5:""}),s&&(f.geo={picMediaId:s.pic_media_id,latitude:s.latitude,longitude:s.longitude,locationName:s.location_name,md5:""}),c&&(f.custom={title:c.title,summary:c.summary,degrade:c.degrade,type:c.type,data:c.binary_data?$o(c.binary_data):""}),u)&&(f.structContent={elements:null===(t=u.elements)||void 0===t?void 0:t.map(function(e){var t=e.element_type,n=e.text_content,r=void 0===n?{}:n,o=e.uid_element,i=void 0===o?{}:o,a=e.at_element,s=void 0===a?{}:a;return{elementType:t,text:{content:r.text,extension:r.extension},uidElementModel:{uid:Jo(i.uid),defaultNick:i.default_nick,prefix:i.prefix},atElement:{isAtAll:s.is_at_all,uid:Jo(s.uid),defaultNick:s.default_nick}}})});return l&&(f.link={url:l.url,title:l.title,desc:l.desc,picMediaId:l.pic_media_id,extension:l.extension,md5:""}),d&&(f.fileContent={fileName:d.file_name,fileType:d.file_type,mediaId:d.media_id,md5:"",fileSize:d.file_size}),f},ei=function(e){void 0===e&&(e={});var t=e,n=t.reference_msg,r=t.reply_content,o={};if(n){var i=n.reference_content,a=n.sender;o.referenceMessage={sender:Jo(a),cid:n.cid,messageId:n.mid,createAt:n.created_at,referenceContent:{contentType:null===i||void 0===i?void 0:i.content_type,simpleContent:null!==i&&void 0!==i&&i.content?Zo(null===i||void 0===i?void 0:i.content):{}},extension:n.extension}}return r&&(o.replyContent={contentType:r.content_type,simpleContent:r.content?Zo(r.content):{}}),o},ti=function(e){void 0===e&&(e={});var t=e.combine_forward,n={};return t&&(n.combineForwardMessages=null===t||void 0===t?void 0:t.map(function(e){var t,n=e.combine_content,r=e.sender;return{sender:Jo(r),cid:e.cid,messageId:e.mid,createAt:e.created_at,combineForwardContent:{contentType:null===(t=e.combine_content)||void 0===t?void 0:t.content_type,simpleContent:null!==n&&void 0!==n&&n.simple_content?Zo(n.simple_content):{},replyContent:null!==n&&void 0!==n&&n.reply_content?ei(null===n||void 0===n?void 0:n.reply_content):{}},extension:e.extension}})),n},ni=function(e){var t=e.is_delete,n=e.is_recall,r=e.status,o=+r;return 0===r&&(o=1),1===r&&(o=11),2===r&&(o=13),n&&(o=2),t&&(o=0),o};function ri(e){return null===e||void 0===e?void 0:e.uid}var oi=function(e){var t={type:e.type};return e.type===qo.CONV_TYPE_GROUP?t.groupChatUserConversation=ai(e):t.singleChatUserConversation=ii(e),t},ii=function(e){var t=e.cid,n=e.userids,r=e.created_at,o=e.biz_type,i=e.extension,a=e.read_receipts_enabled,s=e.status,c=e.top_rank,u=e.red_point,l=e.mute_notification,d=e.join_time,f=e.modify_time,p=e.last_msg,m=e.user_extension,g=e.utags,h=e.parent_id;return{singleChatConversation:{cid:t,pairFirst:Jo(n[0]),pairSecond:Jo(n[1]),createAt:r,bizType:o,extension:i,msgReadStatusSetting:a?1:2},visible:s,topRank:c,redPoint:u,muteNotification:l?1:0,joinTime:d,modifyTime:f,lastMessage:Xo(p),user_extension:m,utags:g,parent_id:h,last_message_time:null===p||void 0===p?void 0:p.created_at,conversationVersion:{}}},ai=function(e){var t=e.cid,n=e.created_at,r=e.biz_type,o=e.extension,i=e.read_receipts_enabled,a=e.status,s=e.top_rank,c=e.red_point,u=e.mute_notification,l=e.join_time,d=e.modify_time,f=e.last_msg,p=e.user_extension,m=e.owner_uid,g=e.title,h=e.icon,v=e.member_count,y=e.member_limit,_=e.silence_all,b=e.silenced_status,w=e.silenced_endtime,C=e.admins,T=e.member_permissions,S=e.parent_id;return{groupChatConversation:{cid:t,ownerUid:Jo(m),title:g,icon:h,memberCount:v,memberLimit:y,bizType:r,extension:o,createAt:n,silenceAll:_?1:0,admins:C,memberPermissions:T,msgReadStatusSetting:i?1:2},visible:a,topRank:s,redPoint:c,muteNotification:u?1:0,joinTime:l,modifyTime:d,lastMessage:Xo(f),userExtension:p,silencedStatus:b,silencedEndTime:w,parent_id:S,conversationVersion:{}}},si=function(e){return void 0===e&&(e=[]),e.map(function(e){var t={type:e.type};return e.type===qo.CONV_TYPE_GROUP?t.groupChatUserConversation=ai(e):t.singleChatUserConversation=ii(e),t})},ci=function(e){return{userConvs:si(null===e||void 0===e?void 0:e.data),hasMore:null===e||void 0===e?void 0:e.hasMore,nextCursor:null===e||void 0===e?void 0:e.nextCursor}},ui=Object.values(Ho),li=function(){function e(){this.emitter=new Wo.a.EventEmitter}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.register=function(e){var t=this;return ui.forEach(function(n){t.emitter.addListener(n,e)}),function(){ui.forEach(function(n){t.emitter.removeListener(n,e)})}},t.unRegister=function(){this.emitter.removeAllListeners()},t.emit=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this.emitter).emit.apply(t,[e,e].concat(r))},t.convertDemo=function(e){return e},t.onPushEvent=function(e,t){var n=this,r=t;switch(e){case Fo.kOnConnectionStatusChanged:var o=t.status;this.emit(J.b.PaaSConnectionChanged,o);break;case Fo.kOnAddedConversations:t.convs.forEach(function(e){var t=oi(e);n.emit(J.b.PaaSConversationAdd,t)});break;case Fo.kOnRemovedConversations:r=t;var i=this.convertDemo(r);this.emit(J.b.PaaSConversationRemove,i);break;case Fo.kOnRefreshedConversations:var a=t.convs,s=(void 0===a?[]:a).map(function(e){return oi(e)});this.emit(Ho.AimConversationRefreshed,s);break;case Fo.kOnConversationUnreadCountChanged:var c=function(e){return{events:e.map(function(e){var t;return{cid:e.cid,conversationType:e.type,messageId:null===(t=e.last_msg)||void 0===t?void 0:t.mid,eventTime:e.modify_time,unreadCount:e.red_point}})}}(t.convs);this.emit(Ho.PaaSConversationUnreadChange,c);break;case Fo.kOnConversationNotificationChanged:t.convs.forEach(function(e){var t=function(e){return{cid:e.cid,conversationType:e.type,muteNotification:e.mute_notification,eventTime:e.modify_time}}(e);n.emit(J.b.PaaSConversationMute,t)});break;case Fo.kOnConversationLastMessageChanged:t.convs.forEach(function(e){var t=oi(e),r=t.type===qo.CONV_TYPE_GROUP?t.groupChatUserConversation:t.singleChatUserConversation,o=(null===r||void 0===r?void 0:r.lastMessage)||{};n.emit(Ho.PaasConversationLastMessageChanged,o)});break;case Fo.kOnConversationExtensionChanged:t.convs.forEach(function(e){var t=function(e){return{cid:e.cid,conversationType:e.type,extension:e.extension,eventTime:e.modify_time}}(e);n.emit(J.b.PaaSConversationSetSingleExt,t)});break;case Fo.kOnConversationTopChanged:t.convs.forEach(function(e){var t=function(e){return{cid:e.cid,conversationType:e.type,topRank:e.top_rank,eventTime:e.modify_time}}(e);n.emit(J.b.PaaSConversationSetTop,t)});break;case Fo.kOnConversationUserExtensionChanged:t.convs.forEach(function(e){var t=function(e){return{cid:e.cid,conversationType:e.type,extension:e.user_extension,eventTime:e.modify_time}}(e);n.emit(J.b.PaaSConversationGroupUpdateUserExt,t)});break;case Fo.kOnConversationTypingEvent:r=t;var u=this.convertDemo(r);this.emit(J.b.PaaSConversationTypingChange,u);break;case Fo.kOnAddedMessages:var l=t.newMsgs;(void 0===l?[]:l).forEach(function(e){var t=Xo(e.msg);n.emit(J.b.PaaSMessageAdd,_()({},t,{msgSourceType:e.type}))});break;case Fo.kOnRemovedMessages:t.msgs.forEach(function(e){var t,r,o=(r=(t=e).cid,{messageIds:[t.mid],cid:r,conversationType:void 0,eventTime:Date.now()});n.emit(J.b.PaaSMessageRemove,o)});break;case Fo.kOnMessageUnreadCountChanged:var d={events:t.msgs.map(function(e){return n=(t=e).cid,{messageId:t.mid,receiverCount:t.receiver_count,unreadCount:t.unread_count,cid:n,conversationType:void 0,eventTime:Date.now()};var t,n})};this.emit(J.b.PaaSMessageReadToSenderList,d);break;case Fo.kOnMessageReadStatusChanged:t.msgs.forEach(function(e){var t,r,o=(r=(t=e).cid,{messageIds:[t.mid],readStatus:t.is_read?2:0,cid:r,conversationType:void 0,eventTime:Date.now()});n.emit(J.b.PaaSMessageReadToReader,o)});break;case Fo.kOnMessageStatusChanged:t.msgs.forEach(function(e){});break;case Fo.kOnMessageExtensionChanged:case Fo.kOnMessageLocalExtensionChanged:t.msgs.forEach(function(e){var t,r={cid:(t=e).cid,messageId:t.mid,conversationType:void 0,extension:t.extension,eventTime:Date.now()};n.emit(J.b.PaaSMessageExtensionChange,r)});break;case Fo.kOnMessageUserExtensionChanged:t.msgs.forEach(function(e){var t,r={cid:(t=e).cid,messageId:t.mid,conversationType:void 0,extension:t.extension,eventTime:Date.now()};n.emit(J.b.PaaSMessageUserExtensionChange,r)});break;case Fo.kOnMessageRecalled:t.msgs.forEach(function(e){var t=function(e){var t=e.cid,n=e.mid,r=e.sender,o=e.created_at,i=e.recall_feature||{},a=i.operator_type,s=i.code,c=i.operator_uid,u=i.extension;return{cid:t,messageId:n,conversationType:void 0,operatorUid:void 0,eventTime:Date.now(),senderUid:Jo(r),createAt:o,recallFeature:{showRecallStatusSetting:1,operatorType:a,code:s,operatorUid:Jo(c),extension:u}}}(e);n.emit(J.b.PaaSMessageRecall,t)});break;case Fo.kOnStoredMessages:case Fo.kOnMessageSendMediaProgressChanged:r=t;break;case Fo.kOnGroupTitleChanged:var f=function(e){var t=e.convs[0]||{},n=t.cid;return{eventTime:t.modify_time,cid:n,title:t.title}}(r=t);this.emit(J.b.PaaSConversationGroupChatTitleUpdated,f);break;case Fo.kOnGroupDismissed:var p=function(e){return{cid:e.cids[0]}}(r=t);this.emit(J.b.PaaSConversationGroupChatDismissed,p);break;case Fo.kOnGroupKicked:var m=function(e){return{cid:e.cids[0]}}(r=t);this.emit(J.b.PaaSConversationGroupChatKicked,m);break;case Fo.kOnAddedGroupMembers:var g=function(e){var t=e.members[0],n=t.cid,r=t.uid,o=t.role,i=t.created_at,a=t.group_nick;return t.extension,{eventTime:i,cid:n,joinedUids:[{uid:ri(r),role:o.role,createAt:i,groupNick:a}]}}(r=t);mi.getInstance().getMyUid()===g.joinedUids[0].uid?this.emit(J.b.PaaSConversationGroupChatJoined,g):this.emit(J.b.PaaSConversationGroupChatPeerJoined,g);break;case Fo.kOnRemovedGroupMembers:var h=function(e){var t=e.members[0],n=t.cid,r=t.uid,o=(t.role,t.created_at);return t.group_nick,t.extension,{eventTime:o,cid:n,leftUid:ri(r)}}(r=t);mi.getInstance().getMyUid()===h.leftUid?this.emit(J.b.PaaSConversationGroupChatLeft,h):this.emit(J.b.PaaSConversationGroupChatPeerLeft,h)}},e}();li.instance=void 0;var di=function(e){return e.draft="im_paas_sdk_conv_draft",e.localLog="im_paas_sdk_localLog",e}({}),fi=function(){function e(){}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.get=function(e,t){try{var n=t?e:e+"_";return localStorage.getItem(n)||""}catch(e){return""}},t.set=function(e,t,n){try{var r=n?e:e+"_";return localStorage.setItem(r,t),!0}catch(e){return!1}},e}();fi.instance=void 0;var pi=function(){function e(){this.mServerTime=0,this.mLastRtCost=0,this.mLastSystemClockTime=0,this.mRecentLoginStartTimes={},this.mRecentConvOpenTimes={},this.loadLocalSetting(),this.loadRecentLoginStartTimesFromLocal(),this.loadRecentConvOpenTimesFromLocal()}e.getInstance=function(){return this.INSTANCE||(this.INSTANCE=new e),this.INSTANCE};var t=e.prototype;return t.loginStart=function(t){if(t){var n=this.mRecentLoginStartTimes[t];for(n||(n=[],this.mRecentLoginStartTimes[t]=n),n.push(this.getServerTimeClock());n.length>e.MAX_CACHE_COUNT;)n.shift();this.updateRecentLoginStartTime()}},t.getLatestLoginStartTimeAfterMsgSent=function(e,t){if(!e)return 0;var n=this.mRecentLoginStartTimes[e];if(n&&n.length>0){for(;n.length>0;){if(n[0]>t)return n[0];n.splice(0,1)}delete this.mRecentLoginStartTimes[e],this.updateRecentLoginStartTime()}return 0},t.loadRecentLoginStartTimesFromLocal=function(){this.mRecentLoginStartTimes={};var t=localStorage.getItem(e.CACHE_KEY_RECENT_LOGIN_START_TIMES);t&&(this.mRecentLoginStartTimes=JSON.parse(t))},t.updateRecentLoginStartTime=function(){localStorage.setItem(e.CACHE_KEY_RECENT_LOGIN_START_TIMES,JSON.stringify(this.mRecentLoginStartTimes))},t.convOpen=function(t,n){if(t&&n){var r=this.mRecentConvOpenTimes[t];r||(r={},this.mRecentConvOpenTimes[t]=r);var o=r[n];for(o||(o=[],r[n]=o),o.push(this.getServerTimeClock());o.length>e.MAX_CACHE_COUNT;)o.shift();this.updateRecentConvOpenTime()}},t.getLatestConvOpenStartTimeAfterMsgSent=function(e,t,n){if(!e)return 0;var r=this.mRecentConvOpenTimes[e];if(!r)return 0;var o=r[t];if(o&&o.length>0){for(;o.length>0;){if(o[0]>n)return o[0];o.splice(0,1)}delete r[t],r&&delete this.mRecentConvOpenTimes[e],this.updateRecentConvOpenTime()}return 0},t.loadRecentConvOpenTimesFromLocal=function(){this.mRecentConvOpenTimes={};var t=localStorage.getItem(e.CACHE_KEY_RECENT_CONV_OPEN_TIMES);t&&(this.mRecentConvOpenTimes=JSON.parse(t))},t.updateRecentConvOpenTime=function(){localStorage.setItem(e.CACHE_KEY_RECENT_CONV_OPEN_TIMES,JSON.stringify(this.mRecentConvOpenTimes))},t.getServerTimeClock=function(){return 0===this.mServerTime?(this.loadLocalSetting(),this.mServerTime):this.mServerTime+(Date.now()-this.mLastSystemClockTime)},t.setServerTime=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),e<=0||(0===this.mLastRtCost||t<1e3||t<this.mLastRtCost)&&(this.mServerTime=e+t/2,this.mLastSystemClockTime=Date.now(),this.mLastRtCost=t,this.updateLocalSetting())},t.updateLocalSetting=function(){var t={serverTime:this.mServerTime,lastRtCost:this.mLastRtCost,lastSystemClockTime:this.mLastSystemClockTime};localStorage.setItem(e.CACHE_KEY_SERVER_TIME_MODEL,JSON.stringify(t))},t.loadLocalSetting=function(){var t=localStorage.getItem(e.CACHE_KEY_SERVER_TIME_MODEL);if(t){var n=JSON.parse(t);this.mServerTime=n.serverTime,this.mLastRtCost=n.lastRtCost,this.mLastSystemClockTime=n.lastSystemClockTime}else this.mServerTime=Date.now(),this.mLastSystemClockTime=this.mServerTime,this.mLastRtCost=0},e}();pi.CACHE_KEY_SERVER_TIME_MODEL="SERVER_TIME_MODEL",pi.CACHE_KEY_RECENT_LOGIN_START_TIMES="RECENT_LOGIN_START_TIMES",pi.CACHE_KEY_RECENT_CONV_OPEN_TIMES="RECENT_CONV_OPEN_TIMES",pi.MAX_CACHE_COUNT=50,pi.INSTANCE=void 0;var mi=function(){function e(){this.myUid=void 0,this.domain=void 0,this.innerConnectionStatus=Go.CONN_UNCONNECTED,this.domain="icbu",this.myUid=window.aliId}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.onWsClose=function(e){li.getInstance().emit(J.b.PaaSConnectionClosed,e)},t.isNetworkAvailable=function(){return!0},t.getConnectionStatus=function(){return this.innerConnectionStatus},t.setConnectionStatus=function(e){this.innerConnectionStatus=e,li.getInstance().emit(J.b.PaaSConnectionChanged,e),e===Go.CONN_AUTHED&&this.setServerTime()},t.setServerTime=function(){var e=v()(T.a.mark(function e(){var t,n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,Uo(Lo.getServerTime);case 1:t=e.sent,n=null===t||void 0===t?void 0:t.data,pi.getInstance().setServerTime(n.serverTime,0);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),t.loginV2=function(){var e=v()(T.a.mark(function e(){var t,n,r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,Uo(Lo.getConnectionStatus,{});case 1:n=e.sent,r=null===n||void 0===n?void 0:n.data,t=r.status,e.next=3;break;case 2:e.prev=2,e.catch(0),t=this.innerConnectionStatus;case 3:return this.setConnectionStatus(t),e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),t.reConnect=function(){var e=v()(T.a.mark(function e(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),t.login=function(){var e=v()(T.a.mark(function e(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loginV2());case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.logout=function(){return Promise.resolve()},t.close=function(){return Promise.resolve()},t.kickout=function(){return Promise.resolve()},t.getMyOpenId=function(){return this.myUid},t.getMyUid=function(){return this.myUid},t.getDeviceId=function(){var e=v()(T.a.mark(function e(t){var n,r,o,i,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="im_sdk_did",r="im_sdk_tab_id",o=fi.getInstance().get(n,!0),i=sessionStorage.getItem(r),(!o||o.indexOf("-")>0)&&(o=Po().replace(/-/g,""),fi.getInstance().set(n,o,!0)),i||(i=Date.now()+"",sessionStorage.setItem(r,i)),a=o+"-"+i,t&&t>=30&&a.length>t&&(a=o.substr(0,t-i.length-1)+"-"+i),e.abrupt("return",a);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.getDomain=function(){return this.domain},t.setDomain=function(e){this.domain||(this.domain=e)},e}();mi.instance=void 0;var gi=n(125),hi=n.n(gi),vi=n(8),yi=n.n(vi),_i=function(e){return e[e.text=1]="text",e[e.photo=2]="photo",e[e.audio=3]="audio",e[e.video=4]="video",e[e.geo=5]="geo",e[e.struct=6]="struct",e[e.link=7]="link",e[e.at=8]="at",e[e.file=9]="file",e[e.reply=10]="reply",e[e.combineForward=11]="combineForward",e}({}),bi=function(e){return ia.getCloudVersion()&&void 0!==e?e+("@"+ia.getAuthService().getDomain()):void 0===e?"":e},wi=function(e){if(ia.getCloudVersion()&&void 0!==e){var t="@"+ia.getAuthService().getDomain(),n=e.lastIndexOf("@");if(n>0&&e.substr(n)===t)return e.substr(0,n)}return void 0===e?"":e},Ci=function(e){var t,n,r,o;if(e&&ia.getCloudVersion()&&null!==(t=e)&&void 0!==t&&t.cid){var i,a,s,c=e.cid,u=(null===(i=e.sender)||void 0===i?void 0:i.uid)||"";if(e=yi()(e,{$unset:["cid"],receivers:{$apply:function(e){return e&&e.length?e.map(function(e){return wi(e)}):e}}}),Object.assign(e,{appCid:wi(c)}),u&&Object.assign(e,{sender:wi(u)}),(null===(a=e.content)||void 0===a?void 0:a.contentType)===_i.reply){var l,d,f,p,m=null===(l=e.content.replyContent)||void 0===l||null===(d=l.referenceMessage)||void 0===d?void 0:d.cid;if(m)e=yi()(e,{content:{replyContent:{referenceMessage:{$unset:["cid"]}}}}),Object.assign(null===(f=e.content)||void 0===f||null===(p=f.replyContent)||void 0===p?void 0:p.referenceMessage,{appCid:wi(m)})}if((null===(s=e.content)||void 0===s?void 0:s.contentType)===_i.combineForward){var g,h=null===(g=e.content.combineForwardContent)||void 0===g?void 0:g.combineForwardMessages;null!==h&&void 0!==h&&h.length&&(e=yi()(e,{content:{combineForwardContent:{combineForwardMessages:{$apply:function(e){return void 0!==e&&e.length>0?e.map(function(e){if(e.cid){var t=e.cid;e=yi()(e,{$unset:["cid"]}),Object.assign(e,{appCid:wi(t)})}return e}):e}}}}}))}}if(e&&101===(null===(n=e)||void 0===n||null===(r=n.content)||void 0===r?void 0:r.contentType)&&null!==(o=e.content.custom)&&void 0!==o&&o.data){var v=e.content.custom.data;v&&Tt(v)&&(e=yi()(e,{content:{custom:{data:{$set:Ct(v)}}}}))}return e},Ti=function(e){var t,n;return e&&null!==(t=e)&&void 0!==t&&t.message&&(e=yi()(e,{message:{$apply:Ci}})),e&&ia.getCloudVersion()&&null!==(n=e.recallFeature)&&void 0!==n&&n.operatorUid&&(e=yi()(e,{recallFeature:{operatorUid:{$apply:wi}}})),e},Si=function(e){var t;if(ia.getCloudVersion()&&null!==(t=e)&&void 0!==t&&t.singleChatConversation){var n=e.singleChatConversation.cid;e=yi()(e,{$unset:["utags","parent_id"],singleChatConversation:{$unset:["cid","bizType"],pairFirst:{$apply:wi},pairSecond:{$apply:wi}}}),Object.assign(e.singleChatConversation,{appCid:wi(n)}),e.lastMessage&&(e=yi()(e,{lastMessage:{$apply:Ti}}))}return e.lastMessage&&(e=yi()(e,{lastMessage:{$apply:Ti}})),e},ki=function(e){var t;if(ia.getCloudVersion()&&null!==(t=e)&&void 0!==t&&t.groupChatConversation){var n=e.groupChatConversation.cid;e=yi()(e,{groupChatConversation:{$unset:["cid","bizType"],ownerUid:{$apply:wi},admins:{$apply:function(e){return e&&e.length?e.map(function(e){return wi(e)}):e}},icon:{$apply:function(e){if(e&&"{"===e.charAt(0)&&"}"===e.slice(-1))try{return JSON.parse(e).icon||""}catch(e){}return""}},title:{$apply:function(e){if(e&&"{"===e.charAt(0)&&"}"===e.slice(-1))try{return JSON.parse(e).def||""}catch(e){}return""}}},$unset:["parent_id"]}),Object.assign(e.groupChatConversation,{appCid:wi(n)})}return e.lastMessage&&(e=yi()(e,{lastMessage:{$apply:Ti}})),e},Ni=function(e){return e.groupChatUserConversation?e=yi()(e,{groupChatUserConversation:{$set:ki(e.groupChatUserConversation)}}):e.singleChatUserConversation&&(e=yi()(e,{singleChatUserConversation:{$set:Si(e.singleChatUserConversation)}})),e},Mi=function(e){var t;return(null===(t=e.operater)||void 0===t?void 0:t.displayName)||""},Ei=function(e){var t=e.pairFirst,n=void 0===t?"":t,r=e.pairSecond,o=void 0===r?"":r,i=e.bizType,a=e.extension;return{uids:[zo(n),zo(o)],ext:a,biz_type:i}},Oi=function(e){var t=e.timestamp;return{offset:t>1e5?0:t,count:e.maxCount}},xi=function(e,t){var n=e.bizType,r=void 0===n?"":n,o=e.defaultTitle,i=void 0===o?"":o,a=e.iconResource,s=void 0===a?"":a,c=e.extension,u=void 0===c?{}:c,l=e.ctx,d=void 0===l?{}:l,f=e.parent_id,p=void 0===f?"":f,m=e.initMembers,g=(void 0===m?[]:m).map(function(e){void 0===e&&(e={});var t=e,n=t.user,r=void 0===n?{}:n,o=t.extension,i=void 0===o?{}:o;return{uid:zo(r.uid),nick_name:r.displayName,extension:i}});return{biz_type:r,title:i,icon:s,ext:u,ctx:d,parent_id:p,user_infos:g,operator_nick:Mi(t),operator_extension:{}}},Ai=function(e,t){var n=e.initMembers,r=void 0===n?[]:n,o=e.cid,i=void 0===o?"":o,a=r.map(function(e){void 0===e&&(e={});var t=e,n=t.user,r=void 0===n?{}:n,o=t.extension,i=void 0===o?{}:o;return{uid:zo(r.uid),nick_name:r.displayName,extension:i}});return{operator_nick:Mi(t),cid:i,users:a}},Ii=function(e,t){var n=e.cid,r=e.users,o=(void 0===r?[]:r).map(function(e){void 0===e&&(e={});var t=e,n=t.uid,r=t.nickName;return{uid:zo(n),nick_name:r,extension:{}}});return{operator_nick:Mi(t),cid:n,users:o}},Pi=function(e){return{cid:e.conversationId,receiver_id:zo(e.receiver),command:e.command,type:e.type}},Ri=n(237),Di=function(e){return e.INFO="INFO",e.ERROR="ERROR",e}({}),Ui=function(){function e(){this.logFn=void 0,this.localLogData=void 0,this.batchSyncLocallogToStorage=hi()(this.batchSyncLocallogToStorage,300)}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.batchSyncLocallogToStorage=function(){},t.info=function(){var e;this.logFn||(this.logFn=ko.getInstance().get().log);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this.logFn).info.apply(e,n),this.localLog.apply(this,[Di.INFO].concat(n))},t.error=function(){var e;this.logFn||(this.logFn=ko.getInstance().get().log);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this.logFn).error.apply(e,n),this.localLog.apply(this,[Di.ERROR].concat(n))},t.localLog=function(e){if(mi.getInstance().getMyOpenId()){if(void 0===this.localLogData){try{this.localLogData=JSON.parse(fi.getInstance().get(di.localLog))}catch(e){}this.localLogData=this.localLogData||[]}for(var t=["["+e+"] "+(new Date).toLocaleString()],n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];r.forEach(function(e){e.constructor===Error?t.push(JSON.stringify(Object(Ri.serializeError)(e))):t.push(JSON.stringify(e))}),this.localLogData.push(t.join(". ")),this.batchSyncLocallogToStorage()}},e}();Ui.instance=void 0;var ji=function(){function e(){this.draft={},this.actionConvId="",this.batchUpdateDraftToStorage=hi()(this.batchUpdateDraftToStorage,300)}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.batchUpdateDraftToStorage=function(){},t.setActiveCid=function(e){this.actionConvId=e},t.getActionCid=function(){return this.actionConvId},t.createSingleConversation=function(){var e=v()(T.a.mark(function e(t){var n,r,o,i,a,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={param:Ei(t)},e.prev=1,e.next=2,Uo(Lo.kCreateSingleConversation,n);case 2:return r=e.sent,o=null===r||void 0===r?void 0:r.data,i=ii(null===o||void 0===o?void 0:o.conv),a={singleChatUserConversation:i,type:1},li.getInstance().emit(J.b.PaaSConversationAdd,a),console.log("==== createSingleConversation ====",t,n,r,i),e.abrupt("return",Si(i));case 3:throw e.prev=3,s=e.catch(1),console.error("==== createSingleConversation error ====",t,n,s),s;case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}(),t.listConversations=function(){var e=v()(T.a.mark(function e(t,n){var r,o,i,a,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oi({timestamp:t,maxCount:n}),e.prev=1,e.next=2,Uo(Lo.kListAllStatusLocalConversations,r);case 2:return o=e.sent,i=null===o||void 0===o?void 0:o.data,a=si(null===i||void 0===i?void 0:i.convs),console.log("==== listConversations ==== ",t,n,r,o,a),e.abrupt("return",a.length>0?a.map(function(e){return Ni(e)}):[]);case 3:throw e.prev=3,s=e.catch(1),console.error("==== listConversations error ====",t,n,r,s),s;case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t,n){return e.apply(this,arguments)}}(),t.listConversationsPagination=function(){var e=v()(T.a.mark(function e(t,n){var r,o,i,a,s,c,u,l,d;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oi({timestamp:t,maxCount:n}),e.prev=1,e.next=2,Uo(Lo.kListAllStatusLocalConversations,r);case 2:return c=e.sent,u=null===c||void 0===c?void 0:c.data,l=ci({hasMore:(null===u||void 0===u||null===(o=u.convs)||void 0===o?void 0:o.length)>=r.count,nextCursor:r.offset+(null===u||void 0===u||null===(i=u.convs)||void 0===i?void 0:i.length),data:null===u||void 0===u?void 0:u.convs}),null!==(a=l.userConvs)&&void 0!==a&&a.length&&(null===(s=l.userConvs)||void 0===s?void 0:s.length)>0&&(l.userConvs=l.userConvs.map(function(e){return Ni(e)})),console.log("==== listConversationsPagination ====",t,n,r,c,l),e.abrupt("return",l);case 3:throw e.prev=3,d=e.catch(1),console.error("==== listConversationsPagination error ====",t,n,r,d),d;case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t,n){return e.apply(this,arguments)}}(),t.listAllStatusConvs=function(){var e=v()(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.getConversations=function(){var e=v()(T.a.mark(function e(t){var n,r,o,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,Uo(Lo.kGetConversations,{cids:t});case 1:return n=e.sent,r=null===n||void 0===n?void 0:n.data,o=si(null===r||void 0===r?void 0:r.convs),console.log("==== getConversations ====",t,n,o),e.abrupt("return",o.length>0?o.map(function(e){return Ni(e)}):[]);case 2:throw e.prev=2,i=e.catch(0),console.error("==== getConversations error ====",t,i),i;case 3:case"end":return e.stop()}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}(),t.getRemoteConversations=function(){var e=v()(T.a.mark(function e(t){var n,r,o,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,Uo(Lo.kGetRemoteConversations,{cids:t});case 1:return n=e.sent,r=null===n||void 0===n?void 0:n.data,o=si(null===r||void 0===r?void 0:r.convs),console.log("==== getRemoteConversations ====",t,n,o),e.abrupt("return",o.length>0?o.map(function(e){return Ni(e)}):[]);case 2:throw e.prev=2,i=e.catch(0),console.error("==== getRemoteConversations error ====",t,i),i;case 3:case"end":return e.stop()}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}(),t.getConversation=function(){var e=v()(T.a.mark(function e(t){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,this.getConversations([t]);case 1:return n=e.sent,e.abrupt("return",n[0]);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getRemoteConversation=function(){var e=v()(T.a.mark(function e(t){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,this.getRemoteConversations([t]);case 1:return n=e.sent,e.abrupt("return",n[0]);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.hide=function(){var e=v()(T.a.mark(function e(t,n){var r,o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=1),e.prev=1,e.next=2,Uo(Lo.kHideConversation,{cid:t});case 2:r={cid:t,visible:!1,eventTime:Date.now()},n&&(r.conversationType=n),console.log("==== hide ====",t,r),li.getInstance().emit(J.b.PaaSConversationSetVisible,r),e.next=4;break;case 3:throw e.prev=3,o=e.catch(1),console.error("==== hide error ====",t,o),o;case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t,n){return e.apply(this,arguments)}}(),t.hideBatch=function(){var e=v()(T.a.mark(function e(t){var n,r=this;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>50)){e.next=1;break}throw n="hideBatch 最多支持50个会话",Ui.getInstance().error(n),n;case 1:t.forEach(function(){var e=v()(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.hide(t,0);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.updateDraftMessage=function(e,t){},t.getDraftMessage=function(e){return""},t.mute=function(){var e=v()(T.a.mark(function e(t,n,r){var o,i,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=1),o={cid:t,mute:n},e.prev=1,e.next=2,Uo(Lo.kMuteConversation,o);case 2:i={cid:t,conversationType:r,muteNotification:n,eventTime:Date.now()},console.log("==== mute ====",t,o,i),li.getInstance().emit(J.b.PaaSConversationMute,i),e.next=4;break;case 3:throw e.prev=3,a=e.catch(1),console.error("==== mute error ====",t,o,a),a;case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t,n,r){return e.apply(this,arguments)}}(),t.setTop=function(){var e=v()(T.a.mark(function e(t,n,r){var o,i,a,s,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=1),o={cid:t,top:n},e.prev=1,e.next=2,Uo(Lo.kSetConversationTop,o);case 2:return i=e.sent,a=null===i||void 0===i?void 0:i.data,s={cid:t,conversationType:r,topRank:a.top_rank,eventTime:Date.now()},console.log("==== setTop ====",o,i),li.getInstance().emit(J.b.PaaSConversationSetTop,s),e.abrupt("return",a.top_rank||0);case 3:throw e.prev=3,c=e.catch(1),console.error("==== setTop error ====",o,c),c;case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t,n,r){return e.apply(this,arguments)}}(),t.clear=function(){var e=v()(T.a.mark(function e(t,n){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:void 0===n&&(n=1);case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),t.clearRedPoint=function(){var e=v()(T.a.mark(function e(t,n){var r,o,i,a,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=1),r=t.map(function(e){var t=k()(e,"appCid");return t?{messageId:e.messageId,cid:t}:{messageId:e.messageId,cid:e.cid}}),o=r[0],i={mid:o.messageId,cid:o.cid||""},e.prev=1,e.next=2,Uo(Lo.kClearConversationRedPoint,i);case 2:a={events:r.map(function(e){return{cid:e.cid||"",conversationType:n,messageId:e.messageId,eventTime:Date.now()}})},console.log("==== clearRedPoint ====",t,r,a),li.getInstance().emit(J.b.PaaSConversationClearRedPoint,a),e.next=4;break;case 3:throw e.prev=3,s=e.catch(1),console.error("==== clearRedPoint error ====",t,r,s),s;case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t,n){return e.apply(this,arguments)}}(),t.addUserConversation=function(){var e=v()(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.groupConversationCreate=function(){var e=v()(T.a.mark(function e(t,n){var r,o,i,a,s,c,u,l,d,f,p,m,g;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ia.getCloudVersion()&&(n=_()({},t),t={},k()(n,"title")&&(n.defaultTitle=k()(n,"title"),Object.assign(n,{title:void 0})),k()(n,"icon")&&(n.iconResource=k()(n,"icon"),Object.assign(n,{icon:void 0})),i=null===(o=n.initMembers)||void 0===o?void 0:o.map(function(e){return"string"===typeof e.user?_()({},e,{user:{uid:bi(""+e.user)}}):e}),n=yi()(n,{initMembers:{$set:i}})),a={param:xi(n,t)},e.prev=1,e.next=2,Uo(Lo.kCreateGroupConversation,a);case 2:c=e.sent,s=null===c||void 0===c?void 0:c.data,e.next=4;break;case 3:throw e.prev=3,g=e.catch(1),console.log("==== groupcreateerror ====",g),l=null===(u=g.data)||void 0===u?void 0:u.error,d=null===l||void 0===l?void 0:l.reason,f=JSON.parse(d),JSON.stringify({body:{code:f.code,reason:d}});case 4:return p=ai(null===(r=s)||void 0===r?void 0:r.conv),console.log("==== groupConversationCreate ====",a,p),m={eventTime:Date.now(),groupUserConversationModel:ki(p)},li.getInstance().emit(J.b.PaaSConversationGroupChatCreate,m),e.abrupt("return",ki(p));case 5:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t,n){return e.apply(this,arguments)}}(),t.groupConversationDismiss=function(){var e=v()(T.a.mark(function e(t,n){var r,o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ia.getCloudVersion()&&(n=""+t,t={}),r={cid:n},e.next=1,Uo(Lo.kDismissGroup,r);case 1:o=e.sent,console.log("==== groupConversationDismiss ====",r,o);case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),t.groupConversationUpdateDefTitle=function(){var e=v()(T.a.mark(function e(t,n,r){var o,i,a,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.operater,i={param:{operator_nick:(void 0===o?{}:o).displayName,cid:n,title:r}},e.next=1,Uo(Lo.kUpdateGroupDefaultTitle,i);case 1:a=e.sent,null===a||void 0===a?void 0:a.data,console.log("==== groupConversationUpdateDefTitle ====",i,a),s={eventTime:Date.now(),cid:n,title:r},li.getInstance().emit(J.b.PaaSConversationGroupChatTitleUpdated,s);case 2:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),t.groupConversationUpdateTitle=function(){var e=v()(T.a.mark(function e(t,n){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.groupConversationUpdateDefTitle({},t,n));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),t.groupConversationUpdateIcon=function(){var e=v()(T.a.mark(function e(t,n,r){var o,i,a,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ia.getCloudVersion()&&(r=n,n=""+t,t={}),o=t.operater,i={param:{operator_nick:(void 0===o?{}:o).displayName,cid:n,icon:r}},e.next=1,Uo(Lo.kUpdateGroupIcon,i);case 1:a=e.sent,null===a||void 0===a?void 0:a.data,console.log("==== groupConversationUpdateIcon ====",i,a),s={eventTime:Date.now(),cid:n,icon:r},li.getInstance().emit(J.b.PaaSConversationGroupChatIconUpdated,s);case 2:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),t.groupConversationJoin=function(){var e=v()(T.a.mark(function e(t,n){var r,o,i,a,s,c,u,l,d,f;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ia.getCloudVersion()&&(n=_()({},t),t={},o=null===(r=n.initMembers)||void 0===r?void 0:r.map(function(e){return"string"===typeof e.user?_()({},e,{user:{uid:bi(""+e.user)}}):e}),n=yi()(n,{cid:{$set:bi(k()(n,"appCid")||"")},initMembers:{$set:o}}),Object.assign(n,{appCid:void 0})),!n.cid){e.next=5;break}return i={param:Ai(n,t)},e.prev=1,e.next=2,Uo(Lo.kAddGroupMembers,i);case 2:a=e.sent,null===a||void 0===a?void 0:a.data,console.log("==== groupConversationJoin ====",i,a),e.next=4;break;case 3:throw e.prev=3,f=e.catch(1),console.log("==== groupjoinerror ====",f),c=null===(s=f.data)||void 0===s?void 0:s.error,u=null===c||void 0===c?void 0:c.reason,l=JSON.parse(u),JSON.stringify({body:{code:l.code,reason:u}});case 4:e.next=6;break;case 5:throw d="missing parameter at [groupConversationJoin]",Ui.getInstance().error(d),d;case 6:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t,n){return e.apply(this,arguments)}}(),t.groupConversationKick=function(){var e=v()(T.a.mark(function e(t,n){var r,o,i,a,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ia.getCloudVersion()&&(n=_()({},t),t={},o=null===(r=n.users)||void 0===r?void 0:r.map(function(e){return{uid:bi(""+e)}}),n=yi()(n,{cid:{$set:bi(k()(n,"appCid")||"")},users:{$set:o}}),Object.assign(n,{appCid:void 0})),!(n.cid&&n.users&&n.users.length>0)){e.next=2;break}return i={param:Ii(n,t)},e.next=1,Uo(Lo.kRemoveGroupMembers,i);case 1:a=e.sent,null===a||void 0===a?void 0:a.data,console.log("==== groupConversationKick ====",i,a),e.next=3;break;case 2:throw s="missing parameter at [groupConversationKick]",Ui.getInstance().error(s),s;case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),t.groupConversationLeave=function(){var e=v()(T.a.mark(function e(t,n){var r,o,i,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ia.getCloudVersion()&&(n={appCid:""+t},t={}),k()(n,"appCid")&&(n=yi()(n,{cid:{$set:bi(k()(n,"appCid")||"")}}),Object.assign(n,{appCid:void 0})),!n.cid){e.next=2;break}return r={param:{cid:n.cid,operator_nick:Mi(t)}},e.next=1,Uo(Lo.kLeaveGroup,r);case 1:o=e.sent,console.log("==== groupConversationDismiss ====",r,o),i={eventTime:Date.now(),cid:n.cid},li.getInstance().emit(J.b.PaaSConversationGroupChatLeft,i),e.next=3;break;case 2:throw a="missing parameter at [groupConversationLeave]",Ui.getInstance().error(a),a;case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),t.updateTypingStatus=function(){var e=v()(T.a.mark(function e(t){var n,r,o,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pi(t),e.prev=1,e.next=2,Uo(Lo.kUpdateConversationTypingStatus,n);case 2:return r=e.sent,o=null===r||void 0===r?void 0:r.data,console.log("==== updateConversationTypingStatus ====",t,r,o,n),e.abrupt("return",o);case 3:throw e.prev=3,i=e.catch(1),console.error("==== updateConversationTypingStatus error ====",n,i),i;case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}(),e}();ji.instance=void 0;var Li=function(e,t){var n,r;void 0===t&&(t={});var o=e.uuid,i=e.cid,a=(e.conversationType,e.content),s=(e.redPointPolicy,e.extension),c=e.ctx,u=(e.mtags,e.msgReadStatusSetting,e.xpn),l=t,d=l.actualReceivers,f=void 0===d?[]:d;l.isShare,l.excludeReceivers;return{msg:{cid:i||"",content:a?Fi(a):{},receivers:f.map(function(e){return zo(e)}),extension:s||{},local_extension:{uuid:o},callback_ctx:c||{},xpn_push:{template_id:null!==(n=null===u||void 0===u?void 0:u.templateId)&&void 0!==n?n:"",sender_nick:null!==(r=null===u||void 0===u?void 0:u.senderNick)&&void 0!==r?r:""},group_share:!1},user_data:{}}},Fi=function(e){if(!e)return{};var t=e.contentType,n=void 0===t?-1:t,r=e.replyContent,o=e.combineForwardContent,i=_()({content_type:n},Bi(e));return r&&(i.reply_content=Ki(r)),o&&(i.combine_forward_content=Xi(o)),i},Bi=function(e){if(!e)return{};var t=e.text,n=e.custom,r=e.photo,o=e.audio,i=e.video,a=e.geo,s=e.structContent,c=e.link,u=e.fileContent,l={};return t&&(l.text_content=qi(t)),r&&(l.image_content=Gi(r)),o&&(l.audio_content=Vi(o)),i&&(l.video_content=Wi(i)),a&&(l.geo_content=Hi(a)),n&&(l.custom_content=Yi(n)),s&&(l.struct_content=zi(s)),c&&(l.link_content=Ji(c)),u&&(l.file_content=$i(u)),l},qi=function(e){if(!e)return{};var t=e.content,n=void 0===t?"":t,r=e.extension;return{text:n,encrypted_text:"",extension:void 0===r?{}:r}},Gi=function(e){if(!e)return{};var t=e.mediaId,n=e.picSize,r=e.type,o=(e.picBytes,e.fileType),i=e.orientation,a=e.extension,s=e.filename;e.md5;return{media_id:t,size:n,type:r,file_type:o,extension:a,file_name:s,orientation:i}},Vi=function(e){if(!e)return{};var t=e.mediaId,n=e.duration;e.audioBytes,e.md5;return{media_id:t,duration:n,audio_type:e.fileType}},Wi=function(e){if(!e)return{};var t=e.videoMediaId,n=e.fileName,r=e.fileType,o=e.fileSize,i=e.duration,a=e.width,s=e.height,c=e.picMediaId;e.videoMd5,e.picMd5;return{media_id:t,file_name:n,file_type:r,file_size:o,duration:i,width:a,height:s,cover_media_id:c}},Hi=function(e){if(!e)return{};var t=e.picMediaId,n=e.latitude,r=e.longitude,o=e.locationName;e.md5;return{pic_media_id:t,latitude:n,longitude:r,location_name:o}},Yi=function(e){if(!e)return{};var t=e.title,n=e.summary,r=e.degrade,o=e.type,i=e.data,a={type:o,title:t,summary:n,degrade:r};return i&&(a.binary_data=function(e){for(var t=atob(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(i)),a},zi=function(e){if(!e)return{};var t=e.elements;return{elements:null===t||void 0===t?void 0:t.map(function(e){var t=e.elementType,n=e.text,r=void 0===n?{}:n,o=e.uidElementModel,i=void 0===o?{}:o,a=e.atElement,s=void 0===a?{}:a;return{element_type:t,text_content:{text:r.content||"",encrypted_text:void 0,extension:r.extension},uid_element:{uid:zo(i.uid),default_nick:i.defaultNick,prefix:null===i||void 0===i?void 0:i.prefix},at_element:{is_at_all:s.isAtAll,uid:zo(s.uid),default_nick:null===s||void 0===s?void 0:s.defaultNick}}})}},Ji=function(e){if(!e)return{};var t=e.url,n=e.title,r=e.desc,o=e.picMediaId,i=e.extension;e.md5;return{url:t,title:n,desc:r,pic_media_id:o,extension:i}},$i=function(e){if(!e)return{};var t=e.fileName,n=e.fileType,r=e.mediaId;e.md5;return{file_name:t,file_type:n,file_size:e.fileSize,media_id:r}},Ki=function(e){if(!e)return{};var t=e.referenceMessage,n=e.replyContent,r={};if(t){var o=t.sender,i=void 0===o?"":o,a=t.cid,s=t.messageId,c=t.createAt,u=t.referenceContent,l=void 0===u?{}:u,d=t.extension;r.reference_msg={sender:zo(i),cid:a,mid:s,created_at:c,reference_content:{content_type:l.contentType,content:l.simpleContent?Fi(l.simpleContent):{}},extension:d}}return n&&(r.reply_content={content_type:null===n||void 0===n?void 0:n.contentType,content:null!==n&&void 0!==n&&n.simpleContent?Fi(null===n||void 0===n?void 0:n.simpleContent):{}}),r},Xi=function(e){if(!e)return{};var t=e.combineForwardMessages;return{combine_forward:(void 0===t?[]:t).map(function(e){var t=e.sender,n=e.cid,r=e.messageId,o=e.createAt,i=e.combineForwardContent,a=void 0===i?{}:i,s=e.extension,c=void 0===s?{}:s,u=a.contentType,l=a.simpleContent,d=a.replyContent;return{sender:zo(t),cid:n,mid:r,created_at:o,combine_content:{content_type:u,simple_content:l?Bi(l):{},reply_content:d?Ki(d):{}},extension:c}})}},Qi=n(238),Zi=n.n(Qi),ea=function(){return"-"+Date.now()+Zi()()},ta=function(){function e(){this.reTypeMsgTimes=0}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.sendMessage=function(){var e=v()(T.a.mark(function e(t,n,r){var o,i,a,s,c,u,l,d,f,p,m,g,h,v,y,b,w,C,S,N,M,E;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),void 0===r&&(r=!0),r&&(o=this.sendLocalMessage(t)),e.prev=1,c=n.actualReceivers,u=(u=void 0===c?[]:c).map(function(e){return bi(e)}),101===(null===(a=t.content)||void 0===a?void 0:a.contentType)&&null!==(s=t.content.custom)&&void 0!==s&&s.data&&(d=null===(l=t.content.custom)||void 0===l?void 0:l.data)&&!Tt(d)&&(t=yi()(t,{content:{custom:{data:{$set:wt(d)}}}})),ia.getCloudVersion()&&k()(t,"appCid")&&(t=yi()(t,{cid:{$set:bi(k()(t,"appCid",""))}}),Object.assign(t,{appCid:void 0})),f=Li(t,_()({},n,{actualReceivers:u})),console.log("==== aim service:sendMessage input ====",{input:{msg:t,receiverScope:n,shouldSendLocal:r},input_convert:f}),e.next=2,Uo(Lo.kSendMessage,f);case 2:p=e.sent,m=null===p||void 0===p?void 0:p.data,g=Ko(m.msg),console.log("==== aim service:sendMessage output ====",{output:p,output_convert:g}),null!==g&&void 0!==g&&g.messageId?(y={message:{sender:{uid:mi.getInstance().getMyUid()+"@"+mi.getInstance().getDomain(),tag:0},cid:t.cid,uuid:t.uuid,messageId:g.messageId,displayStyle:1,createAt:g.createAt,content:_()({},t.content),receiverCount:g.receiverCount,unreadCount:g.unreadCount,redPointPolicy:void 0===t.redPointPolicy?0:t.redPointPolicy,extension:g.extension,receivers:[],msgReadStatusSetting:g.msgReadStatusSetting},readStatus:2,userExtension:{},msgStatus:1,recallFeature:{code:"",extension:{},operatorType:0,operatorUid:"",showRecallStatusSetting:1}},y=Ti(y),b={cid:t.cid,uuid:t.uuid,messageId:g.messageId,extension:g.extension,readStatus:2,receiverMessageStatus:{readStatus:2},senderStatus:{unReadCount:null===(h=y.message)||void 0===h?void 0:h.unreadCount,totalCount:null===(v=y.message)||void 0===v?void 0:v.unreadCount},recordStatus:1,messageModel:y.message},li.getInstance().emit(J.b.PaaSMessageChange,b)):i=g,e.next=4;break;case 3:e.prev=3,E=e.catch(1),i=null===E||void 0===E||null===(w=E.data)||void 0===w?void 0:w.error,console.error("aim-sdk/services/msg.ts error: ",i);case 4:if(!i){e.next=5;break}if(i.code=void 0,t.cid&&t.uuid&&(S={cid:t.cid,uuid:t.uuid,extension:t.extension,readStatus:0,recordStatus:-1,messageModel:null===(C=o)||void 0===C?void 0:C.message},li.getInstance().emit(J.b.PaaSMessageChange,S)),(N=i.moreInfo)&&"string"===typeof N)try{N=JSON.parse(N)}catch(e){}return M={messageId:"",cid:t.cid,extension:{send_msg_fail:JSON.stringify({reason:i.reason||"",code:i.code||"",moreInfo:N,developerMessage:i.developerMessage})},eventTime:Date.now()},ia.getEventService().emit(J.b.PaaSMessageUserExtensionChange,M),Ui.getInstance().error("response error at [AIMInvokeEvents.kSendMessage]",i),e.abrupt("return",Promise.reject({body:i}));case 5:case"end":return e.stop()}},e,this,[[1,3]])}));return function(t,n,r){return e.apply(this,arguments)}}(),t.sendTextMessage=function(){var e=v()(T.a.mark(function e(t,n,r,o){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r={}),void 0===o&&(o=1),""!==n){e.next=1;break}return e.abrupt("return");case 1:return e.abrupt("return",this.sendMessage({uuid:ea(),cid:bi(t),conversationType:o,content:{contentType:1,text:{content:n,extension:{}}},redPointPolicy:1,extension:{},ctx:{},mtags:{},msgReadStatusSetting:1},r));case 2:case"end":return e.stop()}},e,this)}));return function(t,n,r,o){return e.apply(this,arguments)}}(),t.sendLocalMessage=function(e,t){if(void 0===t&&(t=!1),t){var n=Li(e);Uo(Lo.kSendMessageTolocal,n)}var r={message:_()({},e,{uuid:e.uuid,createAt:Date.now()}),recallFeature:{code:"",extension:{},operatorType:0,operatorUid:"",showRecallStatusSetting:1},readStatus:2,msgStatus:1,userExtension:{}};return li.getInstance().emit(J.b.PaaSMessageAdd,r),r},t.updateLocalMessage=function(e){li.getInstance().emit(J.b.PaaSMessageChange,e)},t.listNextMsgs=function(){var e=v()(T.a.mark(function e(t,n,r){var o,i,a,s,c,u,l,d;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={cid:t,cursor:n===Bo?-1:+n,count:r},console.log("==== aim service:listNextMsgs input ====",{input:{cid:t,cursor:n,count:r},input_convert:o}),e.prev=1,e.next=2,Uo(Lo.kListNextMessages,o);case 2:return a=e.sent,s=null===a||void 0===a?void 0:a.data,c=s.msgs,u=void 0===c?[]:c,l=s.has_more,d={userMessageModels:u.map(function(e){return Xo(e)}),nextCursor:null===(i=u[u.length-1])||void 0===i?void 0:i.created_at,hasMore:l,degradeFailover:!1},console.log("==== aim service:listNextMsgs output ====",{output:a,output_convert:d}),e.abrupt("return",yi()(d,{userMessageModels:{$set:(d.userMessageModels||[]).map(function(e){return Ti(e)})}}));case 3:throw e.prev=3,e.catch(1);case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t,n,r){return e.apply(this,arguments)}}(),t.listPrevMsgs=function(){var e=v()(T.a.mark(function e(t,n,r){var o,i,a,s,c,u,l,d,f;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={cid:t,cursor:n===Bo?-1:+n,count:r},console.log("==== aim service:listPrevMsgs input ====",{input:{cid:t,cursor:n,count:r},input_convert:o}),e.prev=1,e.next=2,Uo(Lo.kListPreviousMessages,o);case 2:return a=e.sent,s=null===a||void 0===a?void 0:a.data,c=s.msgs,u=void 0===c?[]:c,l=s.has_more,d={userMessageModels:u.map(function(e){return Xo(e)}),nextCursor:null===(i=u[u.length-1])||void 0===i?void 0:i.created_at,hasMore:l,degradeFailover:!1},console.log("==== aim service:listPrevMsgs output ====",{output:a,output_convert:d}),f=yi()(d,{userMessageModels:{$set:(d.userMessageModels||[]).map(function(e){return Ti(e)})}}),e.abrupt("return",f);case 3:throw e.prev=3,e.catch(1);case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t,n,r){return e.apply(this,arguments)}}(),t.getMessage=function(){var e=v()(T.a.mark(function e(t,n){var r,o,i,a,s,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=""),r=function(e){return new Promise(function(t){return setTimeout(t,e)})},i={mid:t,cid:n},console.log("==== aim service:getMessage input ====",{input:{mid:t,cid:n},input_convert:i}),e.prev=1,e.next=2,Uo(Lo.kGetMessage,i);case 2:return a=e.sent,s=null===a||void 0===a?void 0:a.data,o=Xo(s.msg),console.log("==== aim service:getMessage output ====",{input:{mid:t,cid:n},input_convert:i,output:a,output_convert:o}),this.reTypeMsgTimes=0,e.abrupt("return",Ti(o));case 3:if(e.prev=3,e.catch(1),!(this.reTypeMsgTimes<3)){e.next=6;break}return this.reTypeMsgTimes++,e.next=4,r(1e3);case 4:return e.next=5,this.getMessage(t,n);case 5:return e.abrupt("return",e.sent);case 6:throw this.reTypeMsgTimes=0,c="response error at [getMessage]",Ui.getInstance().error(c,o),c;case 7:case"end":return e.stop()}},e,this,[[1,3]])}));return function(t,n){return e.apply(this,arguments)}}(),t.deleteMessage=function(){var e=v()(T.a.mark(function e(t,n,r){var o,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=1),o={cid:bi(t),mids:[n]},e.prev=1,e.next=2,Uo(Lo.kDeleteMessage,o);case 2:i={messageIds:[n],cid:t,conversationType:r,eventTime:Date.now()},li.getInstance().emit(J.b.PaaSMessageRemove,i),e.next=4;break;case 3:throw e.prev=3,e.catch(1);case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t,n,r){return e.apply(this,arguments)}}(),t.batchDeleteMessage=function(){var e=v()(T.a.mark(function e(t,n,r){var o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=1),e.prev=1,e.next=2,Uo(Lo.kDeleteMessage,{cid:bi(t),mids:n});case 2:o={messageIds:n,cid:t,conversationType:r,eventTime:Date.now()},li.getInstance().emit(J.b.PaaSMessageRemove,o),e.next=4;break;case 3:throw e.prev=3,e.catch(1);case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t,n,r){return e.apply(this,arguments)}}(),t.recallMessage=function(){var e=v()(T.a.mark(function e(t,n,r){var o,i,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=1),o={mid:n,cid:t},e.prev=1,e.next=2,Uo(Lo.kRecallMessage,o);case 2:i=mi.getInstance().getMyOpenId(),a={messageId:n,cid:bi(t),conversationType:r,eventTime:Date.now(),operatorUid:i,recallFeature:{operatorType:0,showRecallStatusSetting:1,operatorUid:i,extension:{}}},li.getInstance().emit(J.b.PaaSMessageRecall,a),e.next=4;break;case 3:throw e.prev=3,e.catch(1);case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t,n,r){return e.apply(this,arguments)}}(),t.updateMessageToRead=function(){var e=v()(T.a.mark(function e(t,n,r){var o,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=1),o={cid:t,mids:n},e.prev=1,e.next=2,Uo(Lo.kUpdateMessageToRead,o);case 2:i={messageIds:n,readStatus:2,cid:bi(t),conversationType:r,eventTime:Date.now()},li.getInstance().emit(J.b.PaaSMessageReadToReader,i),e.next=4;break;case 3:throw e.prev=3,e.catch(1);case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t,n,r){return e.apply(this,arguments)}}(),t.updateMessageToView=function(){var e=v()(T.a.mark(function e(t,n,r){var o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:void 0===r&&(r=1),e.prev=1,o={events:[{cid:bi(t),conversationType:r,messageId:n,eventTime:Date.now()}]},li.getInstance().emit(J.b.PaaSConversationClearRedPoint,o),e.next=3;break;case 2:throw e.prev=2,e.catch(1);case 3:case"end":return e.stop()}},e,null,[[1,2]])}));return function(t,n,r){return e.apply(this,arguments)}}(),t.ListMessageReadStatus=function(){var e=v()(T.a.mark(function e(t,n){var r,o,i,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={cid:t,mid:n},e.next=1,Uo(Lo.kListMessagesReadStatus,r);case 1:return o=e.sent,i=null===o||void 0===o?void 0:o.data,a=i.status,e.abrupt("return",a.map(function(e){return ia.getCloudVersion()?_()({},e,{uid:wi(e.uid)}):e}));case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),t.updateExtension=function(){var e=v()(T.a.mark(function e(t,n,r,o){var i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=1),e.prev=1,e.next=2,Uo(Lo.kUpdateMessageLocalExtension,{mid:n,extension:r});case 2:i={messageId:n,cid:bi(t),conversationType:o,extension:r,eventTime:Date.now()},li.getInstance().emit(J.b.PaaSMessageExtensionChange,i),e.next=4;break;case 3:throw e.prev=3,e.catch(1);case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(t,n,r,o){return e.apply(this,arguments)}}(),e}();ta.instance=void 0;var na=function(){function e(){}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.searchChatContent=function(){var e=v()(T.a.mark(function e(t){var n,r,o,i,a,s,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:t},e.next=1,Uo(Lo.kSearchChatContent,n);case 1:return r=e.sent,o=null===r||void 0===r?void 0:r.data,i=o.result,a=void 0===i?[]:i,s=o.total_count,c={searchResult:a.map(function(e){return{msg:Xo(e.message),ranges:e.ranges}}),total_count:s},e.abrupt("return",c);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.searchRemoteChatContent=function(){var e=v()(T.a.mark(function e(t){var n,r,o,i,a,s,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:t},console.log("====== aim service:searchRemoteChatContent input: ",t),e.next=1,Uo(Lo.kSearchRemoteChatContent,n);case 1:return r=e.sent,o=null===r||void 0===r?void 0:r.data,i=o.messages,a=void 0===i?[]:i,s=o.extra_info,c={messages:a.map(function(e){return Xo(e)}),extra_info:s},console.log("====== aim service:searchRemoteChatContent success ====",{output:o,output_convert:c}),e.abrupt("return",c);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e}();na.instance=void 0;var ra=!1,oa=function(){function e(){ra=!1}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.setCloudVersion=function(){ra=!0},t.getCloudVersion=function(){return ra},t.getSettingService=function(){return ko.getInstance()},t.getAuthService=function(){return mi.getInstance()},t.getMsgService=function(){return ta.getInstance()},t.getConvService=function(){return ji.getInstance()},t.getSearchService=function(){return na.getInstance()},t.getUtService=function(){},t.getEventService=function(){return li.getInstance()},t.getLoggerService=function(){return Ui.getInstance()},t.getStorageService=function(){return fi.getInstance()},e}();oa.instance=void 0;var ia=oa.getInstance(),aa=Mt?ia:J.d,sa=new on("authService"),ca=function(){function e(){this.loginUid=void 0,this.loginNick=void 0,this.connectionStatus=G.CONN_UNCONNECTED}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.isLogin=function(){return this.connectionStatus===G.CONN_AUTHED},t.getLoginNick=function(){return this.loginNick||""},t.getOpenId=function(e){var t=this,n=e.loginUid,r=e.loginNick;return n?(this.loginUid=n+"",this.loginNick=r,Promise.resolve()):en({api:"mtop.user.getusersimple",v:"1.0",data:{},LoginRequest:!0}).then(function(e){var n=e&&e.data||{},r=n.nick,o=n.userNumId;t.loginUid=o,t.loginNick=r})},t.init=function(){var e=v()(T.a.mark(function e(t,n){var r,o,i,a,s,c,u,l,d,f,p,m,g,h,v,y,b,w,C=this;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $a.clear(),a=St.getInstance().get(),s=a.deviceId,c=void 0===s?"":s,u=a.domain,l=void 0===u?"":u,d=a.wsUrl,f=void 0===d?null:d,p=a.debug,m=a.mediaHost,g=a.environment,h=t.appKey||St.getInstance().get().appKey,e.next=1,this.getOpenId(t);case 1:if(v=c){e.next=3;break}return e.next=2,aa.getAuthService().getDeviceId();case 2:v=e.sent;case 3:y=this.loginUid,b=g,(t.environment||t.environment===V.ENV_ONLINE)&&(b=t.environment,St.getInstance().set({environment:b})),St.getInstance().set({appKey:h}),vo(),t.mock&&(y=t.mockLoginId||this.loginUid,this.loginUid=y),w={environment:b,appKey:h,mediaHost:m,deviceId:v,appName:l,debug:p,wsUrl:f,batchConnectWs:(null===(r=t.reqParam)||void 0===r?void 0:r.batchConnectWs)||!1,wsConnectTimeout:(null===(o=t.reqParam)||void 0===o?void 0:o.wsConnectTimeout)||5e3,log:(null===(i=t.reqParam)||void 0===i?void 0:i.log)||{error:function(){var e;(e=console).error.apply(e,arguments)},info:function(){var e;(e=console).info.apply(e,arguments)}},authTokenCallback:function(){var e=t.reqParam,n=void 0===e?{}:e,r=en;return n.mtopRequest&&(r=n.mtopRequest,sa.log("[im-saas]配置mtopRequest",n)),r(_()({api:"mtop.taobao.login.token.get.h5",v:"2.0",data:_()({domain:l,deviceId:v,locale:"zh_CN",imAppKey:h},n.data||{})},n)).then(function(e){var t=e.data,n=t.bizSuccess,r=t.result;return"true"===n||!0===n?(sa.log("[im-saas]获得token成功",r),{accessToken:r.accessToken,refreshToken:r.refreshToken,accessTokenExpiredTime:864e5,openId:y}):(yo("fail"),_o("fail"),sa.log("[im-saas]获得token失败！！！",e),{})})}},t.authTokenCallback&&(w.authTokenCallback=t.authTokenCallback),as.addRegister(J.b.PaaSConnectionChanged,"auth.login",function(e){n(e),C.connectionStatus=e,e===G.CONN_AUTHED&&yo("success")}),aa.getSettingService().set(w),aa.getAuthService().loginV2();case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),t.reConnect=function(){return new Promise(function(e,t){aa.getAuthService().reConnect().then(function(){e()}).catch(function(e){t(e)})})},t.initFromAccessToken=function(){var e=v()(T.a.mark(function e(t,n){var r,o,i,a,s,c,u,l,d,f,p,m,g,h,v,y,_,b,w=this;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(sa.log("[initFromAccessToken]使用AccessToken进行免登登录%o",t),vo(),$a.clear(),r=St.getInstance().get(),o=r.domain,i=void 0===o?"":o,a=r.wsUrl,s=void 0===a?null:a,c=r.debug,u=r.mediaHost,l=r.environment,d=t.loginNick,f=t.loginUid,p=t.accessToken,m=t.accessTokenExpiredTime,g=t.appKey,h=t.refreshToken,v=t.deviceId,this.loginNick=d,this.loginUid=f,d||sa.log('[initFromAccessToken]免登陆需要传入uid对应的nick， 如"星巴克官方旗舰店"。 该问题不会阻塞流程，但会影响发送消息时昵称的展示'),y=v){e.next=1;break}return sa.log("[initFromAccessToken]免登陆请传入获得token接口入参中的deviceId！"),e.abrupt("return");case 1:_=this.loginUid,b={environment:l,appKey:g,mediaHost:u,deviceId:y,appName:i,debug:c,wsUrl:s,log:{error:function(){var e;(e=console).error.apply(e,arguments)},info:function(){var e;(e=console).info.apply(e,arguments)}},authTokenCallback:function(){return Promise.resolve({accessToken:p,refreshToken:h,accessTokenExpiredTime:m,openId:parseInt(_)})}},as.addRegister(J.b.PaaSConnectionChanged,"auth.loginWithToken",function(e){n(e),w.connectionStatus=e,e===G.CONN_AUTHED&&yo("success")}),aa.getSettingService().set(b),aa.getAuthService().login();case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),t.unInit=function(){var e=this;return new Promise(function(t,n){aa.getAuthService().logout().then(function(){sa.log("注销成功"),e.connectionStatus=G.CONN_UNCONNECTED,$a.clear(),t()}).catch(function(e){sa.log("注销失败"),n(e)})})},t.getLoginUid=function(){return this.loginUid},t.setLoginUid=function(e){this.loginUid=e},t.setLoginNick=function(e){this.loginNick=e},e}();ca.instance=void 0;var ua=ca,la=n(44),da=n.n(la),fa=function(e){var t,n,r,o,i,a,s,c,u,l,d,f,p,m,g,h={};h.conversationCode=(null===(t=e.message)||void 0===t?void 0:t.cid)||"",h.code={messageId:(null===(n=e.message)||void 0===n?void 0:n.messageId)||"",clientId:(null===(r=e.message)||void 0===r?void 0:r.uuid)||""},h.sender=Ht((null===(o=e.message)||void 0===o?void 0:o.sender)||{},null===(i=e.message)||void 0===i||null===(a=i.extension)||void 0===a?void 0:a.senderBizDomain),h.sendTime=(null===(s=e.message)||void 0===s?void 0:s.createAt)||0,h.status=Yt(e),h.selfState=2===e.readStatus?D.MessageSelfStateRead:D.MessageSelfStateUnread,h.receiverState=Kt(e.message||{});var v=Xt(e||{});if(Jt((null===(c=e.message)||void 0===c?void 0:c.content)||{},h),e.message&&e.message.extension&&e.message.extension.receiverMainUserId){var y,_,b={};b.uid=e.message.extension.receiverMainUserId,h.receiver=Ht(b,null===(y=e.message)||void 0===y||null===(_=y.extension)||void 0===_?void 0:_.receiverBizDomain)}if((!h.receiver||!h.receiver.targetId)&&e.message&&e.message.receivers){var w=[];switch(e.message.receivers.forEach(function(e){e===ua.getInstance().getLoginUid()||h.sender&&e===h.sender.targetId||w.push(e)}),w.length){case 0:var C=ua.getInstance().getLoginUid(),T=null===(u=e.message.sender)||void 0===u?void 0:u.uid;!C||!T||null!==T&&void 0!==T&&T.includes(C)?h.receiver=Ht({},""):h.receiver=Ht({uid:C},Wt());break;case 1:h.receiver=Ht({uid:w[0],tag:-1},null===(l=e.message)||void 0===l||null===(d=l.extension)||void 0===d?void 0:d.receiverBizDomain);break;default:h.receiver=Ht({uid:w[0],tag:-1},null===(f=e.message)||void 0===f||null===(p=f.extension)||void 0===p?void 0:p.receiverBizDomain)}}return h.reminder={remindType:A.MessageRemindTypeNormal,remindBehavior:x.MessageRemindBehaviorSoundAndVibrate},v.receiverCount=null===(m=e.message)||void 0===m?void 0:m.receiverCount,v.unreadCount=null===(g=e.message)||void 0===g?void 0:g.unreadCount,h.ext=v,h.localExt=v,h.originPaasMessageData=e,h},pa=function(e,t){var n,r,o={},i="",a={},s=Wt(),c=$a.getStore().conversationMap.get(e.conversationCode);c&&(i=Ft((null===(n=c.conversationIdentifier)||void 0===n||null===(r=n.target)||void 0===r?void 0:r.targetType)||"")||"",s&&i&&(a.senderBizDomain=s,a.receiverBizDomain=i));return o.cid=e.conversationCode,o.uuid=t,o.conversationType=e.conversationType||_a(c),o.redPointPolicy=0,o.extension=_()({},a,e.ext||{}),o.content=ga(e),o.ctx=a,o},ma=function(e){return{content:e.summary||"",sendTime:e.sendTime,status:e.status,selfState:e.selfState,msgType:e.msgType,sender:e.sender,code:e.code,receiverState:e.receiverState,messageData:e}},ga=function(e){var t={};t.contentType=I.ContentTypeUnknow;e.originalData;if(ha(e.msgType))return t.contentType=I.ContentTypeCustom,t.custom={type:ya(e.msgType)},e.msgType===R.MessageTypeImageEx&&e.originalData&&va(e.originalData),e.msgType===R.MessageTypeWWPicText?t.custom.data=wt(JSON.stringify(da()(e,"originalData.msgs",{}))):t.custom.data=wt(JSON.stringify(e.originalData)),t;switch(e.msgType){case R.MessageTypeText:return e.ext,t.text={extension:Object.assign({},e.ext),content:da()(e,"originalData.text","")},t.contentType=I.ContentTypeText,t;case R.MessageTypeGeo:return t.geo={latitude:da()(e,"originalData.latitude"),longitude:da()(e,"originalData.longitude"),locationName:da()(e,"originalData.locationName")},t.contentType=I.ContentTypeGeo,t}return t},ha=function(e){return e==R.MessageTypeImage||e==R.MessageTypeAudio||e==R.MessageTypeVideo||e==R.MessageTypeTemplate||e==R.MessageTypeDynamicCard||e==R.MessageTypeFile||e==R.MessageTypeGoodsFocus||e==R.MessageTypeCustom||e==R.MessageTypeImageEx||e==R.MessageTypeSystem||e==R.MessageTypeWWPicText||e>R.MessageTypeMaxTaobao},va=function(e){e&&(e.suffix||(e.suffix=e.mimeType||"gif"),e.gifUrl&&(e.url=e.gifUrl),e.size||(e.size="100"),e.isOriginal="0")},ya=function(e){switch(e){case R.MessageTypeImageEx:case R.MessageTypeImage:return P.IMAGE;case R.MessageTypeAudio:return P.AUDIO;case R.MessageTypeVideo:return P.VIDEO;case R.MessageTypeTemplate:return P.TEMPLATE;case R.MessageTypeDynamicCard:return P.DYNAMIC;case R.MessageTypeFile:return P.YUNPAN;case R.MessageTypeGoodsFocus:return P.ITEM;case R.MessageTypeCustom:return P.CUSTOM;case R.MessageTypeSystem:return P.SYSTEM;case R.MessageTypeWWPicText:return P.BIND;case R.MessageTypeGeo:return P.LOCATION;default:return e}},_a=function(e){var t;return(null===e||void 0===e||null===(t=e.conversationIdentifier)||void 0===t?void 0:t.conversationType)||1},ba=function(e,t,n){return{conversationCode:e.conversationCode,msgType:e.msgType,originalData:e.originalData,summary:e.summary,ext:e.ext,localExt:e.localExt,status:t,code:{clientId:n},receiverState:{read:{all:!1,count:0}}}},wa=function(e){return e[e.ONLINE=0]="ONLINE",e[e.OFFLINE=1]="OFFLINE",e}(wa||{}),Ca=function(e){return e[e.LOGIN=0]="LOGIN",e[e.LOGOUT=1]="LOGOUT",e[e.NETWORK_AVAILABLE=2]="NETWORK_AVAILABLE",e[e.NETWORK_UNAVAILABLE=3]="NETWORK_UNAVAILABLE",e[e.FOREGROUND_ACTIVE=4]="FOREGROUND_ACTIVE",e[e.BACKGROUND_IDLE=5]="BACKGROUND_IDLE",e[e.UNLOAD=6]="UNLOAD",e[e.KILLED=7]="KILLED",e}(Ca||{}),Ta=function(){function e(){this.mCurAliId=void 0,this.mRecentActions=void 0,this.mBackgroundIdleTimer=void 0,this.mKilledRecordInterval=void 0,this.mLatestMsgTime=0,this.registerNetworkChangeListener(),this.registerVisibilityChangeListener(),this.registerUnloadEventListener()}e.getInstance=function(){return this.INSTANCE||(this.INSTANCE=new e),this.INSTANCE};var t=e.prototype;return t.onLoginStart=function(e){e&&(this.mCurAliId=e,this.mRecentActions||(this.mRecentActions=this.loadRecentActionsFromLocal(e),this.addLastKilledAction()),this.onActionChanged(Ca.LOGIN),this.startKilledRecord())},t.onLogout=function(e){e&&(this.onActionChanged(Ca.LOGOUT),this.mCurAliId=void 0,this.mRecentActions=void 0,this.stopKilledRecord())},t.getMsgReceiveCostTime=function(e){if(!this.mCurAliId)return 0;if(this.filterAction(e),!this.mRecentActions||0===this.mRecentActions.length)return pi.getInstance().getServerTimeClock()-e;var t=this.mRecentActions[0];return t.actionTime>e?this.getEventType(t.action)===wa.OFFLINE?pi.getInstance().getServerTimeClock()-e:pi.getInstance().getServerTimeClock()-t.actionTime:pi.getInstance().getServerTimeClock()-e},t.getLatestActionAfterMsgSendTime=function(e){return this.mCurAliId?(this.filterAction(e),this.mRecentActions&&0!==this.mRecentActions.length?this.mRecentActions[0].action:-1):-1},t.updateLastMsgTime=function(e){e&&this.mLatestMsgTime<e&&(this.mLatestMsgTime=e)},t.addLastKilledAction=function(){if(this.mRecentActions){var t=localStorage.getItem(e.CACHE_KEY_LATEST_KILLED_TIME+this.mCurAliId);if(t)if(0===this.mRecentActions.length)this.mRecentActions.push({action:Ca.KILLED,actionTime:t});else{var n=this.mRecentActions[this.mRecentActions.length-1];this.getEventType(n.action)===wa.ONLINE&&this.mRecentActions.push({action:Ca.KILLED,actionTime:t})}}},t.filterAction=function(e){if(this.mRecentActions&&0!==this.mRecentActions.length){for(var t=this.mRecentActions.length;this.mRecentActions.length>0&&this.mRecentActions[0].actionTime<=e;)this.mRecentActions.splice(0,1);t!==this.mRecentActions.length&&this.updateRecentActions()}},t.loadRecentActionsFromLocal=function(t){var n=localStorage.getItem(e.CACHE_KEY_RECENT_ONLINE_OFFLINE_EVENT+t);return n?JSON.parse(n):[]},t.updateRecentActions=function(){if(this.mCurAliId&&this.mRecentActions){for(;this.mRecentActions.length>e.MAX_CACHE_COUNT;)this.mRecentActions.shift();localStorage.setItem(e.CACHE_KEY_RECENT_ONLINE_OFFLINE_EVENT+this.mCurAliId,JSON.stringify(this.mRecentActions))}},t.onActionChanged=function(e,t){void 0===t&&(t=pi.getInstance().getServerTimeClock()),this.mCurAliId&&(this.needFilter(e)||(this.getEventType(e)===wa.OFFLINE&&this.trackOffline(e,t),this.mRecentActions&&(this.mRecentActions.push({action:e,actionTime:t}),this.updateRecentActions())))},t.needFilter=function(e){var t=this.getEventType(e);return!!this.checkLatestEventIsSame(t)||(wa.ONLINE,!1)},t.checkLatestEventIsSame=function(e){var t;if(!this.mRecentActions||0===this.mRecentActions.length)return!1;var n=this.mRecentActions[(null===(t=this.mRecentActions)||void 0===t?void 0:t.length)-1];return this.getEventType(n.action)===e},t.getEventType=function(e){switch(e){case Ca.LOGIN:case Ca.FOREGROUND_ACTIVE:case Ca.NETWORK_AVAILABLE:return wa.ONLINE;case Ca.LOGOUT:case Ca.BACKGROUND_IDLE:case Ca.NETWORK_UNAVAILABLE:case Ca.UNLOAD:case Ca.KILLED:return wa.OFFLINE;default:return wa.ONLINE}},t.startKilledRecord=function(){var t=this;this.mKilledRecordInterval=setInterval(function(){localStorage.setItem(e.CACHE_KEY_LATEST_KILLED_TIME+t.mCurAliId,""+pi.getInstance().getServerTimeClock())},e.INTERVAL_CHECK_KILLED_RECORD)},t.stopKilledRecord=function(){clearInterval(this.mKilledRecordInterval)},t.registerNetworkChangeListener=function(){var e=this;window.addEventListener("online",function(){e.onActionChanged(Ca.NETWORK_AVAILABLE)}),window.addEventListener("offline",function(){e.onActionChanged(Ca.NETWORK_UNAVAILABLE)})},t.registerVisibilityChangeListener=function(){var t=this;document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState?t.mBackgroundIdleTimer=setTimeout(function(){t.onActionChanged(Ca.BACKGROUND_IDLE)},e.INTERVAL_CHECK_BACKGROUND_IDLE):"visible"===document.visibilityState&&(clearTimeout(t.mBackgroundIdleTimer),t.onActionChanged(Ca.FOREGROUND_ACTIVE))})},t.registerUnloadEventListener=function(){var e=this;window.addEventListener("beforeunload",function(){e.onActionChanged(Ca.UNLOAD)})},t.trackOffline=function(e,t){To({ext:"atm_offline",bizData:{selfAliId:this.mCurAliId,action:e,offlineTime:t,msgSendTime:this.mLatestMsgTime}})},e}();Ta.CACHE_KEY_RECENT_ONLINE_OFFLINE_EVENT="CACHE_KEY_RECENT_ONLINE_OFFLINE_EVENT",Ta.CACHE_KEY_LATEST_KILLED_TIME="CACHE_KEY_LATEST_KILLED_TIME",Ta.MAX_CACHE_COUNT=100,Ta.INTERVAL_CHECK_BACKGROUND_IDLE=1e4,Ta.INTERVAL_CHECK_KILLED_RECORD=5e3,Ta.INSTANCE=void 0;var Sa=function(e){var t,n,r,o,i,a,s,c,u,l,d,f={},p=e;if(!p)throw new Error("invalid conversation");var m=Ma(null===p||void 0===p||null===(t=p.singleChatConversation)||void 0===t?void 0:t.cid,null===p||void 0===p||null===(n=p.singleChatConversation)||void 0===n?void 0:n.extension,null===p||void 0===p?void 0:p.user_extension),g={uid:"",tag:-1,domain:""};g.uid=(null===m||void 0===m||null===(r=m.target)||void 0===r?void 0:r.id)||(null===p||void 0===p||null===(o=p.singleChatConversation)||void 0===o?void 0:o.pairSecond)||"",g.domain=(null===m||void 0===m||null===(i=m.target)||void 0===i?void 0:i.domain)||"";var h=xt(null===m||void 0===m||null===(a=m.target)||void 0===a?void 0:a.snick),v=Ht(g,Bt(h));!v.targetId||v.targetType,f.conversationIdentifier={entityType:Ea(),bizType:(null===p||void 0===p||null===(s=p.singleChatConversation)||void 0===s?void 0:s.bizType)||"",target:v,createContext:{}},f.conversationCode=(null===p||void 0===p||null===(c=p.singleChatConversation)||void 0===c?void 0:c.cid)||"",f.channelType=Oa(),f.status=N.ConversationStatusNormal,0===p.visible&&(f.status=N.ConversationStatusDelete),f.remindType=null!==p&&void 0!==p&&p.muteNotification?O.AllMute:O.OnlyNormalMessageRemind,f.position=(null===p||void 0===p?void 0:p.topRank)>0?E.ConversationPositionTop:E.ConversationPositionNormal,f.modifyTime=null===p||void 0===p?void 0:p.modifyTime,f.orderTime=p.modifyTime;var y,_=fa(p.lastMessage||{});(f.conversationContent={unReadNumber:p.redPoint||0,conversationName:null===(u=m.target)||void 0===u?void 0:u.dnick,draft:"",lastMessageSummary:ma(_),headUrl:"",readOffsetTime:-1},null!==p&&void 0!==p&&null!==(l=p.lastMessage)&&void 0!==l&&null!==(d=l.message)&&void 0!==d&&d.messageId)&&(null===(y=p.lastMessage.message.sender)||void 0===y||!y.tag||p.lastMessage.message.sender.uid);return f.ext=m,f.utags=p.utags,f.localExt={},f.originPaasConversationData={type:1,singleChatUserConversation:e},f},ka=function(e){var t,n,r,o,i,a,s,c,u,l,d,f={},p=e;if(!p)throw new Error("invalid conversation");var m=Ma(null===p||void 0===p||null===(t=p.groupChatConversation)||void 0===t?void 0:t.cid,null===p||void 0===p||null===(n=p.groupChatConversation)||void 0===n?void 0:n.extension,null===p||void 0===p?void 0:p.userExtension);f.conversationIdentifier={entityType:Ea(),bizType:(null===p||void 0===p||null===(r=p.groupChatConversation)||void 0===r?void 0:r.bizType)||"",conversationType:2,createContext:{}},f.conversationCode=(null===p||void 0===p||null===(o=p.groupChatConversation)||void 0===o?void 0:o.cid)||"",f.channelType=Oa(),f.status=N.ConversationStatusNormal,0===p.visible&&(f.status=N.ConversationStatusDelete),f.remindType=null!==p&&void 0!==p&&p.muteNotification?O.AllMute:O.OnlyNormalMessageRemind,f.position=(null===p||void 0===p?void 0:p.topRank)>0?E.ConversationPositionTop:E.ConversationPositionNormal,f.modifyTime=null===p||void 0===p?void 0:p.modifyTime,f.orderTime=p.modifyTime;var g,h=fa(p.lastMessage||{});(f.conversationContent={unReadNumber:p.redPoint||0,conversationName:xa((null===(i=p.groupChatConversation)||void 0===i?void 0:i.title)||"","title"),draft:"",lastMessageSummary:ma(h),headUrl:xa((null===(a=p.groupChatConversation)||void 0===a?void 0:a.icon)||"","icon"),readOffsetTime:-1,groupOwnerUid:Ot(null===(s=p.groupChatConversation)||void 0===s?void 0:s.ownerUid),groupMemberCount:null===(c=p.groupChatConversation)||void 0===c?void 0:c.memberCount,groupMemberLimit:null===(u=p.groupChatConversation)||void 0===u?void 0:u.memberLimit},null!==p&&void 0!==p&&null!==(l=p.lastMessage)&&void 0!==l&&null!==(d=l.message)&&void 0!==d&&d.messageId)&&(null===(g=p.lastMessage.message.sender)||void 0===g||!g.tag||p.lastMessage.message.sender.uid);return f.ext=m,f.originPaasConversationData={type:2,groupChatUserConversation:e},f},Na=function(e){var t,n,r,o;return 2===(null===e||void 0===e?void 0:e.type)?(Ta.getInstance().updateLastMsgTime(null===e||void 0===e||null===(n=e.groupChatUserConversation)||void 0===n||null===(r=n.lastMessage)||void 0===r||null===(o=r.message)||void 0===o?void 0:o.createAt),ka(e.groupChatUserConversation||{})):(Ta.getInstance().updateLastMsgTime(null===e||void 0===e||null===(t=e.singleChatUserConversation)||void 0===t?void 0:t.last_message_time),Sa((null===e||void 0===e?void 0:e.singleChatUserConversation)||{}))},Ma=function(e,t,n){var r={};return r=Object.assign({},t,n),Object.keys(r).forEach(function(e){r[e]=zt(r[e])}),r},Ea=function(){return"U"},Oa=function(){return L.BizChannelType_DingTalk},xa=function(e,t){var n=zt(e);if("object"!==typeof n)return""+n;switch(t){case"title":return n.def;case"icon":return n.icon;default:return""}},Aa=function(e){switch(e){case M.AUDIO:return 1;case M.TEXT:return 0;case M.NONE:case M.STOP:return-1}},Ia=function(e){return{uid:Ot(e.uid),role:e.role,displayName:e.groupNick}},Pa=new on("actionHandler");Oe();new on("paasEventListener").color("#FFA000");var Ra=function(e,t){switch(void 0===t&&(t={}),e){case J.b.PaaSConnectionChanged:J.a.CONN_UNCONNECTED;break;case J.b.PaaSConversationAdd:!function(e){var t=J.c.getCidByUserConversation(e),n=e.type;t&&1===n&&$a.produceStore(function(n){n.conversationMap.set(J.c.getCidByUserConversation(e)||"",Na(e)),n.conversationIdList.includes(t)||n.conversationIdList.push(t)})}(t);break;case J.b.PaaSConversationRemove:!function(e){var t=J.c.getCidByUserConversation(e),n=e.type;t&&1===n&&$a.produceStore(function(e){e.conversationMap.delete(t),e.conversationIdList=e.conversationIdList.filter(function(e){return e!==t})})}(t);break;case J.b.PaaSConversationChange:!function(e){var t=J.c.getCidByUserConversation(e);e.type,t&&$a.produceStore(function(n){n.conversationMap.set(t,Na(e))})}(t);break;case J.b.PaaSConversationClear:!function(e){var t=e.cid,n=e.conversationType;t&&1===n&&$a.produceStore(function(n){var r=n.conversationMap.get(t);r&&(r.modifyTime=e.eventTime||(new Date).getTime(),r.orderTime=e.eventTime||(new Date).getTime()),n.messageListMap.set(t,[])})}(t);break;case J.b.PaaSConversationTypingChange:!function(e){var t=e.conversationId,n=(e.type,e.command);e.receiver,t&&$a.produceStore(function(e){var r=e.conversationMap.get(t);r&&(r.ext=Object.assign({},r.ext,{OtherSideInputStatus:0===n?1:0}))})}(t);break;case J.b.PaaSConversationSetVisible:!function(e){var t=e.cid,n=e.conversationType;t&&$a.produceStore(function(r){var o=r.conversationMap.get(t);o&&(1==n?o.originPaasConversationData.singleChatUserConversation.visible=e.visible?1:0:2==n&&(o.originPaasConversationData.groupChatUserConversation.visible=e.visible?1:0),o.status=e.visible?N.ConversationStatusNormal:N.ConversationStatusDelete,o.modifyTime=e.eventTime,o.orderTime=e.eventTime)})}(t);break;case J.b.PaaSConversationMute:!function(e){var t=e.cid,n=e.conversationType,r=e.muteNotification;t&&$a.produceStore(function(o){var i=o.conversationMap.get(t);i&&(1==n?i.originPaasConversationData.singleChatUserConversation.muteNotification=r?1:0:2==n&&(i.originPaasConversationData.groupChatUserConversation.muteNotification=r?1:0),i.remindType=r?O.AllMute:O.OnlyNormalMessageRemind,i.modifyTime=e.eventTime,i.orderTime=e.eventTime)})}(t);break;case J.b.PaaSConversationSetTop:!function(e){var t=e.cid,n=e.conversationType,r=e.topRank,o=void 0===r?0:r;t&&$a.produceStore(function(r){var i=r.conversationMap.get(t);i&&(1==n?i.originPaasConversationData.singleChatUserConversation.topRank=o:2==n&&(i.originPaasConversationData.groupChatUserConversation.topRank=o),i.position=o>0?E.ConversationPositionTop:E.ConversationPositionNormal,i.modifyTime=e.eventTime,i.orderTime=e.eventTime)})}(t);break;case J.b.PaaSConversationClearRedPoint:!function(e){e.events||(e.events=[e]),!Array.isArray(e.events)||e.events.length<1||(e.events.forEach(function(e){var t=e.cid,n=e.conversationType;e.messageId,e.eventTime,t&&1===n&&$a.produceStore(function(e){var n=e.conversationMap.get(t);n&&(n.originPaasConversationData.singleChatUserConversation.redPoint=0,n.conversationContent.unReadNumber=0)},!1)}),$a.notify())}(t);break;case J.b.PaaSConversationSetSingleExt:!function(e){var t=e.cid,n=e.conversationType,r=e.extension,o=void 0===r?{}:r;t&&1===n&&$a.produceStore(function(e){var n=e.conversationMap.get(t);n&&(n.ext=Object.assign({},n.ext,o))})}(t);break;case J.b.PaaSMessageAdd:!function(e){var t,n,r,o=null===(t=e.message)||void 0===t?void 0:t.cid,i=(null===(n=e.message)||void 0===n?void 0:n.messageId)||(null===(r=e.message)||void 0===r?void 0:r.uuid);if(o&&i){var a=fa(e);$a.store.conversationMap.has(o)||(Pa.log("未获取到会话，主动查询%o",o),v()(T.a.mark(function e(){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,$a.getConversation(o);case 1:t=e.sent,Pa.log("主动查询到会话%o",t);case 2:case"end":return e.stop()}},e)}))()),$a.produceStore(function(t){var n,r,i,s=t.messageListMap.get(o);s&&Array.isArray(s)||(t.messageListMap.set(o,[]),s=[]),s.push(a),s=Rt(It(s)),t.messageListMap.set(o,s);var c=t.conversationMap.get(o);c&&(c.modifyTime=(null===(n=e.message)||void 0===n?void 0:n.createAt)||(new Date).getTime(),c.orderTime=(null===(r=e.message)||void 0===r?void 0:r.createAt)||(new Date).getTime(),c.conversationContent&&(c.conversationContent.lastMessageSummary=ma(a)),c.status=N.ConversationStatusNormal,null!==(i=c.originPaasConversationData)&&void 0!==i&&i.singleChatUserConversation&&(c.originPaasConversationData.singleChatUserConversation.visible=1),t.activeConversationId===o||c.conversationContent&&!At(a)&&(c.conversationContent.unReadNumber=c.conversationContent.unReadNumber+1))},!1);var s,c=At(a);s=c?{eventType:Wa.Default}:{eventType:Wa.MessageArrived,convId:o},$a.notify(s),c||wo()}}(t);break;case J.b.PaaSMessageRemove:!function(e){var t=e.cid,n=e.messageIds,r=void 0===n?[]:n,o=e.conversationType;e.eventTime,!t||r.length<1||1!==o||$a.getStore().conversationMap.get(t)&&$a.produceStore(function(e){var n,o=e.conversationMap.get(t),i=e.messageListMap.get(t);i&&(i=i.filter(function(e){return-1===r.indexOf(e.code.messageId)})),null!==o&&void 0!==o&&o.conversationContent&&r.includes((null===o||void 0===o||null===(n=o.conversationContent)||void 0===n?void 0:n.lastMessageSummary.code.messageId)||"")&&i&&(o.conversationContent.lastMessageSummary=ma(i[i.length-1]))})}(t);break;case J.b.PaaSMessageChange:!function(e){var t,n=e.cid,r=e.uuid,o=e.messageId,i=e.messageModel,a=e.readStatus,s=(e.extension,o||(null===i||void 0===i?void 0:i.messageId));if(n){var c=ze($a.getStore(),function(e){}),u=c.conversationMap.get(n);if(u){var l=c.messageListMap.get(n),d={};d.message=e.messageModel,d.readStatus=e.readStatus,d.msgStatus=e.recordStatus,d.userExtension=e.extension;var f,p,m=fa(d);if((!Array.isArray(l)||l.length<1)&&($a.produceStore(function(e){e.messageListMap.set(n,[m]);var t=e.conversationMap.get(n);t&&t.conversationContent&&(t.conversationContent.lastMessageSummary=ma(m))},!1),l=[m]),r?(f=l.find(function(e){return e.code.clientId===r}),p=l.findIndex(function(e){return e.code.clientId===r})):s&&(f=l.find(function(e){return e.code.messageId===s}),p=l.findIndex(function(e){return e.code.messageId===s})),!f)return $a.produceStore(function(e){var t=e.messageListMap.get(n);t&&t.push(fa({message:i,readStatus:a,msgStatus:1}))},!1),void $a.notify();var g=(f||{}).originPaasMessageData;if(g){g.message=i||(null===g||void 0===g?void 0:g.message),g.readStatus=void 0===e.readStatus?g.readStatus:e.readStatus,g.msgStatus=void 0===e.recordStatus?g.msgStatus:e.recordStatus,g.userExtension=Object.assign({},g.userExtension,e.extension);var h=fa(g);$a.produceStore(function(e){var t=e.messageListMap.get(n);t&&(t[p]=h)},!1)}var v=null===(t=u.conversationContent)||void 0===t?void 0:t.lastMessageSummary;!v||v.code.clientId!==r&&(null===v||void 0===v?void 0:v.code.messageId)!==s||$a.produceStore(function(e){var t,r=e.conversationMap.get(n);r&&(r.conversationContent&&(r.conversationContent.lastMessageSummary=ma(m)),null!==(t=r.originPaasConversationData)&&void 0!==t&&t.singleChatUserConversation&&(r.originPaasConversationData.singleChatUserConversation.lastMessage=Object.assign({},r.originPaasConversationData.singleChatUserConversation.lastMessage,m)))},!1),$a.notify()}}}(t);break;case J.b.PaaSMessageRecall:!function(e){var t=e.cid,n=(e.conversationType,e.eventTime),r=e.messageId,o=e.recallFeature;t&&$a.getStore().conversationMap.get(t)&&$a.getStore().messageListMap.get(t)&&$a.produceStore(function(e){var i,a=e.conversationMap.get(t),s=e.messageListMap.get(t);if(s){var c=s.find(function(e){return e.code.messageId===r});c&&(c.originPaasMessageData?(c.originPaasMessageData.recallFeature=Object.assign({},c.originPaasMessageData.recallFeature,o),c.originPaasMessageData.msgStatus=2,c.status=Yt(c.originPaasMessageData)):o&&1===o.showRecallStatusSetting&&(c.status=j.MessageStatusRevoke),a&&(a.modifyTime=n,a.orderTime=n,(null===(i=a.conversationContent)||void 0===i?void 0:i.lastMessageSummary.code.messageId)===r&&(a.conversationContent.lastMessageSummary=ma(c))))}})}(t);break;case J.b.PaaSMessageUserExtensionChange:!function(e){var t=e.messageId,n=e.cid,r=e.conversationType,o=e.extension;n&&1===r&&$a.getStore().conversationMap.get(n)&&$a.getStore().messageListMap.get(n)&&$a.produceStore(function(e){var r=e.messageListMap.get(n);if(r){var i=r.find(function(e){return e.code.messageId===t});i&&i.originPaasMessageData&&(i.originPaasMessageData.userExtension=o)}})}(t);break;case J.b.PaaSMessageExtensionChange:!function(e){var t=e.messageId,n=e.cid,r=e.conversationType,o=e.extension;n&&1===r&&$a.getStore().conversationMap.get(n)&&$a.getStore().messageListMap.get(n)&&$a.produceStore(function(e){var r=e.messageListMap.get(n);if(e.conversationMap.get(n),r){var i=r.find(function(e){return e.code.messageId===t});i&&(i.originPaasMessageData&&i.originPaasMessageData.message&&(i.originPaasMessageData.message.extension=o),i.ext=Object.assign({},i.ext,o))}})}(t);break;case J.b.PaaSMessageReadToSenderList:!function(e){e.events||(e.events=[e]),!Array.isArray(e.events)||e.events.length<1||(e.events.forEach(function(e){var t=e.cid,n=e.conversationType,r=e.messageId,o=(e.eventTime,e.receiverCount),i=e.unreadCount;t&&1===n&&$a.produceStore(function(e){var n,a=e.messageListMap.get(t);if(Array.isArray(a)){var s,c=$t(o,i),u=a.find(function(e){return e.code.messageId===r});u&&(u.receiverState=c,null!==(s=u.originPaasMessageData)&&void 0!==s&&s.message&&(u.originPaasMessageData.message.receiverCount=o,u.originPaasMessageData.message.unreadCount=i));var l,d,f,p=e.conversationMap.get(t);p&&(null===(n=p.conversationContent)||void 0===n?void 0:n.lastMessageSummary.code.messageId)===r&&p.conversationContent&&p.conversationContent.lastMessageSummary&&(p.conversationContent.lastMessageSummary.receiverState=c,null!==(l=p.originPaasConversationData)&&void 0!==l&&null!==(d=l.singleChatUserConversation)&&void 0!==d&&null!==(f=d.lastMessage)&&void 0!==f&&f.message&&(p.originPaasConversationData.singleChatUserConversation.lastMessage.message.unreadCount=i,p.originPaasConversationData.singleChatUserConversation.lastMessage.message.receiverCount=o))}},!1)}),$a.notify())}(t);break;case J.b.PaaSMessageReadToReader:!function(e){var t=e.cid,n=e.conversationType,r=(e.eventTime,e.messageIds),o=e.readStatus;t&&1===n&&$a.getStore().conversationMap.get(t)&&$a.getStore().messageListMap.get(t)&&(!Array.isArray(r)||r.length<1||$a.produceStore(function(n){var i=n.conversationMap.get(t);if(i&&t!==n.activeConversationId){var a,s,c=(null===(a=i.conversationContent)||void 0===a?void 0:a.unReadNumber)||0;c=Math.max(0,c-((null===(s=e.messageIds)||void 0===s?void 0:s.length)||0)),i.conversationContent&&(i.conversationContent.unReadNumber=c),i.originPaasConversationData&&i.originPaasConversationData.singleChatUserConversation&&(i.originPaasConversationData.singleChatUserConversation.redPoint=c)}r.forEach(function(e){var r,a,s,c,u=null===(r=n.messageListMap.get(t))||void 0===r?void 0:r.find(function(t){return t.code.messageId===e});u&&(u.originPaasMessageData&&(u.originPaasMessageData.readStatus=o),u.selfState=2===o?D.MessageSelfStateRead:D.MessageSelfStateUnread,i&&(null===(a=i.conversationContent)||void 0===a?void 0:a.lastMessageSummary.code.messageId)===e&&(i.conversationContent.lastMessageSummary.selfState=u.selfState,null!==(s=i.originPaasConversationData)&&void 0!==s&&null!==(c=s.singleChatUserConversation)&&void 0!==c&&c.lastMessage&&(i.originPaasConversationData.singleChatUserConversation.lastMessage.readStatus=o)))})}))}(t);break;case J.b.PaaSConversationGroupChatTitleUpdated:!function(e){var t=e.cid,n=e.title;t&&$a.produceStore(function(r){var o=r.conversationMap.get(t);o&&(o.originPaasConversationData.groupChatUserConversation.groupChatConversation.title=n,o.modifyTime=e.eventTime,o.conversationContent.conversationName=xa(n||"","title"))})}(t)}},Da=function(e,t){var n=e.status||0,r=t.status||0,o=e.modifyTime||0,i=t.modifyTime||0,a=e.orderTime||0,s=t.orderTime||0,c=e.position||0,u=t.position||0;return n!==r?-1*(r-n):u-c||s-a||i-o},Ua=function(e){return!Array.isArray(e)||e.length<1?[]:e.sort(Da)},ja=function(e){for(var t=new Set,n=[],r=0;r<e.length;r++){var o=e[r],i=o.conversationCode;t.has(i)||(t.add(i),n.push(o))}return n},La=function(e,t){var n=e.concat(t);return n=ja(n),n=Ua(n)},Fa=function(e,t){var n=e.filter(function(e){return!t.includes(e.conversationCode)});return n=ja(n),n=Ua(n)},Ba=n(239),qa=n.n(Ba),Ga=n(240),Va=n.n(Ga);Oe();var Wa=function(e){return e.Default="Default",e.ListMessage="ListMessage",e.ListConversation="ListConversation",e.MessageSending="MessageSending",e.MessageSendSuccess="MessageSendSuccess",e.MessageSendFailed="MessageSendFailed",e.MessageArrived="MessageArrived",e}({}),Ha={conversationIdList:[],activeConversationId:void 0,conversationMap:new z,messageListMap:new z,messageNextHasMore:!0,messagePrevHasMore:!0,messageNextCursor:"",messagePrevCursor:"",messageFetchLoading:!1,conversationFetchLoading:!1},Ya={eventType:Wa.Default},za=new on("dataManager"),Ja=function(){function e(){this.store=Ha,this.subscribeHandles=[],aa.getEventService().register(Ra)}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.getStore=function(){return this.store},t.clear=function(){this.store={conversationIdList:[],activeConversationId:void 0,conversationMap:new z,messageListMap:new z,messageNextHasMore:!0,messagePrevHasMore:!0,messageNextCursor:"",messagePrevCursor:"",messageFetchLoading:!1,conversationFetchLoading:!1},this.notify()},t.activeConversation=function(e,t){void 0===t&&(t=1),function(e,t){void 0===t&&(t=1),$a.produceStore(function(n){var r,o,i=n.conversationMap.get(e);n.activeConversationId=e,n.messageNextHasMore=!0,n.messagePrevHasMore=!0,n.messageNextCursor="",n.messagePrevCursor="",i&&((null===(r=i.conversationContent)||void 0===r?void 0:r.unReadNumber)||0)>0&&aa.getConvService().clearRedPoint([{cid:e,messageId:null===(o=i.conversationContent)||void 0===o?void 0:o.lastMessageSummary.code.messageId}],t).then(function(){i.conversationContent.unReadNumber=0})})}(e,t)},t.conversationMute=function(e,t,n){return void 0===n&&(n=1),aa.getConvService().mute(e,t,n)},t.conversationSetTop=function(e,t,n){return void 0===n&&(n=1),aa.getConvService().setTop(e,t,n)},t.updateMessageToRead=function(e,t,n){return void 0===n&&(n=1),aa.getMsgService().updateMessageToRead(e,t,n)},t.addUserConversation=function(e){return aa.getConvService().addUserConversation(e)},t.getConversation=function(){var e=v()(T.a.mark(function e(t){var n,r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.store.conversationMap.get(t)){e.next=2;break}return r=Na,e.next=1,aa.getConvService().getConversation(t);case 1:n=r(e.sent);case 2:return this.produceStore(function(e){e.conversationMap.set(t,n)}),e.abrupt("return",n);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getConversationWithoutCache=function(){var e=v()(T.a.mark(function e(t){var n,r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Na,e.next=1,aa.getConvService().getConversation(t);case 1:return n=r(e.sent),this.produceStore(function(e){e.conversationMap.set(t,n)}),e.abrupt("return",n);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getRemoteConversation=function(){var e=v()(T.a.mark(function e(t){var n,r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Na,e.next=1,aa.getConvService().getRemoteConversation(t);case 1:return n=r(e.sent),this.produceStore(function(e){e.conversationMap.set(t,n)}),e.abrupt("return",n);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.updateStore=function(e,t){void 0===t&&(t=!0),this.store=e,t&&this.notify()},t.produceStore=function(e,t){void 0===t&&(t=!0);var n=ze(this.store,e);this.updateStore(n,t)},t.buildConversationIdList=function(){var e=[];this.store.conversationMap.forEach(function(t,n){e.push(n)}),this.produceStore(function(t){t.conversationIdList=e},!1)},t.sortConversation=function(){var e=this;this.buildConversationIdList(),this.produceStore(function(t){t.conversationIdList=t.conversationIdList.sort(function(t,n){var r=e.store.conversationMap.get(t),o=e.store.conversationMap.get(n);return r&&o?Da(r,o):0})},!1)},t.sortMessage=function(){if(this.store.activeConversationId){var e=this.store.messageListMap.get(this.store.activeConversationId);Array.isArray(e)&&(e=e.sort(function(e,t){return Pt(e,t)}),this.store.messageListMap.set(this.store.activeConversationId,e))}},t.notify=function(e){var t=this,n=Object.assign({},Ya,e);this.sortConversation(),this.sortMessage(),za.log("由 %o 触发更新",n.eventType),this.subscribeHandles.forEach(function(e){e(t.store,n)})},t.subscribe=function(e){var t=this;return this.subscribeHandles.push(e),function(){t.subscribeHandles=t.subscribeHandles.filter(function(t){return t!==e})}},t.mergeConversationList=function(e){void 0===e&&(e=[]),this.produceStore(function(t){var n=qa()(t.conversationIdList,e.map(function(e){return e.conversationCode}),Va.a);t.conversationIdList=n,e.forEach(function(e){t.conversationMap.set(e.conversationCode,e)})},!1),this.notify({eventType:Wa.ListConversation})},t.mergeMessageList=function(e,t,n,r,o){this.produceStore(function(i){var a=i.messageListMap.get(e);a=a?a.concat(t):t,a=Rt(It(a)),i.messageListMap.set(e,a),o===B.FetchTypeOld?(i.messagePrevHasMore=!!r,i.messagePrevCursor=n+""):o===B.FetchTypeNew&&(i.messageNextHasMore=!!r,i.messageNextCursor=n+"")},!1),this.notify({eventType:Wa.ListMessage})},g()(e,[{key:"dbMap",get:function(){return this.store}}])}();Ja.instance=void 0;var $a=Ja.getInstance();window._db=$a;var Ka=n(241),Xa=n.n(Ka),Qa=function(){return"_s_"+Date.now()+"_"+Xa()()},Za=new on("messageService"),es=function(){function e(){var e=this;this.delegateList=[],as.addRegister(J.b.PaaSMessageAdd,"messageService.messageArrive",this.handleMessageArrive.bind(this)),as.addRegister(J.b.PaaSMessageRecall,"messageService.messageRecall",function(t){e.handleMessageRevoke({code:{messageId:t.messageId||"",clientId:""},status:j.MessageStatusRevoke,conversationCode:t.cid||""})}),as.addRegister(J.b.PaaSMessageExtensionChange,"messageService.messageExtensionChange",function(t){e.handleMessageUpdate({code:{messageId:t.messageId||"",clientId:""},conversationCode:t.cid||"",ext:t.extension,modifyTime:t.eventTime||0})}),as.addRegister(J.b.PaaSMessageUserExtensionChange,"messageService.messageExtensionChange",function(t){e.handleMessageUpdate({code:{messageId:t.messageId||"",clientId:""},conversationCode:t.cid||"",ext:t.extension,modifyTime:t.eventTime||0})})}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.handleMessageArrive=function(e){var t=fa(e);this.delegateList.forEach(function(e){e.onMessageArrive&&e.onMessageArrive([t],{},"",L.BizChannelType_DingTalk)})},t.handleMessageUpdate=function(e){this.delegateList.forEach(function(t){t.onMessageUpdate&&t.onMessageUpdate([{message:e,delta:{}}],"",L.BizChannelType_DingTalk)})},t.handleMessageSend=function(e,t,n,r){this.delegateList.forEach(function(o){o.onMessageSend&&o.onMessageSend([{message:e,progress:t,sendStatus:n,newMessageCreate:r}],"",L.BizChannelType_DingTalk)})},t.handleMessageRevoke=function(e){this.delegateList.forEach(function(t){t.onMessageRevoke&&t.onMessageRevoke([e],"",L.BizChannelType_DingTalk)})},t.addDelegate=function(e){var t=this;return this.delegateList.push(e),function(){t.delegateList.filter(function(t){return t!==e})}},t.removeDelegate=function(e){console.warn("[function not implement]")},t.addSmartMessage=function(e){console.warn("[function not implement]")},t.deleteMessage=function(e){var t=e.messages,n=e.dataCallback;if(!Array.isArray(t)||t.length<1)throw new Error("请传入有效的消息列表");var r=t[0].conversationCode;if(!r)throw new Error("消息中cid为空");var o=t.map(function(e){return e.code.messageId}),i=as.addRegister(J.b.PaaSMessageRemove,"messageService.deleteMessage"+r,function(e){if(e.cid===r){var t={};e.messageIds&&e.messageIds.forEach(function(e){return t[e]=!0}),n(t)}i&&i()});setTimeout(function(){i&&i()},3e3),aa.getMsgService().batchDeleteMessage(r,o)},t.deleteMessageWithConversationCodes=function(e){},t.deleteMessageWithTags=function(e){console.warn("[function not implement]")},t.listMessageReceiverBriefWithConversationCode=function(e){console.warn("[function not implement]")},t.listMessageReceiverDetailWithConversationCode=function(e){console.warn("[function not implement]")},t.listMessageWithConversationCode=function(e){var t=e.cursor,n=e.fetchType,r=e.conversationCode,o=e.dataCallback,i=e.errorCallBack,a=e.count,s=aa.getSettingService().get().wsConnectTimeout,c=setTimeout(function(){i&&i({err:"timeout"}),o=function(){}},s||5e3),u=t?t.sendTime:Number.MAX_SAFE_INTEGER;(n===B.FetchTypeOld?aa.getMsgService().listPrevMsgs(r,u+"",a):aa.getMsgService().listNextMsgs(r,u+"",a)).then(function(e){try{var t=[];(e.userMessageModels||[]).forEach(function(e){t.push(fa(e))}),t=Rt(It(t)),$a.mergeMessageList(r,t,e.nextCursor,e.hasMore,n),o&&o({data:t,dataInfo:F.MessageResultFromTypeRemote,hasMore:!!e.hasMore&&!!e.hasMore}),clearTimeout(c)}catch(e){i&&i({err:e}),clearTimeout(c)}}).catch(function(e){i&&i({err:e}),clearTimeout(c)})},t.listMessageWithConversationCodeForHistory=function(e){var t=e.cursor,n=e.fetchType,r=e.conversationCode,o=e.dataCallback,i=e.errorCallBack,a=e.count,s=aa.getSettingService().get().wsConnectTimeout,c=setTimeout(function(){i&&i({err:"timeout"}),o=function(){}},s||5e3),u=t?t.sendTime:Number.MAX_SAFE_INTEGER;(n===B.FetchTypeOld?aa.getMsgService().listPrevMsgs(r,u+"",a):aa.getMsgService().listNextMsgs(r,u+"",a)).then(function(e){try{var t=[];(e.userMessageModels||[]).forEach(function(e){t.push(fa(e))}),t=Rt(It(t)),o&&o({data:t,dataInfo:F.MessageResultFromTypeRemote,hasMore:!!e.hasMore&&!!e.hasMore}),clearTimeout(c)}catch(e){i&&i({err:e}),clearTimeout(c)}}).catch(function(e){i&&i({err:e}),clearTimeout(c)})},t.listMessageWithFilter=function(e){console.warn("[function not implement]")},t.listMessageWithMessageCode=function(e){var t=e.msgLocate,n=e.dataCallback,r=e.errorCallBack,o=t.map(function(e){return aa.getMsgService().getMessage(e.msgCode.messageId)});Promise.all(o).then(function(e){return e.map(function(e){return fa(e)})}).then(function(e){return n&&n({dataInfo:F.MessageResultFromTypeRemote,data:e,hasMore:!1})}).catch(function(e){r&&r({err:e})})},t.listMessageWithTag=function(e){console.warn("[function not implement]")},t.resendMessages=function(e){this.sendMessages(e)},t.revokeMessage=function(e){for(var t=this,n=e.messages,r=e.dataCallback,o=function(){var e=n[i],o=e.code.messageId,a=as.addRegister(J.b.PaaSMessageRecall,"messageService.revokeMessage"+o,function(e){var n;e.messageId===o&&(r(((n={})[o]=!0,n)),a&&a(),t.handleMessageRevoke({code:{messageId:e.messageId,clientId:""},conversationCode:e.cid||"",status:j.MessageStatusRevoke}))});setTimeout(function(){a&&a()},3e3),aa.getMsgService().recallMessage(e.conversationCode,o)},i=0;i<n.length;i++)o()},t.sendLocalMessages=function(e){for(var t=e.sendMessages,n=Gt()+ua.getInstance().getLoginNick(),r=0;r<t.length;r++){var o,i=t[r],a=(null===(o=i.code)||void 0===o?void 0:o.clientId)||Qa();i.ext=Object.assign({sender_nick:n},i.ext),aa.getMsgService().sendLocalMessage(pa(i,a))}},t.sendPhotoMessages=function(e){var t=e.sendMessages,n=(e.dataCallback,e.errorCallBack);e.localCallback;if(t.length<1)n&&n({err:"消息缺失"});else{var r=t[0],o=(r.conversationCode,r.originalData),i=(r.ext,o.file),a=o.base64Str;if(i instanceof File)Za.log("获取到file对象%o",i);else{if(!a||"string"!==typeof a)return void(n&&n({err:"消息体originalData值请传递File或base64 string类型 "+JSON.stringify(i)}));0}Qa()}},t.sendMessages=function(e,t){void 0===t&&(t=!1);for(var n=e.sendMessages,r=e.dataCallback,o=e.errorCallBack,i=e.localCallback,a=Gt()+ua.getInstance().getLoginNick(),s=0;s<n.length;s++){var c,u=n[s],l=(null===(c=u.code)||void 0===c?void 0:c.clientId)||Qa();u.code={clientId:l,messageId:""},u.ext=Object.assign({sender_nick:a},u.ext);var d=ba(u,j.MessageStatusSending,l);this.handleMessageSend(d,0,j.MessageStatusSending,!0),setTimeout(function(){$a.notify({eventType:Wa.MessageSending})},0),i&&i([d]),this.sendMessageBase({sendMessage:u,dataCallback:r,errorCallBack:o,shouldSendLocal:!0},t)}},t.sendMessagesWithoutUpdateExt=function(e,t){for(var n=e.sendMessages,r=e.dataCallback,o=e.errorCallBack,i=e.localCallback,a=0;a<n.length;a++){var s,c=n[a],u=(null===(s=c.code)||void 0===s?void 0:s.clientId)||Qa();c.code={clientId:u,messageId:""};var l=ba(c,j.MessageStatusSending,u);this.handleMessageSend(l,0,j.MessageStatusSending,!0),setTimeout(function(){$a.notify({eventType:Wa.MessageSending})},0),i&&i([l]),this.sendMessageBase({sendMessage:c,dataCallback:r,errorCallBack:o,shouldSendLocal:!0},t)}},t.updateMessageWithUpdateData=function(e){var t=e.updateDatas,n=e.errorCallBack,r=e.dataCallback;if(!Array.isArray(t)||t.length<1)n&&n({err:"入参非法"});else{var o=t.filter(function(e){return da()(e.update,"selfState",!1)});aa.getMsgService().updateMessageToRead(t[0].conversationCode,o.map(function(e){return e.code.messageId})).then(function(){r&&r([])})}},t.getReceiverUid=function(e){void 0===e&&(e="");var t=ua.getInstance().getLoginUid(),n=St.getInstance().get().domain,r=e.match(/^(\d+)-(\d+)#/),o="";return r&&(o=r[1])==t&&(o=r[2]),o+"@"+n},t.sendMessageBase=function(e,t){var n=this;void 0===t&&(t=!1);var r=e.sendMessage,o=e.dataCallback,i=e.errorCallBack,a=e.shouldSendLocal,s=void 0===a||a,c=ua.getInstance().getLoginUid()+"@"+St.getInstance().get().domain,u=r||{},l=u.code,d=u.conversationType,f=u.conversationCode,p=(null===l||void 0===l?void 0:l.clientId)||Qa();as.addRegister(J.b.PaaSMessageChange,"messageService.sendMessages"+p,function(e){if(e.uuid===p){var t={};t.message=e.messageModel,t.readStatus=e.readStatus,t.userExtension=e.extension,t.msgStatus=e.recordStatus;var r=fa(t),a=-1===e.recordStatus?j.MessageStatusFailed:j.MessageStatusNormal,s=-1===e.recordStatus?0:100;if(a===j.MessageStatusFailed){var c={code:"saas",subcode:p,err:{message:"send failed",data:[r]}};i&&i(c),setTimeout(function(){$a.notify({eventType:Wa.MessageSendFailed})},0),Za.log("发送失败 %o",c),bo("fail")}else o([r]),setTimeout(function(){$a.notify({eventType:Wa.MessageSendSuccess})},0),Za.log("发送成功 %o",r),bo("success");r.code.clientId||(r.code.clientId=p),n.handleMessageSend(r,s,a,!1)}});var m=[];1===d&&(m=[c,this.getReceiverUid(f)]);var g={actualReceivers:m};console.log("==== sass-sdk: sendMessageBase ====",{isLocalMessage:t,msg:pa(r,p),receiverScope:g,shouldSendLocal:s}),t?aa.getMsgService().sendLocalMessage(pa(r,p),!0):aa.getMsgService().sendMessage(pa(r,p),g,s).catch(function(e){n.handleMessageSend(ba(r,j.MessageStatusFailed,p),0,j.MessageStatusFailed,!0);var t={code:"paas",subcode:p,err:e};setTimeout(function(){$a.notify({eventType:Wa.MessageSendFailed})},0),bo("fail"),i&&i(t)})},t.searchRemoteMessage=function(e){return new Promise(function(){var t=v()(T.a.mark(function t(n,r){var o,i,a,s,c,u,l,d,f,p;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={uuid:e.uuid,uids:e.uids,cids:e.cids,startTime:e.startTime,endTime:e.endTime,query:e.query,offset:null!==(o=e.offset)&&void 0!==o?o:"0",size:null!==(i=e.size)&&void 0!==i?i:20,contentTypes:["1"]},t.prev=1,t.next=2,J.d.getSearchService().searchHistoryMessage(a);case 2:return u=t.sent,l=null!==(s=null===(c=u.msgList)||void 0===c?void 0:c.map(function(){var e=v()(T.a.mark(function e(t){var n,r,o,i,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,J.d.getMsgService().getMessage(null!==(n=t.messageId)&&void 0!==n?n:"");case 1:return r=e.sent,o=fa(r),i=Zu(o),e.abrupt("return",i);case 2:return e.prev=2,a=e.catch(0),console.log("[Search] ",a," ",t.messageId),e.abrupt("return",void 0);case 3:case"end":return e.stop()}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}()))&&void 0!==s?s:[],t.next=3,Promise.all(l);case 3:d=t.sent,f=d.filter(function(e){return void 0!==e}),n({messages:f,hasMore:u.hasMore,nextCursor:u.nextCursor}),t.next=5;break;case 4:t.prev=4,p=t.catch(1),r(p);case 5:case"end":return t.stop()}},t,null,[[1,4]])}));return function(e,n){return t.apply(this,arguments)}}())},e}();es.instance=void 0;var ts=es,ns=new on("conversationService"),rs=function(){function e(){var e=this;this.delegateList=[],as.addRegister(J.b.PaaSConversationAdd,"conversationService.conversationCreate",this.handleConversationAdd.bind(this)),as.addRegister(J.b.PaaSConversationRemove,"conversationService.conversationRemove",this.handleConversationRemove.bind(this)),as.addRegister(J.b.PaaSConversationMute,"conversationService.conversationMute",function(t){e.handleConversationUpdate([{conversationCode:t.cid||"",modifyTime:t.eventTime,remindType:t.muteNotification?O.AllMute:O.OnlyNormalMessageRemind}],function(e,t){e=_()({},e,t)})}),as.addRegister(J.b.PaaSConversationSetTop,"conversationService.conversationSetTop",function(t){e.handleConversationUpdate([{conversationCode:t.cid||"",modifyTime:t.eventTime,position:t.topRank>0?E.ConversationPositionTop:E.ConversationPositionNormal}],function(e,t){e=_()({},e,t)})}),as.addRegister(J.b.PaaSConversationClearRedPoint,"conversationService.conversationClearRedPoint",function(t){var n=t.events||[];if(!(n.length<1)){var r=n.map(function(e){return{conversationCode:e.cid||"",modifyTime:e.eventTime}});e.handleConversationUpdate(r,function(e,t){(e=_()({},e,t)).conversationContent&&(e.conversationContent.unReadNumber=0)})}}),as.addRegister(J.b.PaaSConversationChange,"conversationService.conversationChange",this.handleConversationChange.bind(this))}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.addDelegate=function(e){this.delegateList.push(e)},t.removeDelegate=function(e){console.warn("[function not implement]")},t.handleConversationAdd=function(e){var t=Na(e);this.delegateList.forEach(function(e){e.onConversationNewCreate&&e.onConversationNewCreate([t])})},t.handleConversationChange=function(e){var t=Na(e);this.delegateList.forEach(function(e){e.onConversationUpdate&&e.onConversationUpdate([{conversation:t}])})},t.handleConversationUpdate=function(e,t){var n=this;this.listConversationByCCodes({ccodes:e.map(function(e){return e.conversationCode}),dataCallback:function(r){if(Array.isArray(r)&&!(r.length<1)){var o=[];r.forEach(function(n){var r=n.conversationCode,i=e.find(function(e){return e.conversationCode===r});i&&(t(n,i),o.push({conversation:n}))}),n.delegateList.forEach(function(e){e.onConversationUpdate&&e.onConversationUpdate(o)})}}})},t.handleConversationRemove=function(e){var t,n,r,o,i=1===e.type?null===(t=e.singleChatUserConversation)||void 0===t||null===(n=t.singleChatConversation)||void 0===n?void 0:n.cid:null===(r=e.groupChatUserConversation)||void 0===r||null===(o=r.groupChatConversation)||void 0===o?void 0:o.cid;this.delegateList.forEach(function(e){e.onConversationDelete&&e.onConversationDelete([{conversationCode:i||""}])})},t.createSingleConversation=function(e){var t=e.identifier,n=e.dataCallback,r=e.completeCallback,o=e.errorCallBack,i=t.createContext||{},a=Wt();if(a){i.hasOwnProperty("selfBizDomain")||(i.selfBizDomain=a);var s=zt(i.createConversationCtx)||{};if(!i.hasOwnProperty("nickBizDomain")&&Array.isArray(s.othersNick)){var c=s.othersNick,u={};c.forEach(function(e){u[e]=Bt(xt(e))}),i.nickBizDomain=JSON.stringify(u)}}var l={pairFirst:ua.getInstance().getLoginUid()+"@"+St.getInstance().get().domain,bizType:t.bizType,ctx:i};t.target&&t.target.targetId&&(l.pairSecond=t.target.targetId+"@"+St.getInstance().get().domain),i.extensions&&(l.extension=i.extensions),aa.getConvService().createSingleConversation(l).then(function(e){ns.log("创建会话成功 %o",e),Co("success");var t=Sa(e||{});$a.getStore().conversationMap.set(t.conversationCode,t),n&&n(t),r&&r()}).catch(function(e){ns.log("创建会话失败 %o",e),Co("fail"),o&&o({err:e})})},t.deleteConversationByCCodes=function(e){var t=e.dataCallback,n=e.errorCallBack,r=e.ccodes,o=void 0===r?[]:r;aa.getConvService().hideBatch(o).then(function(e){t&&t(o.reduce(function(e,t){var n;return _()({},e,((n={})[t]=!0,n))},{}))}).catch(function(e){n&&n({err:e})})},t.leaveConversationByCCode=function(e){},t.listAllConversation=function(e){var t=e.dataCallback,n=e.errorCallBack;aa.getConvService().listConversations(0,1e3).then(function(e){var n=e.map(function(e){return Na(e)});n=Ua(ja(n)),$a.mergeConversationList(n),t&&t(n)}).catch(function(e){n&&n({err:e})})},t.listConversation=function(e){var t=e.cursor,n=e.count,r=e.dataCallback,o=e.errorCallBack;aa.getConvService().listConversations(t.modifyTime||(new Date).getTime(),n).then(function(e){var t=e.map(function(e){return Na(e)});t=Ua(ja(t)),$a.mergeConversationList(t),r&&r(t)}).catch(function(e){return o&&o({err:e})})},t.listUnreadConversation=function(e){var t=e.cursor,n=e.count,r=e.dataCallback,o=e.errorCallBack;aa.getConvService().simpleListNewest({timestamp:t.modifyTime||(new Date).getTime(),maxCount:n}).then(function(e){var t=e.map(function(e){return Na(e)});t=Ua(ja(t)),$a.mergeConversationList(t),console.log("=======listUnreadConversation",n,e,t),r&&r(t)}).catch(function(e){return o&&o({err:e})})},t.listConversationPagination=function(e){var t=e.cursor,n=e.count,r=e.dataCallback,o=e.errorCallBack;aa.getConvService().listConversationsPagination(t.modifyTime||(new Date).getTime(),n).then(function(e){var t=(e.userConvs||[]).map(function(e){return Na(e)});t=Ua(ja(t)),$a.mergeConversationList(t),r&&r({hasMore:!!e.hasMore,nextCursor:e.nextCursor,list:t})}).catch(function(e){return o&&o({err:e})})},t.listConversationByCCodes=function(e){var t=e.ccodes,n=e.dataCallback,r=e.errorCallBack;aa.getConvService().getConversations(t).then(function(e){var t=e.map(function(e){return Na(e)});n&&n(t)}).catch(function(e){return r&&r({err:e})})},t.listConversationByIdentifiers=function(e){},t.enterConversationByCCode=function(e){var t=e.ccode,n=e.dataCallback;aa.getConvService().setActiveCid(t),n&&n({})},t.markAllConversationReaded=function(){},t.updateInputStatusByCCode=function(e){var t=e.ccode,n=e.inputStatus,r=e.target,o=e.inputContentType,i=e.dataCallback,a=e.errorCallBack;aa.getConvService().updateTypingStatus({conversationId:t,receiver:r.targetId,command:n,type:null!==o&&void 0!==o?o:Aa(n)}).then(function(){return i(!0)}).then(function(e){return a&&a({err:e})})},t.createGroupConversation=function(e){var t=e.identifier,n=e.initMembers,r=e.defaultTitle,o=e.icon,i=e.dataCallback,a=e.completeCallback,s=e.errorCallBack,c=t.createContext||{},u=Wt();if(u){c.hasOwnProperty("selfBizDomain")||(c.selfBizDomain=u);var l=zt(c.createConversationCtx)||{};if(!c.hasOwnProperty("nickBizDomain")&&Array.isArray(l.othersNick)){var d=l.othersNick,f={};d.forEach(function(e){f[e]=Bt(xt(e))}),c.nickBizDomain=JSON.stringify(f)}}var p={uuid:Qa(),initMembers:null===n||void 0===n?void 0:n.map(function(e){return{user:{uid:e.uid+"@"+St.getInstance().get().domain,displayName:e.displayName},role:e.role,groupNick:e.displayName}}),defaultTitle:r,icon:o,bizType:t.bizType,ctx:c};aa.getConvService().groupConversationCreate({},p).then(function(e){ns.log("创建群会话成功",e,p),Co("success");var t=ka(e||{});$a.getStore().conversationMap.set(t.conversationCode,t),i&&i(t),a&&a()}).catch(function(e){ns.log("创建会话失败 %o",e),Co("fail"),s&&s({err:e})})},t.dismissGroupConversation=function(e){var t=e.ccode,n=e.context,r=e.dataCallback,o=e.errorCallBack,i={};null!==n&&void 0!==n&&n.operater&&(i.operater={displayName:n.operater.displayName}),aa.getConvService().groupConversationDismiss(i,t).then(function(){return r(!0)}).catch(function(e){return o&&o({err:e})})},t.leaveGroupConversation=function(e){var t=e.ccode,n=e.dataCallback,r=e.errorCallBack;aa.getConvService().groupConversationLeave({},{cid:t}).then(function(){return n(!0)}).catch(function(e){return r&&r({err:e})})},t.joinGroupConversation=function(e){var t=e.ccode,n=e.members,r=e.dataCallback,o=e.errorCallBack;aa.getConvService().groupConversationJoin({},{cid:t,initMembers:n.map(function(e){return{user:{uid:e.uid+"@"+St.getInstance().get().domain,displayName:e.displayName},role:e.role}})}).then(function(){return r(!0)}).catch(function(e){return o&&o({err:e})})},t.kickGroupConversation=function(e){var t=e.ccode,n=e.members,r=e.dataCallback,o=e.errorCallBack;aa.getConvService().groupConversationKick({},{cid:t,users:n.map(function(e){return{uid:e.uid+"@"+St.getInstance().get().domain,displayName:e.displayName}})}).then(function(){return r(!0)}).catch(function(e){return o&&o({err:e})})},t.listAllMembersByGroupCCode=function(e){var t=e.ccode,n=e.dataCallback,r=e.errorCallBack;aa.getConvService().groupConversationListAllMembers(t).then(function(e){var t=e.map(function(e){return Ia(e)});n&&n(t)}).catch(function(e){return r&&r({err:e})})},t.updateTitleByGroupCCode=function(e){var t=e.ccode,n=e.info,r=e.dataCallback,o=e.errorCallBack;aa.getConvService().groupConversationUpdateTitle(t,n).then(function(){return r(!0)}).catch(function(e){return o&&o({err:e})})},t.updateIconByGroupCCode=function(e){var t=e.ccode,n=e.info,r=e.dataCallback,o=e.errorCallBack;aa.getConvService().groupConversationUpdateIcon({},t,n).then(function(){return r(!0)}).catch(function(e){return o&&o({err:e})})},e}();rs.instance=void 0;var os=rs,is=function(){function e(){this.unReigister=void 0,this.subscribeHandles={},this.privateEventLister=this.privateEventLister.bind(this),this.unReigister=aa.getEventService().register(this.privateEventLister)}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.privateEventLister=function(e,t){void 0===t&&(t={});var n=this.subscribeHandles[e];n&&Object.keys(n).forEach(function(e){var r=n[e];r&&r(t)})},t.addRegister=function(e,t,n){var r=this;return this.subscribeHandles[e]||(this.subscribeHandles[e]={}),this.subscribeHandles[e][t]=n,function(){r.subscribeHandles[e][t]=null}},t.getAuthService=function(){return ua.getInstance()},t.getMessageService=function(){return ts.getInstance()},t.getConversationService=function(){return os.getInstance()},t.getSettingService=function(){return St.getInstance()},t.getOriginSdk=function(){return aa},e}();is.instance=void 0;var as=is.getInstance(),ss=ua,cs=os,us=ts,ls=St,ds=function(){function e(){}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.getAuthService=function(){return as.getAuthService()},t.getConversationService=function(){return as.getConversationService()},t.getMessageService=function(){return as.getMessageService()},t.getSettingService=function(){return as.getSettingService()},t.getChannel=function(){return this.getSettingService().get().imChannel||q.dingding},t.addRegister=function(e,t,n){return as.addRegister(e,t,n)},t.getOriginSdk=function(){return as.getOriginSdk()},e}();ds.instance=void 0;var fs=ds.getInstance(),ps=as.getOriginSdk();window._imsdk=ds.getInstance();var ms=function(e){return e.SEND="send",e.RECEIVE="rec",e}({}),gs=function(e){return e[e.SECURITY=0]="SECURITY",e[e.NORMAL=1]="NORMAL",e[e.SYSTEM=2]="SYSTEM",e}({}),hs=function(e){return e[e.StatusFailed=1]="StatusFailed",e[e.StatusNormal=0]="StatusNormal",e}({}),vs=function(e){return e[e.TEXT=1]="TEXT",e[e.CUSTOM=10010]="CUSTOM",e[e.STRUCT=10011]="STRUCT",e}({}),ys=function(e){function t(){return e.apply(this,arguments)||this}return w()(t,e),t}(ls);var _s={CONVERSATION_ADD:"im.uiutil.${dlgname}onConversationAdd",CONVERSATION_CHANGE:"im.uiutil.${dlgname}onConversationChange",CONVERSATION_CLOSE:"im.uiutil.${dlgname}onConversationClose",NET_DISCONNECT:"im.login.onNetDisConnect",NET_RECONNECT:"im.login.onNetReConnectOK",RE_LOGIN:"im.login.onIMLoginOK",CHAT_RECEIVE_MSG:"im.singlemsg.onReceiveNewMsg",AMP_RECEIVE_MSG:"im.amptribemsg.onReceiveNewMsg",CHAT_SEND_MSG:"im.singlemsg.onSendNewMsg",AMP_SEND_MSG:"im.amptribemsg.onSendNewMsg",CHAT_SEND_MSG_STATUS_CHANGE:"im.singlemsg.onMsgSendUpdate",AMP_SEND_MSG_STATUS_CHANGE:"im.amptribemsg.onMsgSendUpdate",PROFILE_INFO_UPDATE:"im.profile.onJSTargetsUpdate",ON_FONT_CONFIG_CHANGE:"im.uiutil.onMsgFontChange",INPUT_STATUS_CHANGE:"im.singlemsg.onPeerInputNotify",CHAT_MSG_RECALLED:"im.singlemsg.onMessageRevoke",AMP_MSG_RECALLED:"im.amptribemsg.onMessageRevoke",NET_ERROR:"netError",SEND_MSG_STATUS_CHANGE:"sendMsgStatusChange",MSG_UPDATE:"im.singlemsg.onMessageUpdate",CONV_MSG_DEL:"im.singlemsg.onMessageDeleteByConversation",MSG_DEL:"im.singlemsg.onMessageDelete",JSVIEW_UPDATE:"im.media.onJSViewUpdate",WINDOW_ACTIVE:"im.uiutil.${dlgname}OnChatDlgActive",ON_AUDIO_STOP:"im.audioplayer.onAudioStop",UPDATE_FILE_TRANSFER_INFO:"im.filetransfer.onUpdateTransferInfo",UPDATE_FILE_INFO:"im.filetransfer.onUpdateCloudFileMeta",CHAT_READ_TO_SENDER:"im.singlemsg.onMessagerReadToSenderList",SHOW_AUDIO_TEXT_SETTING_CHANGE:"im.bizutil.onShowAudio2textOptionChange",MSG_MODE_CHANGE:"im.bizutil.onChatMsgDisplayModeChange",ROAM_SUCCESS:"ON_AUTO_ROAM_SUCCESS",CONVERSATION_CHANGE_START:"conversationChangeStart",CONVERSATION_CHANGE_OVER:"conversationChangeOver",TRANSLATE_CHANGE:"im.translate.onTranslateSettingChged",ON_PASTE_TEXT:"im.uiutil.onPasteText",OPEN_CONVERSATION:"im.uiutil.openConversation",GET_CURRENT_LOGIN_ID:"im.login.GetSelfLoginID",GET_CURRENT_ALI_ID:"im.login.GetCurrentAliId",GET_CURRENT_PROFILE:"im.login.GetCurrentProfile",GET_CURRENT_CONVERSATION_ID:"im.uiutil.GetCurrentConversationID",GET_CURRENT_CONVERSATION_MESSAGES:"im.singlemsg.listMessageWithConversationCode",GET_SERVER_TIME:"im.bizutil.GetIMSvrTime",RECALL_MSG_SINGLE:"im.singlemsg.DoChatMsgWithdraw",OPEN_URL:"im.bizutil.DoUrlAction",SHOW_CONTEXT_MENU:"im.uiutil.ShowContextMenu",RESEND_MSG_SINGLE:"im.singlemsg.FastReSendChatMsg",UPDATE_MSG_TO_READ:"im.singlemsg.SetFlagsPeerMsgReaded",GET_URL_SNAPSHOT:"im.bizutil.GetUrlSnapshot",START_VIDEO:"im.bizutil.StartVideoChat",START_AUDIO:"im.bizutil.StartAudioChat",MTOP_REQUEST:"im.uiutil.MtopRequest",HTTP_REQUEST:"im.uiutil.httpRequest",DO_CARD_ACTION:"im.bizutil.DoCardAction",MSG_TRANSLATE:"im.translate.TranslateReceiveMsg",MSG_TRANSLATE_SETTING:"im.translate.GetTranslateSetting",PLAY_AUDIO:"im.bizutil.PlayAudio",SEND_MSG:"im.singlemsg.SendMsg",ADD_QUICK_TPL:"im.bizutil.AddQuickTemplate",PASTE_TEXT:"im.bizutil.PasteText",COPY_TEXT2CLIPBOARD:"im.bizutil.CopyText2Clipboard",SHOW_MEDIA:"im.bizutil.ShowMedia",GET_CONV:"im.bizutil.getConv",SAVE_TO_CLOUD:"im.uiutil.SaveToCloudDisk",QUOTE_REPLY:"im.uiutil.QuoteReply",NOTIFY_UNREAD_CONVERSATION:"im.uiutil.notifyUnreadConversation",NOTIFY_RECEIVEMSG:"im.uiutil.notifyReceiveMsg",CLOSE_NOTIFY_WINDOW:"im.uiutil.closeNotifyWindow",START_SCREE_SHOT:"im.uiutil.screenShot",OPEN_QUICK_PHASE:"im.uiutil.openQuickPhase",SELECTED_QUICK_PHASE:"im.uiutil.selectedQuickPhase",SEARCH_QUICK_PHASE:"im.uiutil.searchQuickPhase",SELECTED_QUICK_PHASE_SEARCH:"im.uiutil.selectedQuickPhaseSearch",OPEN_WORKBENCH:"im.uiutil.openWorkbench",OPEN_LIVE:"im.uiutil.openLive",OPEN_AUDIO_VIDEO:"im.uiutil.startAudioVideoChat",GET_THEME_COLOR:"im.uiutil.getThemeColor",OpenConversationByLoginId:"im.uiutil.openConversationByLoginID",CHECK_CAN_START_MEETING:"im.uiutil.checkCanStartMeeting",NOTIFY_START_MEETING:"im.uiutil.notifyStartMeeting",INVITE_PARTICIPANTS_IN_MEETING:"im.uiutil.inviteParticipants",COPY_IMAGE_SHORTCUT:"im.uiutil.copyImageShortcut",NOTIFY_WEB_FIRST_SCRENN:"im.uiutil.notifyWebReady",NOTIFY_CHAT_EVENT:"im.uiutil.notifyChatEvent",GET_PHRASES:"im.uiutil.getPhrases",PHRASE_CHANGE:"im.uiutil.phraseChange",NOTIFY_CONV_SYNC_RECONCILIATION:"im.uiutil.startIMConvReconciliation",CONV_RECONCILIATION_FAIL:"im.uiutil.recociliationFailed",GET_RECONCILIATION_CONS:"im.uiutil.getReconciliationCons",NOTIFY_GET_RECONCILIATION_CONVS:"im.uiutil.notifyReconciliationCons",NOTIFY_COLLECT_FRAME:"im.uiutil.notifyCollectFrame",INPUT_BOX_FILL:"im.uiutil.inputBoxFill",INPUT_BOX_GET_TEXT:"im.uiutil.inputBoxGetText",CLOSE_PLUGIN:"im.uiutil.closePlugin",SWITCH_PLUGIN:"im.uiutil.switchPlugin",REFRESH_PLUGIN:"im.uiutil.refreshPlugin",OPEN_PLUGIN:"im.uiutil.openPlugin"},bs=function(){function e(){this.conversationList=void 0,this.messageListMap=void 0,this.conversationMap=void 0,this.accountId2ConvMap=void 0,this.conversationList=[],this.messageListMap=new z,this.conversationMap=new z,this.accountId2ConvMap=new z}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e}();bs.instance=void 0;var ws=bs.getInstance(),Cs=n(100),Ts=Object(Cs.transferDomain)("onetalk.alibaba.com"),Ss="workspace.alibaba.com",ks=Object(Cs.transferDomain)("pre-clouddisk.alibaba.com"),Ns=Object(Cs.transferDomain)("clouddisk.alibaba.com"),Ms=Object(Cs.transferDomain)("i.alibaba.com");function Es(e,t){var n,r,o,i=((null===(n=window)||void 0===n||null===(r=n.IcbuIM)||void 0===r||null===(o=r.lib)||void 0===o?void 0:o.requestHelper)||{}).request,a="//"+Ts+e;return To({ext:"requestWrapperHttp",bizData:{url:a}}),i(a,{method:"POST",body:{params:JSON.stringify(t)}}).then(function(e){return e.data}).then(function(e){if("200"===e.code)return e.data;throw To({ext:"requestWrapperError",bizData:{url:a,error:e.message,params:JSON.stringify(t)}}),new Error(e.message)})}function Os(e,t){return(0,(window.IcbuIM.lib.requestHelper||{}).jsonp)(e,t)}var xs={accountId:"",loginId:"",aliId:"",name:"",fullPortrait:""};function As(){var e,t=(null===(e=window.IcbuIM)||void 0===e?void 0:e.UserUtil)||{},n=t.getLoginId,r=t.getAccountId,o=t.getAliId,i=t.getDisplayName;return Object.assign(xs,{accountId:r(),loginId:n(),aliId:o(),name:i()}),xs}function Is(){return(Is=v()(T.a.mark(function e(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Os("//"+Ms+"/ajax/user_portrait.htm",{}).then(function(e){xs.fullPortrait=e.portraitUrl}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ps(){As(),function(){Is.apply(this,arguments)}()}function Rs(){return xs.aliId?xs:As()}var Ds="cn"===window.schema,Us={host:Ds?"cn-qingdao.log.aliyuncs.com":"us-west-1.log.aliyuncs.com",project:Ds?"im-log-cn":"im-log-us",logstore:Ds?"im-log-store-cn":"im-us-logstore",time:10,count:10},js=new(function(){function e(e){this.options=void 0,this.url=void 0,this.options=e;var t=e.project,n=e.host,r=e.logstore;this.url="http://"+t+"."+n+"/logstores/"+r+"/track.gif?APIVersion=0.6.0"}return e.prototype.send=function(e){},e}())(Us),Ls=new Ro("track");Ls.color("#872657");var Fs={error:function(e,t){t="[object Object]"===Object.prototype.toString.call(t)?vu(t):vu({params:t}),Ls.log(e,JSON.stringify(t)),js.send({name:e,params:t})},info:function(e,t){t="[object Object]"===Object.prototype.toString.call(t)?vu(t):vu({params:t}),Ls.log(e,JSON.stringify(t)),js.send({name:e,params:t})}},Bs=new Ro("onConversationChange");Bs.color("#228B22");var qs=function(e,t){var n,r,o;t.contact||(Fs.error("buildContactEmpty",{uid:lu.getAuthService().getLoginUid(),cid:t.cid,url:encodeURIComponent(null===(n=window.location)||void 0===n?void 0:n.href)}),t.contact=(r=t,o={},Object.keys(Su).forEach(function(e){o[e]=r[e]}),o),t.owner={});if(lu.context.contact=t.contact,lu.context.cid=t.cid,lu.context.owner=t.owner,!lu.context.owner.accountId||!lu.context.owner.loginId){var i=Rs(),a=i.accountId,s=i.loginId;Object.assign(lu.context.owner,{accountId:a,loginId:s})}Bs.log("当前会话",t.cid),ws.conversationMap.get(t.cid)||(ws.conversationMap.set(t.cid,t),ws.accountId2ConvMap.set(""+t.contact.accountId,t)),lu.getEventService().emit(e,t)},Gs=function(e){return e[e.OWNER=1]="OWNER",e[e.ADMIN=2]="ADMIN",e[e.MEMBER=3]="MEMBER",e}({});function Vs(e){var t,n,r;return 2===(null===(t=e.originPaasConversationData)||void 0===t?void 0:t.type)?null===(r=e.originPaasConversationData)||void 0===r?void 0:r.groupChatUserConversation:null===(n=e.originPaasConversationData)||void 0===n?void 0:n.singleChatUserConversation}new Ro("sdk-conversationConvert").color("#228B22");var Ws=function(e,t){var n,r,o={};if(o.contactRead=e.receiverState.read.all,o.content=e.content,o.messageType=(n=e.sender,r=n?n.targetId:"",Ot(r)===Ot(fs.getAuthService().getLoginUid())?ms.SEND:ms.RECEIVE),o.viewType=e.status===j.MessageStatusRevoke?3:0,o.gmtChat=e.sendTime,o.gmtChatLong=e.sendTime,null!==e&&void 0!==e&&e.messageData){var i=Zu(e.messageData,null===t||void 0===t?void 0:t.contact);o.message=i}return o},Hs=function(e){var t,n={};n.conversationType=null===(t=e.originPaasConversationData)||void 0===t?void 0:t.type,n.cid=e.conversationCode,n.lastContactTime=e.conversationContent.lastMessageSummary.sendTime,n.lastContactTimeLong=n.lastContactTime,n.mute=!!e.remindType,n.stayTop=!!e.position,n.contactRead=e.conversationContent.lastMessageSummary.receiverState.read.all,n.unreadCount=e.conversationContent.unReadNumber>0?e.conversationContent.unReadNumber:0,n.visible=1!==e.status,n.joinTime=function(e){var t=Vs(e);return null===t||void 0===t?void 0:t.joinTime}(e),n.createAt=function(e){var t=function(e){var t,n,r,o,i;return 2===(null===(t=e.originPaasConversationData)||void 0===t?void 0:t.type)?null===(o=e.originPaasConversationData)||void 0===o||null===(i=o.groupChatUserConversation)||void 0===i?void 0:i.groupChatConversation:null===(n=e.originPaasConversationData)||void 0===n||null===(r=n.singleChatUserConversation)||void 0===r?void 0:r.singleChatConversation}(e);return null===t||void 0===t?void 0:t.createAt}(e),n.modifyTime=function(e){var t=Vs(e);return null===t||void 0===t?void 0:t.modifyTime}(e);try{var r;if(n.contact=Tu(e,"contact"),Object.keys(n.contact).forEach(function(e){n[e]=n.contact[e]}),n.owner=Tu(e,"owner"),n.latestMessage=Ws(e.conversationContent.lastMessageSummary,n),null!==(r=n.latestMessage)&&void 0!==r&&r.message){var o,i=null===(o=n.latestMessage)||void 0===o?void 0:o.message;n.imMessageType=i.subType,n.latestMessage.messageId=i.messageId}}catch(t){Fs.error("convertConversationError",{message:t.message,uid:fs.getAuthService().getLoginUid(),conversation:JSON.stringify(e)}),n.contact={},n.owner={}}return n.ext=e.ext,n};new Ro("onConversationAdd").color("#228B22");function Ys(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return zs(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zs(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Js=new Ro("onMessageReadToSenderList");Js.color("#ff8800");var $s=function(e,t){for(var n,r=Ys(t);!(n=r()).done;){var o=n.value,i=o.messageId,a=o.cid;Js.log("onMessageReaderToSender",i,a);var s=ws.messageListMap.get(a);if(Js.log("cache list %o",s),s)for(var c,u=Ys(s);!(c=u()).done;){var l=c.value;if(l.messageId===Number(mu(i))){Js.log("emit onMessageReaderToSender",i),l.contactRead=!0,l.status=0,lu.getEventService().emit(Ho.BaaSMessageReadToSenderList,l);break}}else Js.log("no messageList in cache %s",a)}},Ks=function(e){return!e||"2216852099306"!==Cu(e)},Xs=function(e,t){var n,r;Ta.getInstance().updateLastMsgTime(t.sendTime),(null===t||void 0===t?void 0:t.messageType)!==ms.SEND&&To({ext:"atm_new_messages_received",bizData:{conversationId:e,messageId:null===t||void 0===t?void 0:t.messageId,senderAliId:null===t||void 0===t||null===(n=t.sender)||void 0===n?void 0:n.targetId,receiverAliId:null===t||void 0===t||null===(r=t.receiver)||void 0===r?void 0:r.targetId,selfAliId:bu(),currentTime:Date.now(),serverTimeStamp:pi.getInstance().getServerTimeClock(),msgTime:null===t||void 0===t?void 0:t.sendTime,syncMode:"ding",loginStatus:hc.getInstance().isLogin(),imFirstLoginStartTime:pi.getInstance().getLatestLoginStartTimeAfterMsgSent(bu(),null===t||void 0===t?void 0:t.sendTime),costTime:Ta.getInstance().getMsgReceiveCostTime(null===t||void 0===t?void 0:t.sendTime),lastActionAfterMsgSend:Ta.getInstance().getLatestActionAfterMsgSendTime(null===t||void 0===t?void 0:t.sendTime)}})},Qs=function(e,t){var n=fa(t),r=t.msgSourceType||-1,o=Ks(n.conversationCode);if(n.conversationCode&&n.code.messageId&&o){var i=n.conversationCode,a=ws.messageListMap.get(i);a&&Array.isArray(a)||(a=[]);var s=null,c=ws.conversationMap.get(n.conversationCode);if(c){s=c.contact;var u=Zu(n,s);a.push(u),ws.messageListMap.set(i,a),Xs(i,u),lu.getEventService().emit(Ho.BaaSMessageNew,_()({},u,{msgSrcType:r}))}else v()(T.a.mark(function e(){var t,o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,lu.getConversationService().getConversation(n.conversationCode);case 1:t=e.sent,s=t.contact,o=Zu(n,s),a.push(o),ws.messageListMap.set(i,a),Xs(i,o),lu.getEventService().emit(Ho.BaaSMessageNew,_()({},o,{msgSrcType:r}));case 2:case"end":return e.stop()}},e)}))()}},Zs=function(e,t){var n=t.cid,r=t.messageId;if(n){var o=ws.messageListMap.get(n);if(o){var i=o.find(function(e){return gu(e.uuid)===r});if(i){var a=o.findIndex(function(e){return e.messageId===Number(mu(r))});-1!==a&&o.splice(a,1),lu.getEventService().emit(Ho.BaaSMessageRecall,i)}}}};new Ro("onConversationChange").color("#228B22");var ec=new Ro("onMessageUpdate");ec.color("#ff8800");var tc=new Ro("onLocalMessageAdd");tc.color("#228B22");new Ro("onConversationChange").color("#228B22");var nc=function(e,t){var n,r,o=(n=null===t||void 0===t?void 0:t.extension,r=Object.assign({},n),Object.keys(r).forEach(function(e){r[e]=zt(r[e])}),r),i=ws.conversationMap.get(t.cid);i&&(i.ext=o,ws.conversationMap.set(i.cid,i)),lu.getEventService().emit(Ho.PaaSConversationExtChange,{ext:o,cid:t.cid})};new Ro("onConversationChange").color("#228B22");var rc=new Ro("baasListener");rc.color("#228B22");var oc=function(e,t){switch(e){case J.b.PaaSConnectionError:case J.b.PaaSConnectionRemove:case J.b.PaaSConnectionClosed:lu.getEventService().emit(e,t);break;case J.b.PaaSConnectionChanged:rc.log("PaaSConnectionChanged 连接状态 %o",t),lu.getEventService().emit(e,t);break;case J.b.PaaSConversationGroupChatTitleUpdated:var n=zt(t.title);lu.getEventService().emit(e,_()({},t,{title:(null===n||void 0===n?void 0:n.def)||n}));break;case J.b.PaaSConversationGroupUpdateUserExt:case J.b.PaaSConversationSetSingleExt:case J.b.PaaSConversationGroupChatExtModified:nc(0,t);break;case J.b.PaaSMessageAdd:Qs(0,t);break;case J.b.PaaSMessageRemove:!function(e,t){var n=t.cid,r=t.messageIds;if(n){var o=ws.messageListMap.get(n);o&&(null===r||void 0===r||r.forEach(function(e){var t=o.find(function(t){return gu(t.uuid)===e});if(t){var n=o.findIndex(function(t){return t.messageId===Number(mu(e))});-1!==n&&o.splice(n,1),lu.getEventService().emit(Ho.BaaSMessageRemove,t)}}))}}(0,t);break;case J.b.PaaSMessageRecall:Zs(0,t);break;case J.b.PaaSMessageReadToSenderList:var r=t.events;r||(r=[t]),$s(0,r);break;case J.b.PaaSMessageReadToReader:!function(e,t){var n=t.cid,r=t.conversationType,o=t.messageIds;n&&1===r&&(!Array.isArray(o)||o.length<1||lu.context.cid&&lu.context.cid!==n&&lu.getEventService().emit(e,t))}(e,t);break;case J.b.PaaSRequestNotify:var o=t.url,i=void 0===o?"":o,a=t.body,s=void 0===a?{}:a,c=t.duration,u=void 0===c?0:c,l=t.code,d=void 0===l?0:l,f=t.success;if("/reg"===i&&(void 0!==f&&f)&&200===d){var p=+s.timestamp;p&&pi.getInstance().setServerTime(p,u)}break;case J.b.PaaSConversationGroupChatJoined:case J.b.PaaSConversationGroupChatPeerJoined:case J.b.PaaSConversationGroupChatKicked:case J.b.PaaSConversationGroupChatPeerKicked:case J.b.PaaSConversationGroupChatLeft:case J.b.PaaSConversationGroupChatPeerLeft:lu.getEventService().emit(Ho.BaaSGroupMemberChanged,{paasEventName:e,paasEventData:t}),lu.getEventService().emit(e,t);break;case Ho.PaasConversationLastMessageChanged:!function(e,t){if(t.conversationCode){var n=t.conversationCode,r=ws.messageListMap.get(n);r&&Array.isArray(r)||(r=[]);var o=null,i=ws.conversationMap.get(t.conversationCode);if(i){o=i.contact;var a=Zu(t,o);r.push(a),ws.messageListMap.set(n,r),lu.getEventService().emit(Ho.PaasConversationLastMessageChanged,a)}else v()(T.a.mark(function e(){var i,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,lu.getConversationService().getConversation(t.conversationCode);case 1:i=e.sent,o=i.contact,a=Zu(t,o),r.push(a),ws.messageListMap.set(n,r),lu.getEventService().emit(Ho.PaasConversationLastMessageChanged,a);case 2:case"end":return e.stop()}},e)}))()}}(0,fa(t));break;case Ho.PaaSConversationTypingChange:default:lu.getEventService().emit(e,t)}},ic=function(){function e(){this.emitter=new Vo.EventEmitter}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.init=function(){ps.getEventService().register(oc),(kt||Nt)&&pc.getInstance().registerEvents()},t.emit=function(e,t){return this.emitter.emit(e,t)},t.addListener=function(e,t){return this.emitter.addListener(e,t)},t.removeAllListeners=function(){return this.emitter.removeAllListeners()},t.removeListener=function(e,t){return this.emitter.removeListener(e,t)},e}();ic.instance=void 0;var ac=ic,sc=_()({},G,{CONN_ERROR:5}),cc=new Ro("pc-listener");cc.color("#ff8800");var uc=function(){return window.imsdk},lc=function(e){uc()&&(uc().on(_s.NET_RECONNECT,function(e){cc.log("network connected ",e),ac.getInstance().emit(Ho.PaaSConnectionChanged,sc.CONN_CONNECTED)}),uc().on(_s.NET_DISCONNECT,function(e){cc.log("network disconnect %o",e),ac.getInstance().emit(Ho.PaaSConnectionChanged,sc.CONN_UNCONNECTED)}),uc().on(_s.NET_ERROR,function(e){cc.log("network error ",e),ac.getInstance().emit(Ho.PaaSConnectionError,sc.CONN_ERROR)}),uc().on(_s.CONVERSATION_CLOSE.replace(/\${dlgname}/g,e.dlgName),function(e){var t,n;cc.log("conversationClose ",e),t=Ho.PaaSConversationRemove,n=e.result,lu.getEventService().emit(t,n)}),uc().on(_s.CONVERSATION_ADD.replace(/\${dlgname}/g,e.dlgName),function(e){var t,n,r;cc.log("conversationAdd %o",e),t=Ho.PaaSConversationAdd,n=e.result,r=Hs(n),lu.getEventService().emit(t,r)}),uc().on(_s.CONVERSATION_CHANGE.replace(/\${dlgname}/g,e.dlgName),function(e){cc.log("conversationChange %o",e);var t=Hs(e.result);qs(Ho.PaaSConversationChange,t)}),uc().on(_s.CHAT_RECEIVE_MSG,function(e){cc.log("onReceiveNewMsg %o",e),Qs(Ho.PaaSMessageAdd,e.result[0])}),uc().on(_s.CHAT_SEND_MSG,function(e){cc.log("onSendNewMsg %o",e),function(e){lu.getEventService().emit(Ho.PC_SEND_MESSAGE,"");var t=ws.messageListMap.get(e.conversationCode);t||(t=[],ws.messageListMap.set(e.conversationCode,t),tc.log("no message in cache %s",e.conversationCode));var n=ws.conversationMap.get(e.conversationCode);t.push(Zu(e,n.contact))}(e.result[0])}),uc().on(_s.CHAT_SEND_MSG_STATUS_CHANGE,function(e){cc.log("onMsgSendUpdate %o",e),function(e){var t=ws.conversationMap.get(e.conversationCode),n=Zu(e,t.contact);if(e.status===j.MessageStatusNormal){var r=ws.messageListMap.get(e.conversationCode),o=r.findIndex(function(t){return t.opId===e.code.clientId});-1!==o&&(ec.log("update messageId in cache %o, %o",r[o],e),r[o]=n),lu.getEventService().emit(Ho.BaaSMessageSendCallback,n)}}(e.result[0])}),uc().on(_s.CHAT_MSG_RECALLED,function(e){cc.log("onMessageRevoke %o",e);var t=e.result[0],n={cid:t.conversationCode,messageId:t.code.messageId};Zs(Ho.PaaSMessageRecall,n)}),uc().on(_s.MSG_UPDATE,function(e){cc.log("onMessageUpdate %o",e),function(e){var t=ws.conversationMap.get(e.conversationCode);if(e.localExt){var n,r,o=(null===(n=e.localExt.send_msg_fail)||void 0===n||null===(r=n.security_notify)||void 0===r?void 0:r.sender_remind_msg)||"",i={};o.indexOf("黑名单")>=0&&(i.code=-20),o.indexOf("被禁言")>=0&&(i.code=-18),o.indexOf("关键词")>=0&&(i.code=-16),e.localExt=i}lu.getEventService().emit(Ho.BaaSMessageUpdate,Zu(e,t.contact))}(e.result[0])}),uc().on(_s.CHAT_READ_TO_SENDER,function(e){cc.log("onMessageReaderToSender %o",e),$s(Ho.PaaSMessageReadToSenderList,e.result)}),uc().on(_s.TRANSLATE_CHANGE,function(e){cc.log("translateChange %o",e),ac.getInstance().emit(Ho.BaaSMessageTranslateChange,e.result)}),uc().on(_s.ON_PASTE_TEXT,function(){cc.log("paste text"),uc().pasteText()}),uc().on(_s.OPEN_CONVERSATION,function(e){cc.log("open conversation"),ac.getInstance().emit(Ho.OpenConversation,e.result)}),uc().on(_s.SELECTED_QUICK_PHASE,function(e){cc.log("selected quickPhase"),ac.getInstance().emit(Ho.SelectedQuickPhase,e.result)}),uc().on(_s.SELECTED_QUICK_PHASE_SEARCH,function(e){cc.log("selected quickPhaseSearch"),ac.getInstance().emit(Ho.SelectedQuickPhaseSearch,e.result)}),uc().on(_s.OpenConversationByLoginId,function(e){cc.log("open conversation"),ac.getInstance().emit(Ho.OpenConversationByLoginId,e.result)}),uc().on(_s.INVITE_PARTICIPANTS_IN_MEETING,function(e){ac.getInstance().emit(Ho.inviteParticipantsInMeeting,e.result)}),uc().on(_s.COPY_IMAGE_SHORTCUT,function(e){cc.log("copy image"),ac.getInstance().emit(Ho.COPY_IMAGE_SHORTCUT,e.result)}),uc().on(_s.PHRASE_CHANGE,function(){cc.log("phrase change"),ac.getInstance().emit(Ho.PHRASE_CHANGE,!0)}),uc().on(_s.CONV_RECONCILIATION_FAIL,function(){cc.log("conversation reconciliation failure"),ac.getInstance().emit(Ho.CONV_RECONCILIATION_FAIL,!0)}),uc().on(_s.GET_RECONCILIATION_CONS,function(e){cc.log("get reconciliation convs"),ac.getInstance().emit(Ho.GET_RECONCILIATION_CONS,e)}),Object.values(Fo).forEach(function(e){uc().on(e,function(t){console.log("=======aim sdk events push======",e,t),To({ext:"IMSDK_AIMEvent",traceId:t.traceId,bizData:{eventName:e}}),ia.getEventService().onPushEvent(e,t.data)})}))},dc=function(){return window.imsdk},fc=function(){function e(){this._dlgName="",this.selectedText="";var e,t,n=(e=location?location.search.substring(1):"",t={},e.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,n,r){t[n]=decodeURIComponent(r)}),t);this._dlgName=n.dlguniqname||""}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.registerEvents=function(){lc(this)},t.invoke=function(e,t,n){var r,o,i,a;return null===dc||void 0===dc||null===(r=dc())||void 0===r||null===(o=r.invoke)||void 0===o||null===(i=o.call(r,e,t,n))||void 0===i||null===(a=i.then)||void 0===a?void 0:a.call(i,function(e){return null===e||void 0===e?void 0:e.result})},t.listMessageWithConversationCode=function(e){return this.invoke(_s.GET_CURRENT_CONVERSATION_MESSAGES,e)},t.getConversation=function(e){return this.invoke(_s.GET_CONV,e)},t.getCurrentLoginID=function(){return this.invoke(_s.GET_CURRENT_LOGIN_ID)},t.getCurrentConversationID=function(){return this.invoke(_s.GET_CURRENT_CONVERSATION_ID)},t.getCurrentAliId=function(){return this.invoke(_s.GET_CURRENT_ALI_ID)},t.resendMsg=function(e){return this.invoke(_s.RESEND_MSG_SINGLE,e)},t.recallMsg=function(e){return this.invoke(_s.RECALL_MSG_SINGLE,e)},t.updateMessageToRead=function(e){return this.invoke(_s.UPDATE_MSG_TO_READ,e)},t.getServerTime=function(){return this.invoke(_s.GET_SERVER_TIME)},t.openUrl=function(e){return this.invoke(_s.OPEN_URL,e)},t.contextMenu=function(e){return this.invoke(_s.SHOW_CONTEXT_MENU,e,6e5)},t.getUrlSnapshot=function(e){return this.invoke(_s.GET_URL_SNAPSHOT,e)},t.startMeeting=function(e){var t=1===e?_s.START_VIDEO:_s.START_AUDIO;return this.invoke(t)},t.mtopRequest=function(e){return this.invoke(_s.MTOP_REQUEST,e)},t.doCardAction=function(e){return this.invoke(_s.DO_CARD_ACTION,e)},t.translate=function(e){return this.invoke(_s.MSG_TRANSLATE,e)},t.translateSetting=function(){return this.invoke(_s.MSG_TRANSLATE_SETTING)},t.playAudio=function(e){return this.invoke(_s.PLAY_AUDIO,e)},t.sendMessage=function(e){return this.invoke(_s.SEND_MSG,e)},t.getCurrentProfile=function(){return this.invoke(_s.GET_CURRENT_PROFILE)},t.httpRequest=function(e){return this.invoke(_s.HTTP_REQUEST,e)},t.copyText=function(e,t){return void 0===t&&(t="text"),this.invoke(_s.COPY_TEXT2CLIPBOARD,{content:e,type:t})},t.addQuickTemplate=function(e){return this.invoke(_s.ADD_QUICK_TPL,e)},t.pasteText=function(){return this.invoke(_s.PASTE_TEXT,this.selectedText)},t.selectAllText=function(e){var t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)},t.showMedia=function(e){return this.invoke(_s.SHOW_MEDIA,e)},t.saveToCloud=function(e){return this.invoke(_s.SAVE_TO_CLOUD,e)},t.quoteReply=function(e){return this.invoke(_s.QUOTE_REPLY,e)},t.notifyUnreadConversation=function(e){return this.invoke(_s.NOTIFY_UNREAD_CONVERSATION,e)},t.notifyReceiveMsg=function(e){return this.invoke(_s.NOTIFY_RECEIVEMSG,e)},t.closeNotifyWindow=function(e){return this.invoke(_s.CLOSE_NOTIFY_WINDOW,e)},t.startScreenShot=function(e){return this.invoke(_s.START_SCREE_SHOT,e)},t.openQuickPhase=function(){return this.invoke(_s.OPEN_QUICK_PHASE)},t.searchQuickPhase=function(e){return this.invoke(_s.SEARCH_QUICK_PHASE,e)},t.openWorkbench=function(){return this.invoke(_s.OPEN_WORKBENCH)},t.openLive=function(e){return this.invoke(_s.OPEN_LIVE,e)},t.openAudioVideo=function(e){return this.invoke(_s.OPEN_AUDIO_VIDEO,e)},t.getThemeColor=function(){return this.invoke(_s.GET_THEME_COLOR)},t.checkCanStartMeeting=function(){return this.invoke(_s.CHECK_CAN_START_MEETING)},t.notifyStartMeeting=function(e){return this.invoke(_s.NOTIFY_START_MEETING,e)},t.notifyWebFirstScreen=function(e){return this.invoke(_s.NOTIFY_WEB_FIRST_SCRENN,e)},t.notifyChatEvent=function(e){return this.invoke(_s.NOTIFY_CHAT_EVENT,e)},t.getPhrases=function(){return this.invoke(_s.GET_PHRASES)},t.notifyConvSyncReconciliation=function(){return this.invoke(_s.NOTIFY_CONV_SYNC_RECONCILIATION)},t.notifyReconciliationConvs=function(e){return this.invoke(_s.NOTIFY_GET_RECONCILIATION_CONVS,e)},t.notifyCollectionFrame=function(e){return this.invoke(_s.NOTIFY_COLLECT_FRAME,e)},t.notifyInputBoxFill=function(e){return this.invoke(_s.INPUT_BOX_FILL,e)},t.getInputBoxText=function(e){return this.invoke(_s.INPUT_BOX_GET_TEXT,e)},t.closePlugin=function(e){return this.invoke(_s.CLOSE_PLUGIN,e)},t.switchPlugin=function(e){return this.invoke(_s.SWITCH_PLUGIN,e)},t.refreshPlugin=function(e){return this.invoke(_s.REFRESH_PLUGIN,e)},t.openPlugin=function(e){return this.invoke(_s.OPEN_PLUGIN,e)},g()(e,[{key:"dlgName",get:function(){return this._dlgName}}])}();fc.instance=void 0;var pc=fc,mc=new Ro("sdk-authService");mc.color("#228B22");var gc=pc.getInstance(),hc=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).icbuAppKey="7594e10385fca14f1521481c62f5cfd0",t.domainName={icbu:"icbu"},t}w()(t,e),t.getInstance=function(){return this.instance||(this.instance=new t),this.instance};var n=t.prototype;return n.isIcbuDomain=function(){return!0},n.getAppKey=function(){return this.icbuAppKey},n.initLoginId=function(){return gc.getCurrentAliId().then(function(e){return fs.getAuthService().setLoginUid(e.aliId)})},n.safeInit=function(e){var t=this;return new Promise(function(n){t.isLogin()&&(mc.log("isLogined"),n(!0));var r=e.loginUid,o=e.loginNick,i=void 0===o?"":o;if(!r)throw new Error("loginUid is required in safeInit");fs.getAuthService().setLoginUid(r),fs.getAuthService().setLoginNick(i),fs.getSettingService().set(_()({},e)),t.init(e,function(e){e===G.CONN_AUTHED&&n(!0)})})},n.safeInit2=function(e){var t=this,n=_()({},e),r=_()({},e);return r.domain=this.domainName.icbu,n.authTokenCallback=v()(T.a.mark(function t(){var n,r,o,i,a,s;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.reqParam,o=(r=void 0===n?{}:n).mtopRequest,i=fs.getSettingService().get(),a=i.deviceId,s=a){t.next=2;break}return t.next=1,ps.getAuthService().getDeviceId();case 1:s=t.sent;case 2:return t.abrupt("return",o(_()({api:"mtop.alibaba.icbu.im.login.token.get",v:"1.0",data:{deviceId:s,appKey:e.appKey}},r)).then(function(t){var n=t.data.object;return n&&n.accessToken?(mc.log("[icbu]获得token成功",n),{accessToken:n.accessToken,refreshToken:n.refreshToken,accessTokenExpiredTime:n.accessTokenExpiredMillSeconds,openId:e.loginUid}):(mc.log("[icbu]获得token失败！！！",t),{})}));case 3:case"end":return t.stop()}},t)})),new Promise(function(o,i){t.isLogin()&&(mc.log("isLogined"),o(G.CONN_AUTHED));var a=e.loginUid,s=e.loginNick,c=void 0===s?"":s;if(!a)throw new Error("loginUid is required in safeInit");fs.getAuthService().setLoginUid(a),fs.getAuthService().setLoginNick(c),fs.getSettingService().set(r),pi.getInstance().loginStart(a),Ta.getInstance().onLoginStart(a),t.init(n,function(e){o(e)})})},t}(ss),vc=new Ro("BaasDataManager");vc.color("#228B22");var yc=function(){function e(){}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.activeConversation=function(e){e.cid!==lu.context.cid&&(vc.log("选中会话",e.cid),qs(Ho.PaaSConversationChange,e),$a.activeConversation(e.cid,yu(e.cid)),pi.getInstance().convOpen(e.owner.aliId,e.cid))},t.getConversation=function(){var e=v()(T.a.mark(function e(t){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,$a.getConversation(t);case 1:return n=e.sent,e.abrupt("return",Hs(n));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.getConversationWithoutCache=function(){var e=v()(T.a.mark(function e(t){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,$a.getConversationWithoutCache(t);case 1:return n=e.sent,e.abrupt("return",Hs(n));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.getRemoteConversation=function(){var e=v()(T.a.mark(function e(t){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,$a.getRemoteConversation(t);case 1:return n=e.sent,e.abrupt("return",Hs(n));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.conversationMute=function(e,t){return $a.conversationMute(e,t,yu(e))},t.conversationSetTop=function(e,t){return $a.conversationSetTop(e,t,yu(e))},t.updateMessageToRead=function(e,t){return Fs.info("updateMessageToRead",{messageIds:t}),$a.updateMessageToRead(e,t,yu(e))},t.addUserConversation=function(e){return $a.addUserConversation(e)},t.mergeMessageList=function(e,t){var n=ws.messageListMap.get(e);n=n?n.concat(t):t,ws.messageListMap.set(e,n)},e}();yc.instance=void 0;var _c=yc.getInstance();function bc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wc(r.key),r)}}function wc(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Cc=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t.database,o=t.version,i=t.table,a=t.keyPath,s=t.autoIncrement,c=t.mode,u=t.timeout,l=t.success,d=t.error,f=t.indexList,p=void 0===f?[]:f;if(this.table=i,this.mode=c,this.hasHandled=!1,this.error=function(e){"function"!==typeof d||n.hasHandled||(n.hasHandled=!0,clearTimeout(n.timer),d(e)),console.error("==== indexedDB error ====: ",e.message)},this.timer=setTimeout(function(){return n.error(new Error("db connect timeout!"))},u||5e3),!window.indexedDB)return this.request={},void this.error(new Error("indexedDB not supported!"));this.request=window.indexedDB.open(r,o),this.request.addEventListener("success",function(e){n.db=e.target.result,"function"!==typeof l||n.hasHandled||(n.hasHandled=!0,clearTimeout(n.timer),l(e))}),this.request.addEventListener("error",function(e){n.error(e)}),this.request.addEventListener("upgradeneeded",function(e){var t=e.target.result;if(!t.objectStoreNames.contains(i)){var r={};a?(r.keyPath=a,r.autoIncrement=!!s):r.autoIncrement=!0,n.objectStore=t.createObjectStore(i,r),p.forEach(function(e){n.objectStore.createIndex(e.name,e.name,e.config||{unique:!1})})}})}var t,n,r;return t=e,(n=[{key:"add",value:function(e){return this.promiseWrapper(e,function(e,t){return e.add(t)})}},{key:"put",value:function(e){return this.promiseWrapper(e,function(e,t){return e.put(t)})}},{key:"getByKey",value:function(e){return this.promiseWrapper(e,function(e,t){return e.get(t)})}},{key:"getByIndex",value:function(e,t){return this.promiseWrapper(e,function(e,n){return e.index(t).get(n)})}},{key:"iterate",value:function(e){if(!this.db)return console.error("==== indexedDB has not be connectted! ===="),null;var t=e.key,n=e.index,r=e.prefix,o=e.filter,i=void 0===o?function(){return!0}:o,a=e.callback,s=this.db.transaction(this.table,this.mode),c=s.objectStore(this.table),u=t?IDBKeyRange.only(t):null,l=r?IDBKeyRange.bound(r,r+"￿"):null,d=function(e){var t=e.target.result;t?(i(t.value)&&a(t.value),t.continue()):a(null)};return n?c.index(n).openCursor(u||l).addEventListener("success",d):c.openCursor(u||l).addEventListener("success",d),s}},{key:"delete",value:function(e){return this.promiseWrapper(e,function(e,t){return e.delete(t)})}},{key:"promiseWrapper",value:function(e,t){if(!this.db)return console.error("==== indexedDB has not be connectted! ===="),Promise.all(e.map(function(){return Promise.resolve(null)})).catch(function(e){return e});e=Array.isArray(e)?e:[e];var n=this.db.transaction(this.table,this.mode).objectStore(this.table);return Promise.all(e.map(function(e){return r=t(n,e),new Promise(function(e,t){r.addEventListener("success",function(t){e(t.target.result)}),r.addEventListener("error",function(e){t(e)})});var r})).catch(function(e){return e})}}])&&bc(t.prototype,n),r&&bc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Tc=function(e){function t(t){var n;return(n=e.call(this,t)||this).updateCacheList=[],n}w()(t,e);var n=t.prototype;return n.deduplicateList=function(e){for(var t=new Map,n=[],r=0;r<e.length;r++){var o=(e[r]||{}).key;t.has(o)?console.error("===The "+r+"th duplicated:"+o+"==="):(t.set(o,null),n.push(e[r]))}return n},n.getCache=function(){var e=v()(T.a.mark(function e(t){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,this.getByKey(t);case 1:return n=e.sent,e.abrupt("return",n&&n[0]);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.getCacheBatch=function(){var e=v()(T.a.mark(function e(){var t,n=this;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.abrupt("return",new Promise(function(e,r){n.iterate({callback:function(n){n?t.push(n):e(t)}})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),n.updateCache=function(){var e=v()(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.updateCacheList.push(t),1===this.updateCacheList.length&&this.innerUpdateCache(t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.innerUpdateCache=function(){var e=v()(T.a.mark(function e(t){var n,r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isBatch){e.next=1;break}n=this.deduplicateList(t.data),this.put(n),e.next=5;break;case 1:return e.next=2,this.getByKey(t.key);case 2:if(!(r=e.sent)||!r[0]){e.next=4;break}return e.next=3,this.put(_()({},r[0],t.data));case 3:e.next=5;break;case 4:return e.next=5,this.put(t.data);case 5:this.updateCacheList.shift(),this.updateCacheList.length>0&&this.innerUpdateCache(this.updateCacheList[0]);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t}(Cc),Sc=Tc,kc=new Ro("sdk-imageService"),Nc=function(){function e(){var e,t=this;this.dataMap={},this.imageDBInstance=void 0,this.imageDBInstance=new Sc({database:"chatImageCache",version:1,table:"chatImageCache",keyPath:"key",mode:"readwrite",success:(e=v()(T.a.mark(function e(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,t.imageDBInstance.getCacheBatch();case 1:e.sent.forEach(function(e){t.dataMap[e.md5+"-"+e.suffix]=e}),kc.log("indexDB image cache connect success");case 2:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),error:function(){kc.log("==== indexedDB image cache connect failed! ====")}})}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.getImageDBKey=function(e,t){return e+"-"+t},t.listAllImages=function(){return Object.values(this.dataMap)},t.mapAllImages=function(){return this.dataMap},t.getImage=function(e,t){var n=this.getImageDBKey(e,t);return this.dataMap[n]},t.cacheImageDetails=function(){var e=v()(T.a.mark(function e(t,n,r,o){var i,a,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.getImageDBKey(t,n),!this.dataMap[i]){e.next=1;break}return e.abrupt("return");case 1:a={url:r,md5:t,suffix:n,scene:o},this.dataMap[i]=a,s=Object.assign({key:i},a),this.imageDBInstance.updateCache({key:"",data:[s],isBatch:!0});case 2:case"end":return e.stop()}},e,this)}));return function(t,n,r,o){return e.apply(this,arguments)}}(),e}();Nc.instance=void 0;var Mc=Nc,Ec=360,Oc=function(e){var t=e.height,n=e.width;return(n=n>0?n:Ec)>=(t=t>0?t:Ec)?n<=Ec?{height:t,width:n}:{width:Ec,height:t/n*Ec}:t<=Ec?{height:t,width:n}:{width:n/t*Ec,height:Ec}};var xc=n(242),Ac=n.n(xc),Ic=function(){function e(){}return e.xssFilter=function(e,t){if(void 0===t&&(t={}),null==e)return"";if(!(/<\s*\/?\s*[a-zA-Z][^>]*>/.test(e)||/<![a-zA-Z]/.test(e)))return e;var n=Object.assign({},{FORBID_ATTR:["src","onclick"],FORBID_TAGS:["form","input"]},t);return Ac.a.sanitize(e,n)},e}(),Pc=function(e,t){var n;void 0===e&&(e={});var r="";if(t===R.MessageTypeImage){var o=function(e){var t=e.url,n=e.size,r=void 0===n?0:n,o=Oc(e);return Nu(r,t,o.width,o.height)}(e),i=Oc(e),a=i.height,s=i.width;r='<img src="'+(Ic.xssFilter(o)||"")+'" style="height:'+a+"px; width:"+s+'px"/>'}else if(t===R.MessageTypeVideo){var c=e,u=c.url,l=c.pic;r='<video style="background-color:#222;border:solid 1px #ccc" controls controlslist="nodownload" height="360" width="350" poster='+(Ic.xssFilter(l)||"")+" src="+(Ic.xssFilter(u)||"")+"></video>"}else Lu(null===(n=e)||void 0===n?void 0:n.cardType)&&(r=function(e){var t,n=e.params,r={redirectImageUrl:null===n||void 0===n?void 0:n.url,downloadUrl:(null===n||void 0===n?void 0:n.downloadUrl)||(null===n||void 0===n||null===(t=n.url)||void 0===t?void 0:t.replace("redirectFileUrl","downloadFile")),fileName:null===n||void 0===n?void 0:n.name,fileSize:null===n||void 0===n?void 0:n.size};return"<div data-exp='card-file' class='im-unify-service-card inquiry-file-item' data-query='"+JSON.stringify(r)+"'>\n    <span style='display:block;min-width:327px' data-clk='card-attachment' data-need-attachment-scan="+(null===n||void 0===n?void 0:n.url)+">\n    <div class='file-type' style='background-image:url("+(null===n||void 0===n?void 0:n.thumbnailUrl)+")'></div>\n      <div class='file-info'>\n        <p class='file-name'>"+Gu(null===n||void 0===n?void 0:n.name)+"</p>\n        <p class='file-size'>"+qu(null===n||void 0===n?void 0:n.size)+"</p>\n      </div>\n    </span>\n  </div>"}(e));return r},Rc={"/:^_^":{t:"Smile",id:"0"},"/:^$^":{t:"Shy",id:"1"},"/:Q":{t:"Tongue",id:"2"},"/:815":{t:"Snicker",id:"3"},"/:809":{t:"Admire",id:"4"},"/:^O^":{t:"Laugh",id:"5"},"/:081":{t:"Dance",id:"6"},"/:087":{t:"Blow Kisses",id:"7"},"/:086":{t:"Comfort",id:"8"},"/:H":{t:"Hug",id:"9"},"/:012":{t:"Come on",id:"10"},"/:806":{t:"Victory",id:"11"},"/:b":{t:"Excellent",id:"12"},"/:^x^":{t:"Kiss",id:"13"},"/:814":{t:"Infatuated",id:"14"},"/:^W^":{t:"Grin",id:"15"},"/:080":{t:"Search",id:"16"},"/:066":{t:"Call",id:"17"},"/:807":{t:"Account",id:"18"},"/:805":{t:"Moneygrubber",id:"19"},"/:071":{t:"Good Idea",id:"20"},"/:072":{t:"Grimace",id:"21"},"/:065":{t:"Angel",id:"22"},"/:804":{t:"Bye",id:"23"},"/:813":{t:"Slobber",id:"24"},"/:818":{t:"Enjoy",id:"25"},"/:015":{t:"Erotomania",id:"26"},"/:084":{t:"Bemused",id:"27"},"/:801":{t:"Think",id:"28"},"/:811":{t:"Confused",id:"29"},"/:?":{t:"Question",id:"30"},"/:077":{t:"No Money",id:"31"},"/:083":{t:"Bored",id:"32"},"/:817":{t:"Doubt",id:"33"},"/:!":{t:"Sh",id:"34"},"/:068":{t:"Childish",id:"35"},"/:079":{t:"Shake",id:"36"},"/:028":{t:"Got a Cold",id:"37"},"/:026":{t:"Embarrassed",id:"38"},"/:007":{t:"Giggle",id:"39"},"/:816":{t:"Not Really",id:"40"},'/:\'""':{t:"No Choice",id:"41"},"/:802":{t:"Perspire",id:"42"},"/:027":{t:"Miserable",id:"43"},"/:(Zz...)":{t:"Sleepy",id:"44"},"/:*&*":{t:"Dizzy",id:"45"},"/:810":{t:"Sad",id:"46"},"/:>_<":{t:"Grievance",id:"47"},"/:018":{t:"Weep",id:"48"},"/:>O<":{t:"Cry",id:"49"},"/:020":{t:"Howl",id:"50"},"/:044":{t:"Speechless",id:"51"},"/:819":{t:"Sorry",id:"52"},"/:085":{t:"Bye",id:"53"},"/:812":{t:"Frown",id:"54"},'/:"':{t:"Tired",id:"55"},"/:>M<":{t:"Ill",id:"56"},"/:>@<":{t:"Puke",id:"57"},"/:076":{t:"Bad Luck",id:"58"},"/:069":{t:"Surprise",id:"59"},"/:O":{t:"Shock",id:"60"},"/:067":{t:"Shut up",id:"61"},"/:043":{t:"Slap",id:"62"},"/:P":{t:"Disdain",id:"63"},"/:808":{t:"Fury",id:"64"},"/:>W<":{t:"Angry",id:"65"},"/:073":{t:"God of Wealth",id:"66"},"/:008":{t:"Be Helpful",id:"67"},"/:803":{t:"Good Luck",id:"68"},"/:074":{t:"Waiter",id:"69"},"/:O=O":{t:"Boss",id:"70"},"/:036":{t:"Evil",id:"71"},"/:039":{t:"Fight Alone",id:"72"},"/:045":{t:"CS",id:"73"},"/:046":{t:"Invisible Man",id:"74"},"/:048":{t:"Bomb",id:"75"},"/:047":{t:"Scream",id:"76"},"/:girl":{t:"Beauty",id:"77"},"/:man":{t:"Handsome Guy",id:"78"},"/:052":{t:"Fortune Cat",id:"79"},"/:(OK)":{t:"OK",id:"80"},"/:8*8":{t:"Applause",id:"81"},"/:)-(":{t:"Shake Hands",id:"82"},"/:lip":{t:"Lip",id:"83"},"/:-F":{t:"Rose",id:"84"},"/:-W":{t:"Languished Rose",id:"85"},"/:Y":{t:"Love",id:"86"},"/:qp":{t:"Heartbreak",id:"87"},"/:$":{t:"Money",id:"88"},"/:%":{t:"Shopping",id:"89"},"/:(&)":{t:"Gift",id:"90"},"/:@":{t:"Mail",id:"91"},"/:~B":{t:"Phone",id:"92"},"/:U*U":{t:"Cheers",id:"93"},"/:clock":{t:"Clock",id:"94"},"/:R":{t:"Wait",id:"95"},"/:C":{t:"Late",id:"96"},"/:plane":{t:"Plane",id:"97"},"/:075":{t:"Alipay",id:"98"},"/:smile.":{t:"smile",id:"99"},"/:shy.":{t:"shy",id:"100"},"/:tongue.":{t:"tongue",id:"101"},"/:covermouth.":{t:"covermouth",id:"102"},"/:love.":{t:"love",id:"103"},"/:laugh.":{t:"laugh",id:"104"},"/:happy.":{t:"happy",id:"105"},"/:Blowkiss.":{t:"Blowkiss",id:"106"},"/:pathead.":{t:"pathead",id:"107"},"/:hug.":{t:"hug",id:"108"},"/:fighting.":{t:"fighting",id:"109"},"/:yeah.":{t:"yeah",id:"110"},"/:kiss.":{t:"kiss",id:"111"},"/:like.":{t:"like",id:"112"},"/:smug.":{t:"smug",id:"113"},"/:observe.":{t:"observe",id:"114"},"/:Broadcast.":{t:"Broadcast",id:"115"},"/:kaching.":{t:"kaching",id:"116"},"/:inspiration.":{t:"inspiration",id:"117"},"/:angel.":{t:"angel",id:"118"},"/:greet.":{t:"greet",id:"119"},"/:nosebleed.":{t:"nosebleed",id:"120"},"/:thinking.":{t:"thinking",id:"121"},"/:question.":{t:"question",id:"122"},"/:ask.":{t:"ask",id:"123"},"/:shush.":{t:"shush",id:"124"},"/:embarrassed.":{t:"embarrassed",id:"125"},"/:pitiful.":{t:"pitiful",id:"126"},"/:tear.":{t:"tear",id:"127"},"/:helpless.":{t:"helpless",id:"128"},"/:sweatsmile.":{t:"sweatsmile",id:"129"},"/:sleep.":{t:"sleep",id:"130"},"/:dizzy.":{t:"dizzy",id:"131"},"/:surrender.":{t:"surrender",id:"132"},"/:sorry.":{t:"sorry",id:"133"},"/:speechless.":{t:"speechless",id:"134"},"/:shocked.":{t:"shocked",id:"135"},"/:shutup.":{t:"shutup",id:"136"},"/:Boss.":{t:"Boss",id:"137"},"/:Beg.":{t:"Beg",id:"138"},"/:received.":{t:"received",id:"139"},"/:Busy.":{t:"Busy",id:"140"},"/:cute.":{t:"cute",id:"141"},"/:angry.":{t:"angry",id:"142"},"/:laughcry.":{t:"laughcry",id:"143"},"/:facecry.":{t:"facecry",id:"144"},"/:raisehand.":{t:"raisehand",id:"145"},"/:expect.":{t:"expect",id:"146"},"/:ok.":{t:"ok",id:"147"},"/:clap.":{t:"clap",id:"148"},"/:handshake.":{t:"handshake",id:"149"},"/:approve.":{t:"approve",id:"150"},"/:pray.":{t:"pray",id:"151"},"/:cheer.":{t:"cheer",id:"152"},"/:flowers.":{t:"flowers",id:"153"},"/:rose.":{t:"rose",id:"154"},"/:wither.":{t:"wither",id:"155"},"/:heart.":{t:"heart",id:"156"},"/:Brokenheart.":{t:"Brokenheart",id:"157"},"/:gift.":{t:"gift",id:"158"},"/:email.":{t:"email",id:"159"},"/:time.":{t:"time",id:"160"},"/:airplane.":{t:"airplane",id:"161"},"/:package.":{t:"package",id:"162"},"/:fire.":{t:"fire",id:"163"},"/:money.":{t:"money",id:"164"},"/:ship.":{t:"ship",id:"165"}},Dc=function(e){var t=Ic.xssFilter(e.originalData.text),n=t.match(/\/:[^\/]+/g)||[];if(n.length)return n.forEach(function(){for(var e in Rc)t=t.replace(e,'<img width="32px" height="32px" src="//atmgateway-client.alibaba.com/smily-big/smile_'+Rc[e].id+'.png" />')}),t;var r,o=zt(null===e||void 0===e||null===(r=e.ext)||void 0===r?void 0:r.security_url);return Object.keys[o][0]},Uc=function(e){if("string"!==typeof e)return!1;var t=null===e||void 0===e?void 0:e.replace(/\n/g,"<p></p>");return!!t&&!!(t.match(/\/:[^/]+/g)||[]).length},jc=function(e){var t,n=zt(null===e||void 0===e||null===(t=e.ext)||void 0===t?void 0:t.security_url);if(n)return!(!Object.keys[n]||!Object.keys[n][0]);var r,o=null===(r=e.originalData)||void 0===r?void 0:r.text;return"string"===typeof o&&Uc(o)},Lc=function(e){var t=Ic.xssFilter(e),n=t.match(/\/:[^/]+/g)||[];return n.length?(n.forEach(function(){for(var e in Rc)t=t.replace(e,'<img width="32px" height="32px" src="//atmgateway-client.alibaba.com/smily-big/smile_'+Rc[e].id+'.png" />')}),t):e},Fc=function(e,t){if(e.extInfo={},null!==t&&void 0!==t&&t.quoteMessage){var n=zt(t.quoteMessage);if(null!==n&&void 0!==n&&n.messageId){var r=n.messageId,o=n.content,i=n.senderName,a=n.senderAliId,s=n.receiverAliId,c=n.originalData,u=n.msgType;e.extInfo.referMessage={msgId:r,contentAbstract:o,senderName:i,senderAliId:a,receiverAliId:s,originalData:c,subType:u}}}var l=zt(null===t||void 0===t?void 0:t.basicMessageInfo)||{},d=l.bizType,f=l.bizId,p=l.cardUrls,m=l.extParams,g=l.triggerBizId,h=l.icbuCard,v=l.systemMessage,y=zt(null===t||void 0===t?void 0:t.messageDisplayInfo)||{},_=y.contentMcmsParams,b=y.actions,w=y.contentMcmsKey,C=y.title,T=y.msgLevel,S=y.iconUrl,k=y.canClosed,N=y.defaultContent,M=y.showDelay,E=zt(null===t||void 0===t?void 0:t.messageEventInfo)||{},O=E.relatedType,x=E.relatedName;d&&(e.extInfo.icbuData={icbuCard:h,systemMessage:v,chatEvent:{bizType:d,bizId:f,extParams:m},contentMcmsKey:w,cardUrls:p,actions:b,title:C,msgLevel:T,iconUrl:S,canClosed:k,defaultContent:N,showDelay:M,triggerBizId:g},_&&(e.extInfo.icbuData.contentMcmsParams=Object.values(_)),b&&(e.extInfo.icbuData.action=b[0])),O&&Object.assign(e.extInfo,{relatedType:O,relatedName:x})},Bc=function(e,t){var n,r,o={},i=zt(e.content);o.conversationCode=e.conversationId,o.originExt=e.extension,o.originalData="object"===typeof i?i:{text:hu(i)},o.msgType=e.msgType,o.contact=t||Object.assign({},lu.context.contact),o.owner=Object.assign({},lu.context.owner),o.sendTime=e.sendTime,o.contactRead=e.contactRead,o.sender={targetId:""+e.senderAliId,targetType:""},Fc(o,e.extension);var a=function(e){switch(e){case xu.CLOUD_PICTURE_CARD.subtype:return R.MessageTypeImage;case xu.CLOUD_VIDEO_CARD.subtype:return R.MessageTypeVideo;case xu.CLOUD_FILE_CARD.subtype:return R.MessageTypeFile;default:return R.MessageTypeText}}(e.messageType);if(o.type=null!==(n=o.extInfo)&&void 0!==n&&null!==(r=n.icbuData)&&void 0!==r&&r.systemMessage?gs.SYSTEM:gs.NORMAL,o.subType=e.messageType,a===R.MessageTypeAudio)o.content=null===i||void 0===i?void 0:i.url,o.extInfo={icbuData:i};else if(ju(a))o.content=Pc(i,a);else if(null!==i&&void 0!==i&&i.cardType){if(Ru(i.cardType))o.subType=i.cardType;else try{o.subType=Du(i.cardType).subtype}catch(e){Fs.error("getMsgTypeEnumByCardTypeError",i),o.subType=i.cardType}Fu(i)?o.content=Pc(i,a):o.content=function(e){var t=e.cardType,n=e.params,r="https://"+Ss+"/card?type="+t+"&",o=[];return n&&(Object.keys(n).forEach(function(e){o.push(e+"="+encodeURIComponent(n[e]))}),r+=o.join("&")),r}(i)}else{var s,c,u,l=null===o||void 0===o||null===(s=o.extInfo)||void 0===s||null===(c=s.icbuData)||void 0===c||null===(u=c.chatEvent)||void 0===u?void 0:u.bizType;l&&(o.subType=l),null!==i&&void 0!==i&&i.url?o.content=Pc(i,a):(o.content=Ic.xssFilter(e.content),e.msgType&&Iu(e.msgType)&&(o.content=Vu(e)),e.messageType&&Pu(e.messageType)&&(o.content=zu(e)),Uc(o.content)&&(o.content=Lc(o.content)))}return o.viewType=e.revertStatus===j.MessageStatusRevoke?3:0,e.revertStatus===j.MessageStatusRevoke&&(o.content=""),o.status=0,o.messageType=e.messageSendType,e.messageId&&(o.uuid=mu(e.messageId),o.messageId=Number(o.uuid)),o};new Ro("sdk-conversationConvert").color("#228B22");var qc=function(e,t){if(t){var n=Bc(t),r={};r.contactRead=!!n.contactRead,r.content=n.content||"",r.messageType=n.messageType,r.viewType=n.viewType,r.gmtChat=n.sendTime,r.gmtChatLong=n.sendTime,r.messageId=n.messageId,e.latestMessage=r,e.lastContactTime=n.sendTime,e.lastContactTimeLong=n.sendTime,e.imMessageType=n.subType,e.contactRead=n.contactRead,r.message=n}},Gc=function(e,t){var n=zt(e);switch(t){case"title":return n.def;case"icon":return n.icon;default:return""}};function Vc(e,t){if("owner"===t){if(lu.context.owner)return lu.context.owner;var n=Rs().loginId;return{aliId:bu(),aliIdEncrypt:e.encryptSelfAliId,accountId:e.accountId,accountIdEncrypt:e.accountIdEncrypt,loginId:n}}var r=e.chatType,o={aliId:hu(e.contactAliId||e.cid),aliIdEncrypt:e.encryptContactAliId,accountId:hu(e.contactAccountId||e.cid),accountIdEncrypt:e.encryptContactAccountId,chatToken:e.chatToken};if(2===r){var i=e.groupConversationDetail,a=i.icon,s=void 0===a?"":a,c=i.memberCount,u=i.memberLimit,l=i.ownerUid,d=i.title,f=Gc(void 0===d?"":d,"title"),p=Gc(s,"icon");Object.assign(o,{name:f,fullPortrait:p,group:{ownerUid:hu(l),title:f,icon:p,memberCount:c,memberLimit:u}})}return o}var Wc=function(e){var t={};t.conversationType=e.chatType,t.cid=e.cid,t.mute=!!e.mute,t.stayTop=!!e.stayTop,t.unreadCount=e.unreadCount||0,t.visible=e.visible,t.joinTime=e.joinTime,t.createAt=e.createAt,t.modifyTime=e.modifyTime;try{t.contact=Vc(e,"contact"),Object.keys(t.contact).forEach(function(e){t[e]=t.contact[e]}),t.owner=Vc(e,"owner"),qc(t,e.latestMessage)}catch(n){Fs.error("http convertConversationError",{message:n.message,uid:fs.getAuthService().getLoginUid(),conversation:JSON.stringify(e)}),t.contact={},t.owner={}}return t},Hc=new Ro("sdk-contactService");Hc.color("#228B22");var Yc=["fullPortrait","name","aliId","loginId","loginIdEncrypt","block","companyName","complianceCountryCode","accountId","accountIdEncrypt","currentCountry","currentTimeZone","userNewLevel","userNewLevelIcon"],zc=function(){function e(){var e,t=this;this.dataMap={},this.contactDBInstance=void 0,this.contactDBInstance=new Sc({database:"account",version:1,table:"account",keyPath:"key",mode:"readwrite",success:(e=v()(T.a.mark(function e(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,t.contactDBInstance.getCacheBatch();case 1:e.sent.forEach(function(e){t.dataMap[e.aliId]=e}),Hc.log("indexDB connent success");case 2:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),error:function(){Hc.log("==== indexedDB account connect failed! ====")}})}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.getContactDBKey=function(e){return Rs().aliId+"-"+e},t.listAllContacts=function(){return Hc.log("listAllContacts:",this.dataMap),Object.values(this.dataMap)},t.mapAllContacts=function(){return Hc.log("mapAllContacts:",this.dataMap),this.dataMap},t.getContact=function(e){return this.dataMap[e]},t.listContactDetails=function(){var e=v()(T.a.mark(function e(t,n){var r,o,i,a,s,c,u,l=this;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],o=[],i=[],a=[],t.forEach(function(e){var t=e.aliId,s=void 0===t?"":t,c=e.encryptAliId,u=e.encryptAccountId,d=e.chatToken,f=s,p=window.__conversationListMapFullData__&&window.__conversationListMapFullData__[f];if(null!==n&&void 0!==n&&n.includes("@icbu"))!s||!l.dataMap[f]||null!==p&&void 0!==p&&p.name?c?(o.push(c),a.push(d||"")):u&&(i.push(u),a.push(d||"")):r.push(l.dataMap[f]);else{if(null!==p&&void 0!==p&&p.name){var m={aliId:s};return Yc.forEach(function(e){var t;void 0!==p[e]&&Object.assign(m,((t={})[e]=p[e],t))}),void r.push(m)}s&&l.dataMap[f]?r.push(l.dataMap[f]):c?(o.push(c),a.push(d||"")):u&&(i.push(u),a.push(d||""))}}),!(o.length>0||i.length>0)){e.next=2;break}return s={contactEncryptAliIdList:o,contactEncryptAccountIdList:i},n?s.groupCid=n.replace("@icbu",""):a.length&&(s.chatTokens=a.join(",")),e.next=1,Es("/message/listRecentConversationContactDetail.htm",s);case 1:c=e.sent,r=r.concat(c.contactDetailList),u=c.contactDetailList.map(function(e){var t=l.getContactDBKey(e.aliId);return l.dataMap[e.aliId]=e,Object.assign({key:t},e)}),Hc.log("更新联系人DB,",u),this.contactDBInstance.updateCache({key:"",data:u,isBatch:!0});case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),e}();zc.instance=void 0;var Jc=zc;new Ro("sdk-conversationServiceHttpImpl").color("#228B22");var $c=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).contactService=Jc.getInstance(),t}w()(t,e),t.getInstance=function(){return this.instance||(this.instance=new t),this.instance};var n=t.prototype;return n.getConversationList=function(e,t){return void 0===e&&(e=200),void 0===t&&(t=0),Es("/message/listRecentConversation.htm",{count:e,pointTimeStamp:t||(new Date).setFullYear((new Date).getFullYear()-2)}).then(function(e){var t;return(null!==(t=null===e||void 0===e?void 0:e.conversationList)&&void 0!==t?t:[]).map(function(e){return Wc(e)})})},n.getConversationListByPagination=function(){var e=v()(T.a.mark(function e(t){var n,r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,Es("/message/pageListRecentConversation.htm",{count:t.count,limitTimeStamp:t.cursor||(new Date).getTime()});case 1:return n=e.sent,r=((null===n||void 0===n?void 0:n.dataList)||[]).filter(function(e){var t,n=null===e||void 0===e||null===(t=e.latestMessage)||void 0===t?void 0:t.sendTime,r=n&&n>0,o=Ks(e.cid);return r&&o}).map(function(e){return Wc(e)}),e.abrupt("return",{hasMore:n.hasMore,list:r,nextCursor:n.nextTimeStamp});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.getConversationContactDetailList=function(e){var t=[],n=[],r=[];return e.forEach(function(e){e.encryptAliId?(t.push(e.encryptAliId),r.push(e.chatToken||"")):e.encryptAccountId&&(n.push(e.encryptAccountId),r.push(e.chatToken||""))}),Es("/message/listRecentConversationContactDetail.htm",{contactEncryptAliIdList:t,contactEncryptAccountIdList:n,chatTokens:r.join(",")}).then(function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.contactDetailList)&&void 0!==t?t:[]})},n.deleteConversations=function(e){var t=e.list.map(function(e){return ku(e.cid)});if(!t.length)throw new Error("deleteConversations - cids is empty");return Es("/message/changeConversationVisibleStatus.htm",{conversationId:t[0],visibleStatus:!1}).then(function(e){return{failedCount:0,successCount:1}})},n.conversationMute=function(e,t){var n=e.list.map(function(e){return ku(e.cid)});if(!n.length)throw new Error("conversationMute - cids is empty");return Es("/message/changeConversationMuteStatus.htm",{conversationId:n[0],muteStatus:t}).then(function(e){return{failedCount:0,successCount:1}})},n.conversationSetTop=function(e,t){var n=e.list.map(function(e){return ku(e.cid)});if(!n.length)throw new Error("conversationSetTop - cids is empty");return Es("/message/changeConversationTopStatus.htm",{conversationId:n[0],topStatus:t}).then(function(e){return{failedCount:0,successCount:1}})},n.conversationBlock=function(e,t){return Es("/message/changeContactBlackStatus.htm",{contactAliId:e,blackStatus:t}).then(function(e){return{failedCount:0,successCount:1}})},n.listGroupMemberDetails=function(){var e=v()(T.a.mark(function e(t){var n,r,o,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,Es("/message/listGroupMemberDetail.htm",{conversationId:ku(t)}).then(function(e){return(e.groupMemberList||[]).sort(function(e,t){return(e.joinTimeStamp||0)-(t.joinTimeStamp||0)})});case 1:return n=e.sent,r=n.map(function(e){return{encryptAliId:e.encryptAliId,aliId:e.aliId}}),e.next=2,this.contactService.listContactDetails(r,t);case 2:return o=e.sent,i={},o.forEach(function(e){i[e.aliId]=e}),n.forEach(function(e){var t=i[e.aliId];Object.assign(e,t,{displayName:t.name||e.nickName,uid:t.aliId,role:e.roleCode}),delete e.roleCode}),e.abrupt("return",n);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.getConversation=function(e){throw new Error("Method not implemented.")},n.createConversation=function(e){throw new Error("Method not implemented.")},n.dismissGroup=function(e){throw new Error("Method not implemented.")},n.listGroupMembers=function(e){throw new Error("Method not implemented.")},n.updateGroupTitle=function(e,t){throw new Error("Method not implemented.")},n.updateGroupIcon=function(e,t){throw new Error("Method not implemented.")},n.joinGroup=function(e,t){throw new Error("Method not implemented.")},n.leaveGroup=function(e){throw new Error("Method not implemented.")},n.kickGroup=function(e,t){throw new Error("Method not implemented.")},t}(cs),Kc=$c,Xc=pc.getInstance(),Qc=new Ro("sdk-conversationService");Qc.color("#228B22");var Zc=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).conversationServiceHttp=Kc.getInstance(),t}w()(t,e),t.getInstance=function(){return this.instance||(this.instance=new t),this.instance};var n=t.prototype;return n.getConversationList=function(e,t){var n=this;return void 0===e&&(e=200),void 0===t&&(t=0),new Promise(function(r,o){n.listConversation({cursor:{modifyTime:t||(new Date).setFullYear((new Date).getFullYear()-2)},count:e,dataCallback:function(e){Qc.log("pass conversation result",e);var t=e.filter(function(e){var t,n,r=null===(t=e.conversationContent)||void 0===t||null===(n=t.lastMessageSummary)||void 0===n?void 0:n.sendTime,o=r&&r>0,i=Ks(e.conversationCode);return o&&i}).map(function(e){return Hs(e)});Qc.log("pass conversation filter result",t),r(t)},errorCallBack:function(e){var t=e.err;Fs.error("getConversationListFail",hc.getInstance().getLoginUid()),o(t)}})})},n.getUnreadConversationList=function(e,t){var n=this;return void 0===e&&(e=200),void 0===t&&(t=0),new Promise(function(r,o){n.listUnreadConversation({cursor:{modifyTime:t||(new Date).setFullYear((new Date).getFullYear()-2)},count:e,dataCallback:function(t){Qc.log("==== pass unread conversation result",e,t);var n=t.filter(function(e){return Ks(e.conversationCode)}).map(function(e){return Hs(e)});Qc.log("==== pass unread conversation filter result",n),r(n)},errorCallBack:function(e){var t=e.err;o(t)}})})},n.getConversationListByPagination=function(e){var t=this;return new Promise(function(n,r){t.listConversationPagination({cursor:{modifyTime:e.cursor},count:e.count,dataCallback:function(e){Qc.log("pass conversation pagination result",e);var t=(e.list||[]).filter(function(e){var t,n,r=null===(t=e.conversationContent)||void 0===t||null===(n=t.lastMessageSummary)||void 0===n?void 0:n.sendTime,o=r&&r>0,i=Ks(e.conversationCode);return o&&i}).map(function(e){return Hs(e)});Qc.log("pass conversation filter result",t),n({list:t,hasMore:!!e.hasMore,nextCursor:e.nextCursor})},errorCallBack:function(e){var t=e.err;Fs.error("getConversationListPaginationFail",hc.getInstance().getLoginUid()),r(t)}})})},n.createConversation=function(e){var t=this;return Qc.log("创建会话:",e),2===e.conversationType?this.groupCreate(e):new Promise(function(n,r){var o={};o.identifier={bizType:"11011",entityType:"",target:{targetId:e.targetId,targetType:""},createContext:{createConversationCtx:JSON.stringify({accessKey:"f97a6f01c057",accessSecret:"bd2f2235c45d",othersNick:e.targetId}),selfBizDomain:"enaliint",extensions:e.extensions}},o.dataCallback=function(e){n(Hs(e))},o.errorCallBack=function(t){Fs.error("createConversationError",{aliId:e.targetId}),r(t)},t.createSingleConversation(o)})},n.groupCreate=function(e){var t=this,n=e.initMembers,r=e.defaultTitle,o=e.icon;return new Promise(function(i,a){var s={initMembers:n,defaultTitle:r,icon:o,identifier:{bizType:"11012",entityType:"",createContext:{createConversationCtx:JSON.stringify({accessKey:"f97a6f01c057",accessSecret:"bd2f2235c45d",othersNick:e.targetId}),selfBizDomain:"enaliint"}},dataCallback:function(e){Qc.log("createGroupConversation saas result",e),i(Hs(e))},errorCallBack:function(e){var t=null===e||void 0===e?void 0:e.err;try{var n,r=JSON.parse((null===t||void 0===t?void 0:t.substring(null===t||void 0===t||null===(n=t.indexOf)||void 0===n?void 0:n.call(t,"{")))||"{}");Qc.log("createGroupConversationError %o",r),a(r)}catch(e){Qc.log("createGroupConversationError %o errorRes undefined"),a({})}}};t.createGroupConversation(s)})},n.getConversation=function(e){return new Promise(function(t){var n={};kt?Xc.getConversation(e).then(function(e){Qc.log("主动查询到会话 %o",e),t(Hs(e))}):v()(T.a.mark(function r(){return T.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=1,_c.getConversation(e);case 1:n=r.sent,Qc.log("===主动查询到会话 %o",n),t(n);case 2:case"end":return r.stop()}},r)}))()})},n.deleteConversations=function(e){var t=this,n=e.list.map(function(e){return e.cid});if(!n.length)throw Fs.error("deleteConversationsError",hc.getInstance().getLoginUid()),new Error("deleteConversations - cids is empty");return new Promise(function(e,r){t.deleteConversationByCCodes({ccodes:n,dataCallback:function(t){Qc.log("pass deleteConversations result",t);var r={},o=Object.values(t).filter(function(e){return e});r.failedCount=n.length-o.length,r.successCount=o.length,e(r)},errorCallBack:function(e){Fs.error("deleteConversationsFail",{uid:hc.getInstance().getLoginUid(),cids:n}),r(e)}})})},n.conversationMute=function(e,t){var n=e.list.map(function(e){return e.cid});if(!n.length)throw new Error("conversationMute - cids is empty");return new Promise(function(e,r){_c.conversationMute(n[0],t).then(function(t){Qc.log("pass conversationMute result",t),e({failedCount:0,successCount:1})}).catch(function(){Fs.error("conversationMuteFail",{uid:hc.getInstance().getLoginUid(),cids:n}),r({failedCount:1,successCount:0})})})},n.conversationSetTop=function(e,t){var n=e.list.map(function(e){return e.cid});if(!n.length)throw new Error("conversationSetTop - cids is empty");return new Promise(function(e,r){_c.conversationSetTop(n[0],t).then(function(t){Qc.log("pass conversationSetTop result",t),e({failedCount:0,successCount:1})}).catch(function(){Fs.error("conversationSetTopFail",{uid:hc.getInstance().getLoginUid(),cids:n}),r({failedCount:1,successCount:0})})})},n.dismissGroup=function(e){var t=this;return new Promise(function(n,r){t.dismissGroupConversation({ccode:e,dataCallback:function(e){Qc.log("pass dismissGroupConversation result",e),n({failedCount:0,successCount:1})},errorCallBack:function(t){Fs.error("dismissGroupConversationFail",{uid:hc.getInstance().getLoginUid(),conversationId:e}),r(t)}})})},n.listGroupMembers=function(e){var t=this;return new Promise(function(n,r){t.listAllMembersByGroupCCode({ccode:e,dataCallback:function(e){Qc.log("pass listAllMembersByGroupCCode result",e),n(e)},errorCallBack:function(t){Fs.error("listAllMembersByGroupCCodeFail",{uid:hc.getInstance().getLoginUid(),conversationId:e}),r(t)}})})},n.listGroupMemberDetails=function(e){return this.conversationServiceHttp.listGroupMemberDetails(e)},n.updateGroupTitle=function(e,t){var n=this;return new Promise(function(r,o){n.updateTitleByGroupCCode({ccode:e,info:t,dataCallback:function(e){Qc.log("pass updateTitleByGroupCCode result",e),r({failedCount:0,successCount:1})},errorCallBack:function(t){Fs.error("updateTitleByGroupCCodeFail",{uid:hc.getInstance().getLoginUid(),conversationId:e}),o(t)}})})},n.updateGroupIcon=function(e,t){var n=this;return new Promise(function(r,o){n.updateIconByGroupCCode({ccode:e,info:t,dataCallback:function(e){Qc.log("pass updateIconByGroupCCode result",e),r({failedCount:0,successCount:1})},errorCallBack:function(t){Fs.error("updateIconByGroupCCodeFail",{uid:hc.getInstance().getLoginUid(),conversationId:e}),o(t)}})})},n.joinGroup=function(e,t){var n=this;return new Promise(function(r,o){n.joinGroupConversation({ccode:e,members:t,dataCallback:function(e){Qc.log("pass joinGroupConversation result",e),r({failedCount:0,successCount:1})},errorCallBack:function(e){var t=null===e||void 0===e?void 0:e.err;try{var n,r,i=JSON.parse((null===t||void 0===t||null===(n=t.substring)||void 0===n?void 0:n.call(t,null===t||void 0===t||null===(r=t.indexOf)||void 0===r?void 0:r.call(t,"{")))||"{}");Qc.log("createGroupConversationError %o",i),o(i)}catch(e){o({})}}})})},n.leaveGroup=function(e){var t=this;return new Promise(function(n,r){t.leaveGroupConversation({ccode:e,dataCallback:function(e){Qc.log("pass leaveGroupConversation result",e),n({failedCount:0,successCount:1})},errorCallBack:function(t){Fs.error("leaveGroupConversationFail",{uid:hc.getInstance().getLoginUid(),conversationId:e}),r(t)}})})},n.kickGroup=function(e,t){var n=this;return new Promise(function(r,o){n.kickGroupConversation({ccode:e,members:t,dataCallback:function(e){Qc.log("pass kickGroupConversation result",e),r({failedCount:0,successCount:1})},errorCallBack:function(t){Fs.error("kickGroupConversationFail",{uid:hc.getInstance().getLoginUid(),conversationId:e}),o(t)}})})},n.conversationBlock=function(e,t){return new Promise(function(e,t){})},n.getConversationContactDetailList=function(e){return new Promise(function(e,t){})},n.updateInputStatus=function(e){var t=this;return new Promise(function(n,r){var o=_()({},null!==e&&void 0!==e?e:{});o.dataCallback=function(e){n(e)},o.errorCallBack=function(e){var t,n=null===e||void 0===e?void 0:e.err,o=null===n||void 0===n?void 0:n.substring(null===n||void 0===n||null===(t=n.indexOf)||void 0===t?void 0:t.call(n,"{"));if(!o)return console.log("updateInputStatus %o errorRes undefined"),r({});try{var i=JSON.parse(o||"{}");Qc.log("updateInputStatus %o",i),r(i)}catch(e){Qc.log("updateInputStatus %o errorRes undefined"),r({})}},t.updateInputStatusByCCode(o)})},t}(cs),eu=Zc;function tu(){var e=window.IcbuIM.IMSDKHelper.isSaasChannel;return!(location.href.indexOf("testHttp=1")>-1)&&e()}new Ro("sdk-conversationServiceHttpImpl").color("#228B22");var nu=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).conversationService=eu.getInstance(),t.conversationServiceHttp=Kc.getInstance(),t}w()(t,e),t.getInstance=function(){return this.instance||(this.instance=new t),this.instance};var n=t.prototype;return n.getConversationList=function(){var e=v()(T.a.mark(function e(t,n){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=200),void 0===n&&(n=0),!tu()){e.next=1;break}return e.abrupt("return",this.conversationService.getConversationList(t,n));case 1:return e.abrupt("return",this.conversationServiceHttp.getConversationList(t,n));case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.getUnreadConversationList=function(){var e=v()(T.a.mark(function e(t,n){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=200),void 0===n&&(n=0),!tu()){e.next=1;break}return e.abrupt("return",this.conversationService.getUnreadConversationList(t,n));case 1:return e.abrupt("return",[]);case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.getConversationListByPagination=function(e){return tu()?this.conversationService.getConversationListByPagination(e):this.conversationServiceHttp.getConversationListByPagination(e)},n.getConversationContactDetailList=function(){var e=v()(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.conversationServiceHttp.getConversationContactDetailList(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.createConversation=function(e){return this.conversationService.createConversation(e)},n.getConversation=function(e){return this.conversationService.getConversation(e)},n.deleteConversations=function(){var e=v()(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!tu()){e.next=1;break}return e.abrupt("return",this.conversationService.deleteConversations(t));case 1:return e.abrupt("return",this.conversationServiceHttp.deleteConversations(t));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.conversationMute=function(){var e=v()(T.a.mark(function e(t,n){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!tu()){e.next=1;break}return e.abrupt("return",this.conversationService.conversationMute(t,n));case 1:return e.abrupt("return",this.conversationServiceHttp.conversationMute(t,n));case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.conversationSetTop=function(){var e=v()(T.a.mark(function e(t,n){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!tu()){e.next=1;break}return e.abrupt("return",this.conversationService.conversationSetTop(t,n));case 1:return e.abrupt("return",this.conversationServiceHttp.conversationSetTop(t,n));case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.conversationBlock=function(){var e=v()(T.a.mark(function e(t,n){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.conversationServiceHttp.conversationBlock(t,n));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.dismissGroup=function(e){return this.conversationService.dismissGroup(e)},n.listGroupMembers=function(e){return this.conversationService.listGroupMembers(e)},n.listGroupMemberDetails=function(e){return this.conversationServiceHttp.listGroupMemberDetails(e)},n.updateGroupTitle=function(e,t){return this.conversationService.updateGroupTitle(e,t)},n.updateGroupIcon=function(e,t){return this.conversationService.updateGroupIcon(e,t)},n.joinGroup=function(e,t){return this.conversationService.joinGroup(e,t)},n.leaveGroup=function(e){return this.conversationService.leaveGroup(e)},n.kickGroup=function(e,t){return this.conversationService.kickGroup(e,t)},n.updateInputStatus=function(e){return this.conversationService.updateInputStatus(e)},t}(cs),ru=nu,ou=new Ro("sdk-messageService");ou.color("#228B22");var iu=function(e){function t(){return e.apply(this,arguments)||this}w()(t,e),t.getInstance=function(){return this.instance||(this.instance=new t),this.instance};var n=t.prototype;return n.sendUIMessages=function(){var e=v()(T.a.mark(function e(t){var n,r,o,i,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ou.log("sendUIMessages params:",t),n=nl(t),r={messageType:t.msgType,content:1===t.msgType?n.originalData.text:n.originalData,chatType:n.conversationType,extParam:{}},2===n.conversationType?r.conversationId=null===(o=t.cid)||void 0===o?void 0:o.replace("@icbu",""):r.chatToken=t.chatToken,!t.aliId){e.next=1;break}i={contactAliId:t.aliId,selfAliId:bu()},e.next=3;break;case 1:if(!n.conversationCode){e.next=2;break}i=wu(n.conversationCode),Object.assign(r,{conversationId:ku(n.conversationCode)}),e.next=3;break;case 2:throw new Error("sendUIMessagesErrorParams");case 3:return Object.assign(r,{receiverAliId:2===n.conversationType?[]:[Number(i.contactAliId),Number(i.selfAliId)]}),e.next=4,Es("/message/sendMessage.htm",r);case 4:return a=e.sent,e.abrupt("return",{opId:mu(a.messageID),canFakeMessage:!0});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.fetchMessages=function(){var e=v()(T.a.mark(function e(t){var n,r,o,i,a,s,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ou.log("fetchMessages params",t),n=t.timeSlide,r=t.aliId,o={pointTimeStamp:n.timeStamp,forward:n.forward,count:n.pageSize},!(i=ku(t.conversationCode||lu.context.cid))){e.next=1;break}Object.assign(o,{conversationId:i}),e.next=3;break;case 1:if(!r){e.next=2;break}Object.assign(o,{contactAliId:r}),e.next=3;break;case 2:throw new Error("fetchMessagesErrorParams");case 3:return e.next=4,Es("/message/listRecentMessage.htm",o);case 4:return a=e.sent,s=a.messageList,c=[],null!==s&&void 0!==s&&s.length&&(c=s.map(function(e){return Bc(e)})).length>0&&c.forEach(function(e){var t,n;Ta.getInstance().updateLastMsgTime(e.sendTime),(null===e||void 0===e?void 0:e.messageType)!==ms.SEND&&To({ext:"atm_new_messages_received",bizData:{cid:i,messageId:null===e||void 0===e?void 0:e.messageId,senderAliId:null===e||void 0===e||null===(t=e.sender)||void 0===t?void 0:t.targetId,receiverAliId:null===e||void 0===e||null===(n=e.receiver)||void 0===n?void 0:n.targetId,selfAliId:bu(),currentTime:Date.now(),serverTimeStamp:pi.getInstance().getServerTimeClock(),msgTime:null===e||void 0===e?void 0:e.sendTime,syncMode:"icbu",loginStatus:hc.getInstance().isLogin(),imFirstLoginStartTime:pi.getInstance().getLatestLoginStartTimeAfterMsgSent(bu(),null===e||void 0===e?void 0:e.sendTime),convOpenTime:pi.getInstance().getLatestConvOpenStartTimeAfterMsgSent(bu(),i,null===e||void 0===e?void 0:e.sendTime)}})}),e.abrupt("return",{list:c,hasMore:a.hasMore});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.recallMessage=function(){var e=v()(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Es("/message/revert.htm",{messageId:gu(t.uuid)}).then(function(e){return e}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.updateMessageToRead=function(e,t){throw new Error("Method not implemented.")},n.getUrlSnapshot=function(e){throw new Error("Method not implemented.")},n.startMeeting=function(e){throw new Error("Method not implemented.")},n.contextMenu=function(e){throw new Error("Method not implemented.")},n.mtopRequest=function(e){throw new Error("Method not implemented.")},n.doCardAction=function(e){throw new Error("Method not implemented.")},n.openUrl=function(e){throw new Error("Method not implemented.")},n.translate=function(e){throw new Error("Method not implemented.")},n.translateSetting=function(){throw new Error("Method not implemented.")},n.playAudio=function(e){throw new Error("Method not implemented.")},n.httpRequest=function(e){throw new Error("Method not implemented.")},n.getCurrentProfile=function(){throw new Error("Method not implemented.")},n.copyText=function(e,t){throw new Error("Method not implemented.")},n.addQuickTemplate=function(e){throw new Error("Method not implemented.")},n.selectAllText=function(e){throw new Error("Method not implemented.")},n.quoteReply=function(e){throw new Error("Method not implemented.")},n.showMedia=function(e){throw new Error("Method not implemented.")},n.getCurrentLoginID=function(){throw new Error("Method not implemented.")},n.saveToCloud=function(e){throw new Error("Method not implemented.")},n.getCurrentAliId=function(){throw new Error("Method not implemented.")},n.notifyUnreadConversation=function(e){throw new Error("Method not implemented.")},n.notifyReceiveMsg=function(e){throw new Error("Method not implemented.")},n.closeNotifyWindow=function(e){throw new Error("Method not implemented.")},n.startScreenShot=function(e){throw new Error("Method not implemented.")},n.openQuickPhase=function(){throw new Error("Method not implemented.")},n.searchQuickPhase=function(e){throw new Error("Method not implemented.")},n.openWorkbench=function(){throw new Error("Method not implemented.")},n.openLive=function(e){throw new Error("Method not implemented.")},n.openAudioVideo=function(e){throw new Error("Method not implemented.")},n.getThemeColor=function(){throw new Error("Method not implemented.")},n.checkCanStartMeeting=function(){throw new Error("Method not implemented.")},n.notifyStartMeeting=function(e){throw new Error("Method not implemented.")},n.notifyWebFirstScreen=function(e){throw new Error("Method not implemented.")},n.notifyChatEvent=function(e){throw new Error("Method not implemented.")},t}(us),au=iu,su=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).messageService=cl.getInstance(),t.messageServiceHttp=au.getInstance(),t}w()(t,e),t.getInstance=function(){return this.instance||(this.instance=new t),this.instance};var n=t.prototype;return n.sendUIMessages=function(e,t){void 0===t&&(t=!1);var n=!(!e.cid&&!lu.context.cid);return tu()&&n?this.messageService.sendUIMessages(e,t):this.messageServiceHttp.sendUIMessages(e,t)},n.sendUILocalMessages=function(e){return this.sendUIMessages(e,!0)},n.fetchMessages=function(e){var t=!(!e.conversationCode&&!lu.context.cid);return tu()&&t?this.messageService.fetchMessages(e).then(function(e){var t=e.list,n=e.hasMore;return{list:t.reverse(),hasMore:n}}):this.messageServiceHttp.fetchMessages(e)},n.updateMessageToRead=function(e,t){return this.messageService.updateMessageToRead(e,t)},n.recallMessage=function(e){return tu()?this.messageService.recallMessage(e):this.messageServiceHttp.recallMessage(e)},n.getUrlSnapshot=function(e){return this.messageService.getUrlSnapshot(e)},n.startMeeting=function(e){return this.messageService.startMeeting(e)},n.contextMenu=function(e){return this.messageService.contextMenu(e)},n.mtopRequest=function(e){return this.messageService.mtopRequest(e)},n.doCardAction=function(e){return this.messageService.doCardAction(e)},n.openUrl=function(e){return this.messageService.openUrl(e)},n.translate=function(e){return this.messageService.translate(e)},n.translateSetting=function(){return this.messageService.translateSetting()},n.playAudio=function(e){return this.messageService.playAudio(e)},n.httpRequest=function(e){return this.messageService.httpRequest(e)},n.getCurrentProfile=function(){return this.messageService.getCurrentProfile()},n.copyText=function(e,t){return this.messageService.copyText(e,t)},n.addQuickTemplate=function(e){return this.messageService.addQuickTemplate(e)},n.selectAllText=function(e){return this.messageService.selectAllText(e)},n.quoteReply=function(e){return this.messageService.quoteReply(e)},n.showMedia=function(e){return this.messageService.showMedia(e)},n.getCurrentLoginID=function(){return this.messageService.getCurrentLoginID()},n.saveToCloud=function(e){return this.messageService.saveToCloud(e)},n.getCurrentAliId=function(){return this.messageService.getCurrentAliId()},n.notifyUnreadConversation=function(e){return this.messageService.notifyUnreadConversation(e)},n.notifyReceiveMsg=function(e){return this.messageService.notifyReceiveMsg(e)},n.closeNotifyWindow=function(e){return this.messageService.closeNotifyWindow(e)},n.startScreenShot=function(e){return this.messageService.startScreenShot(e)},n.openQuickPhase=function(){return this.messageService.openQuickPhase()},n.searchQuickPhase=function(e){return this.messageService.searchQuickPhase(e)},n.openWorkbench=function(){return this.messageService.openWorkbench()},n.openLive=function(e){return this.messageService.openLive(e)},n.openAudioVideo=function(e){return this.messageService.openAudioVideo(e)},n.getThemeColor=function(){return this.messageService.getThemeColor()},n.checkCanStartMeeting=function(){return this.messageService.checkCanStartMeeting()},n.notifyStartMeeting=function(e){return this.messageService.notifyStartMeeting(e)},n.notifyWebFirstScreen=function(e){return this.messageService.notifyWebFirstScreen(e)},n.notifyChatEvent=function(e){return this.messageService.notifyChatEvent(e)},n.notifyConvSyncReconciliation=function(){return this.messageService.notifyConvSyncReconciliation()},n.notifyReconciliationConvs=function(e){return this.messageService.notifyReconciliationConvs(e)},n.notifyCollectionFrame=function(e){return this.messageService.notifyCollectionFrame(e)},n.getPhrases=function(){return this.messageService.getPhrases()},n.notifyInputBoxFill=function(e){return this.messageService.notifyInputBoxFill(e)},n.getInputBoxText=function(e){return this.messageService.getInputBoxText(e)},n.closePlugin=function(e){return this.messageService.closePlugin(e)},n.switchPlugin=function(e){return this.messageService.switchPlugin(e)},n.refreshPlugin=function(e){return this.messageService.refreshPlugin(e)},n.openPlugin=function(e){return this.messageService.openPlugin(e)},n.searchHistoryMessage=function(e){return this.messageService.searchHistoryMessage(e)},n.searchRemoteHistoryMessage=function(e){return this.messageService.searchRemoteHistoryMessage(e)},t}(us),cu=su,uu=function(){function e(){this._context=void 0,this._context=Object.create({})}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.getAuthService=function(){return hc.getInstance()},t.getConversationService=function(){return eu.getInstance()},t.getConversationServiceV2=function(){return ru.getInstance()},t.getConversationServiceHttp=function(){return Kc.getInstance()},t.getContactService=function(){return Jc.getInstance()},t.getMessageService=function(){return cl.getInstance()},t.getMessageServiceV2=function(){return cu.getInstance()},t.getMessageServiceHttp=function(){return au.getInstance()},t.getSettingService=function(){return ys.getInstance()},t.getEventService=function(){return ac.getInstance()},g()(e,[{key:"context",get:function(){return this._context}}])}();uu.instance=void 0;var lu=uu.getInstance(),du=204800,fu=1024e3;function pu(e){if(!e)return{};var t={};return e.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,n,r){t[n]=decodeURIComponent(r)}),t}function mu(e){return e.split(".")[0]}function gu(e){return/\d+\.PNM/.test(e)?e:e+".PNM"}function hu(e){return"undefined"===typeof e?"":"number"===typeof e?e.toString():""+e}function vu(e){return void 0===e&&(e={}),Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function yu(e){return e&&e.match(/\$2\$(\d+)\$/)?2:1}function _u(e){return 2===yu(e)}function bu(){return window.isGGSProxy?window.proxyAliId:fs.getAuthService().getLoginUid()||window.aliId}function wu(e){var t=bu();if(_u(e))return{selfAliId:t,contactAliId:e};var n=e.split("#")[0].split("-");return{selfAliId:t,contactAliId:t===n[0]?n[1]:n[0]}}function Cu(e){var t=wu(e);return null===t||void 0===t?void 0:t.contactAliId}function Tu(e,t){var n=e.conversationCode;if("owner"===t){if(lu.context.owner)return lu.context.owner;var r=Rs(),o=r.accountId,i=r.loginId,a=r.name,s=r.fullPortrait;return{aliId:bu(),aliIdEncrypt:"",accountId:o,accountIdEncrypt:"",loginId:i,name:a,fullPortrait:s}}if(_u(n)){var c=e.conversationContent;return{accountId:n,accountIdEncrypt:"",loginId:"",loginIdEncrypt:"",name:(null===c||void 0===c?void 0:c.conversationName)||"",fullPortrait:null===c||void 0===c?void 0:c.headUrl,group:{ownerUid:null===c||void 0===c?void 0:c.groupOwnerUid,title:null===c||void 0===c?void 0:c.conversationName,icon:null===c||void 0===c?void 0:c.headUrl,memberCount:null===c||void 0===c?void 0:c.groupMemberCount,memberLimit:null===c||void 0===c?void 0:c.groupMemberLimit},aliId:n}}var u=e.ext.custom;return{accountId:Number(u.toAccId),accountIdEncrypt:u.toAccIdE,aliIdEncrypt:u.toAliIdE,loginId:u.targetLoginId,loginIdEncrypt:u.toIdE,name:u.toName,fullPortrait:u.toFullPortrait,aliId:Cu(n),chatToken:u.chatToken}}var Su={accountId:!0,accountIdEncrypt:!0,loginId:!0,loginIdEncrypt:!0,fullPortrait:!0,name:!0,companyName:!0};function ku(e,t){return void 0===e&&(e=""),void 0===t&&(t="icbu"),"icbu"===t?e.replace(/cntaobao/,"icbu"):e.replace(/icbu/,"cntaobao")}function Nu(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=""),void 0===n&&(n=0),void 0===r&&(r=0);var o=t;return Wu(t)?o+=n>0&&r>0?e<du?"&format=resize,w_"+Math.ceil(n*window.devicePixelRatio)+",h_"+Math.ceil(r*window.devicePixelRatio)+"/quality,q_80":e<fu?"&format=resize,w_"+Math.ceil(n*window.devicePixelRatio)+",h_"+Math.ceil(r*window.devicePixelRatio)+"/quality,q_70":"&format=resize,w_"+Math.ceil(n*window.devicePixelRatio)+",h_"+Math.ceil(r*window.devicePixelRatio)+"/quality,q_50":e<du?"&format=quality,q_80":e<fu?"&format=resize,p_80/quality,q_70":"&format=resize,p_50/quality,q_50":o}!!window.workbench&&location.protocol.indexOf("alires"),!!window.workbench&&location.href.indexOf("from=alisupplier");var Mu=function(e,t,n){this.type=void 0,this.subtype=void 0,this.isCard=void 0,this.type=e,this.subtype=t,this.isCard=n},Eu=1,Ou=4,xu={TEXT:new Mu(1,1,!1),PICTURE:new Mu(1,2,!1),FILE:new Mu(1,3,!1),AUDIO:new Mu(1,4,!1),VEDIO:new Mu(1,5,!1),SYSTEM_ASSIGN_MSG:new Mu(2,10,!1),SYSTEM_WORKTIME_NOTICE_MSG:new Mu(2,11,!1),SYSTEM_SECURITY_WARN_NOTICE_MSG:new Mu(2,12,!1),MC_INQUIRY_CARD_MSG:new Mu(2,13,!0),SYSTEM_SECURITY_TRADE_OFFLIINE_NOTICE_MSG:new Mu(2,14,!1),SYSTEM_IM_TRANSFER_MSG:new Mu(2,15,!1),EXCHANGE_CARD_SEND_NOTICE:new Mu(2,16,!1),EXCHANGE_CARD_RECEIVER_NOTICE:new Mu(2,17,!1),SYSTEM_IM_TRANSFER_REMARKS:new Mu(2,18,!1),INQUIRY_CARD:new Mu(1,50,!0),RFQ_QUOTATION_CARD:new Mu(1,52,!0),FILE_CARD:new Mu(1,53,!0),PRODUCT_CARD:new Mu(1,54,!0),COMPANY_CARD:new Mu(1,55,!0),BEHAVIOR_CARD:new Mu(1,56,!0),NAME_CARD:new Mu(1,57,!0),XINBAO_ITEM_CARD:new Mu(1,58,!0),XINBAO_CARD:new Mu(1,59,!0),CLOUD_PICTURE_CARD:new Mu(1,60,!0),CLOUD_FILE_CARD:new Mu(1,61,!0),CLOUD_VIDEO_CARD:new Mu(1,62,!0),RICH_TEXT_CARD:new Mu(1,63,!0),KEEP_APPOINTMENT_CARD:new Mu(1,64,!0),BUSINESS_CARD_TYPE_S:new Mu(1,65,!0),BUSINESS_CARD_TYPE_B:new Mu(1,66,!0)},Au=function(e,t){if(e>=10&&e<=20)return!0;if(e>=9e3&&e<=9999)return!0;if(null!==t&&void 0!==t&&t.basicMessageInfo&&"string"===typeof(null===t||void 0===t?void 0:t.basicMessageInfo))try{var n;return!0===(null===(n=JSON.parse(null===t||void 0===t?void 0:t.basicMessageInfo))||void 0===n?void 0:n.systemMessage)}catch(e){return!1}return!1},Iu=function(e){return 10011===e},Pu=function(e){return 100015===e},Ru=function(e){return!function(e){return e>=2103&&e<=2109}(e)&&(e>=1e3&&e<=3e3)},Du=function(e){return 1==e?xu.NAME_CARD:2==e?xu.COMPANY_CARD:3==e?xu.PRODUCT_CARD:4==e?xu.XINBAO_ITEM_CARD:5==e?xu.BEHAVIOR_CARD:6==e?xu.INQUIRY_CARD:7==e||8==e?xu.RFQ_QUOTATION_CARD:9==e||11==e?xu.XINBAO_CARD:10==e?xu.FILE_CARD:12==e?xu.CLOUD_FILE_CARD:13==e?xu.CLOUD_PICTURE_CARD:14==e?xu.CLOUD_VIDEO_CARD:15==e||16==e||17==e||18==e?xu.SYSTEM_ASSIGN_MSG:19==e?xu.MC_INQUIRY_CARD_MSG:20==e?xu.RICH_TEXT_CARD:22==e?xu.KEEP_APPOINTMENT_CARD:23==e?xu.BUSINESS_CARD_TYPE_S:null},Uu=new RegExp(""+Ss),ju=function(e){return e===R.MessageTypeImage||e===R.MessageTypeVideo},Lu=function(e){var t;return(null===(t=Du(e))||void 0===t?void 0:t.subtype)===xu.CLOUD_FILE_CARD.subtype},Fu=function(e){var t=e.cardType,n=e.params;return Lu(t)&&(null===n||void 0===n?void 0:n.thumbnailUrl)&&(null===n||void 0===n?void 0:n.name)&&(null===n||void 0===n?void 0:n.size)},Bu=function(e){switch(e){case R.MessageTypeImage:return xu.CLOUD_PICTURE_CARD.subtype;case R.MessageTypeVideo:return xu.CLOUD_VIDEO_CARD.subtype;case R.MessageTypeFile:return xu.CLOUD_FILE_CARD.subtype;default:return-1}},qu=function(e){var t=Number(e);return t<1e3?t+" B":t<1e6?(t/1e3).toFixed(2)+" K":(t/1e6).toFixed(2)+" M"},Gu=function(e){var t=e;try{t=decodeURIComponent(e)}catch(t){console.log("URI Component not decodable: "+e)}return t},Vu=function(e){var t=e.originalData.elements,n="";return(void 0===t?[]:t).forEach(function(e){switch(null===e||void 0===e?void 0:e.elementType){case Eu:var t=e.text;t&&(n+=Uc(t)?Lc(t):t);break;case Ou:var r={atAliId:e.atAliId,atAll:e.atAll,defaultNick:e.defaultNick};n+='<a style="color:#1047F5;text-decoration:none;cursor:pointer" data-at=\''+JSON.stringify(r)+"'></a>"}}),n},Wu=function(e){return(e||"").indexOf(""+ks)>=0||(e||"").indexOf(""+Ns)>=0},Hu=function(e,t,n){var r=e.originalData,o=r.url||"",i=r.fileId,a=void 0===i?"":i,s=r.size,c=void 0===s?0:s;return Mc.getInstance().imageDBInstance.db?function(e,t,n,r,o){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=""),void 0===o&&(o="");var i=Mc.getInstance().getImage(r,"thumbnail");return i?i.url:Nu(e,o,t,n)}(c,t,n,a,o):(Mc.getInstance(),Nu(c,o,t,n))},Yu=function(e){var t=e.originalData,n="";if(e.msgType===R.MessageTypeImage){var r=Oc(t),o=r.width,i=r.height,a=Hu(e,o,i);n='<img src="'+(Ic.xssFilter(a)||"")+'" style="height:'+i+"px; width:"+o+'px"/>'}else if(e.msgType===R.MessageTypeVideo){var s=t.url,c=t.pic;n='<video style="background-color:#222;border:solid 1px #ccc" controls controlslist="nodownload" height="360" width="350" poster='+(Ic.xssFilter(c)||"")+" src="+(Ic.xssFilter(s)||"")+"></video>"}else Lu(null===t||void 0===t?void 0:t.cardType)&&(n=function(e){var t,n=e.originalData.params,r={redirectImageUrl:null===n||void 0===n?void 0:n.url,downloadUrl:(null===n||void 0===n?void 0:n.downloadUrl)||(null===n||void 0===n||null===(t=n.url)||void 0===t?void 0:t.replace("redirectFileUrl","downloadFile")),fileName:null===n||void 0===n?void 0:n.name,fileSize:null===n||void 0===n?void 0:n.size};return"<div data-exp='card-file' class='im-unify-service-card inquiry-file-item' data-query='"+JSON.stringify(r)+"'>\n    <span style='display:block;min-width:327px' data-clk='card-attachment' data-need-attachment-scan="+(null===n||void 0===n?void 0:n.url)+">\n    <div class='file-type' style='background-image:url("+(null===n||void 0===n?void 0:n.thumbnailUrl)+")'></div>\n      <div class='file-info'>\n        <p class='file-name'>"+Gu(null===n||void 0===n?void 0:n.name)+"</p>\n        <p class='file-size'>"+qu(null===n||void 0===n?void 0:n.size)+"</p>\n      </div>\n    </span>\n  </div>"}(e));return n},zu=function(e){var t,n,r={};try{var o,i,a;if(e.content&&"string"===typeof e.content)r=JSON.parse(e.content||(null===e||void 0===e||null===(a=e.originalData)||void 0===a?void 0:a.text)||"{}");else if(null!==e&&void 0!==e&&null!==(o=e.originalData)&&void 0!==o&&o.text||"string"===typeof(null===e||void 0===e||null===(i=e.originalData)||void 0===i?void 0:i.text)){var s;r=JSON.parse((null===e||void 0===e||null===(s=e.originalData)||void 0===s?void 0:s.text)||"{}")}}catch(e){console.error("buildHttpStructContent error",e)}var c=(null!==(t=r)&&void 0!==t?t:{}).elements,u="";return(void 0===c?[]:c).forEach(function(e){switch(null===e||void 0===e?void 0:e.elementType){case Eu:var t=e.text;t&&(u+=Uc(t)?Lc(t):t);break;case Ou:var n={atAliId:e.atAliId,atAll:e.atAll,defaultNick:e.defaultNick};u+='<a style="color:#1047F5;text-decoration:none;cursor:pointer" data-at=\''+JSON.stringify(n)+"'></a>"}}),u||(null===e||void 0===e?void 0:e.content)||(null===e||void 0===e||null===(n=e.originalData)||void 0===n?void 0:n.text)||""},Ju=(hc.getInstance(),function(e,t){var n,r;return function(e){var t=!1,n=e.msgType;return n===vs.CUSTOM&&(t=!0),n===vs.STRUCT&&(t=!0),ju(n)&&(t=!0),n===R.MessageTypeAudio||t}(e)&&e.code.messageId||(null===(n=e.originalData)||void 0===n?void 0:n.cardType)||function(e){var t,n=zt(null===(t=e.ext)||void 0===t?void 0:t.bizDataExt);return!(null===n||void 0===n||!n.icbuData)}(e)||(null===(r=t.extInfo)||void 0===r?void 0:r.icbuData)}),$u=function(e){return Ru(e.msgType)||!!e.cardType},Ku=function(e,t){var n,r,o,i;if(e.extInfo={},null!==(n=t.ext)&&void 0!==n&&n.quoteMessage){var a=zt(t.ext.quoteMessage);if(null!==a&&void 0!==a&&a.messageId){var s=a.messageId,c=a.content,u=a.senderName,l=a.senderAliId,d=a.receiverAliId,f=a.originalData,p=a.msgType;null!==f&&void 0!==f&&f.url&&(f.url=Ic.xssFilter(f.url)),e.extInfo.referMessage={msgId:s,contentAbstract:Ic.xssFilter(c),senderName:u,senderAliId:l,receiverAliId:d,originalData:f,subType:+p}}}var m=zt(null===(r=t.ext)||void 0===r?void 0:r.basicMessageInfo)||{},g=m.bizType,h=m.bizId,v=m.cardUrls,y=m.extParams,b=void 0===y?{}:y,w=m.triggerBizId,C=m.systemMessage,T=m.messageScene,S=void 0===T?"":T,k=m.chatToken,N=zt(null===(o=t.ext)||void 0===o?void 0:o.messageDisplayInfo)||{},M=N.contentMcmsParams,E=N.actions,O=N.contentMcmsKey,x=N.title,A=N.msgLevel,I=N.iconUrl,P=N.canClosed,R=N.defaultContent,D=N.showDelay,U=zt(null===(i=t.ext)||void 0===i?void 0:i.messageEventInfo)||{},j=U.relatedType,L=U.relatedName;g&&(e.extInfo.icbuData={chatEvent:{bizType:g,bizId:h,extParams:_()({},b,{messageScene:""+S})},systemMessage:C,contentMcmsKey:O,cardUrls:v,actions:E,title:x,msgLevel:A,iconUrl:I,canClosed:P,defaultContent:R,showDelay:D,triggerBizId:w,chatToken:k},M&&(e.extInfo.icbuData.imStandardMcmsParams=M),E&&(e.extInfo.icbuData.action=E[0])),j&&Object.assign(e.extInfo,{relatedType:j,relatedName:L})},Xu=function(e){var t,n,r,o,i;if(null!==(t=e.originalData)&&void 0!==t&&t.internal){var a,s,c,u,l,d=null===(a=e.originalData)||void 0===a?void 0:a.internal;if(-1===d.indexOf("from"))d=d+"&from="+(null===(s=e.ext)||void 0===s||null===(c=s.sender_nick)||void 0===c?void 0:c.replace("enaliint",""))+"&to="+(null===(u=e.ext)||void 0===u||null===(l=u.receiver_nick)||void 0===l?void 0:l.replace("enaliint",""));return d}var f=e.originalData.cardType,p=e.originalData.params,m=null===(n=e.ext)||void 0===n||null===(r=n.sender_nick)||void 0===r?void 0:r.replace("enaliint",""),g=null===(o=e.ext)||void 0===o||null===(i=o.receiver_nick)||void 0===i?void 0:i.replace("enaliint",""),h="https://"+Ss+"/card?type="+f+"&from="+m+"&to="+g+"&",v=[];p&&(Object.keys(p).forEach(function(e){v.push(e+"="+encodeURIComponent(p[e]))}),h+=v.join("&"));return h},Qu=function(e,t){var n,r,o,i;if(e.msgType===R.MessageTypeAudio)t.content=Ic.xssFilter(null===(i=e.originalData)||void 0===i?void 0:i.url),t.extInfo={icbuData:e.originalData},t.type=1,t.subType=4;else if(ju(e.msgType))t.content=Yu(e),t.type=gs.NORMAL,t.subType=Bu(e.msgType);else if(null!==(n=e.originalData)&&void 0!==n&&n.cardType){if(Ru(e.originalData.cardType))t.subType=e.originalData.cardType;else try{t.subType=Du(e.originalData.cardType).subtype}catch(n){Fs.error("getMsgTypeEnumByCardTypeError",e.originalData),t.subType=e.originalData.cardType}t.type=Au(t.subType,null===e||void 0===e?void 0:e.ext)?gs.SYSTEM:gs.NORMAL,Fu(e.originalData)?t.content=Yu(e):t.content=Xu(e)}else if(null!==(r=e.ext)&&void 0!==r&&r.bizDataExt||null!==(o=t.extInfo)&&void 0!==o&&o.icbuData){var a,s;if(null!==(a=t.extInfo)&&void 0!==a&&a.icbuData){var c,u,l,d=null===(c=t.extInfo)||void 0===c||null===(u=c.icbuData.chatEvent)||void 0===u?void 0:u.bizType,f=null===(l=t.extInfo)||void 0===l?void 0:l.icbuData.systemMessage;if(t.subType=d,t.type=f||Au(d)?gs.SYSTEM:gs.NORMAL,e.msgType&&Iu(e.msgType))return void(t.content=Vu(e));if(d&&Pu(d))return void(t.content=zu(e))}t.content=Ic.xssFilter(null===(s=e.originalData)||void 0===s?void 0:s.text),jc(e)&&(t.content=Dc(e))}},Zu=function(e,t){var n={};if(n.conversationCode=e.conversationCode,n.originExt=e.ext,n.originalData=e.originalData,n.msgType=e.msgType,n.contact=t||Object.assign({},lu.context.contact),n.owner=Object.assign({},lu.context.owner),n.sendTime=e.sendTime,n.contactRead=e.receiverState.read.all,n.unread=e.receiverState.read.count,n.sender=e.sender,n.receiver=e.receiver,function(e,t){Ku(e,t)}(n,e),Ju(e,n))Qu(e,n);else if(504===e.msgType){n.type=1,n.subType=1;var r=e.originalData.msgs.reduce(function(e,t){var n="";if(0===t.contentType)n=zt(t.content).text;else if(1===t.contentType){var r=zt(t.content).url;n="<img src="+Ic.xssFilter(r)+' style="max-width:360px"/>'}return e.push(n),e},[]);r=r.join(""),n.content=r}else n.type=1,n.subType=1,e.originalData.url?n.content=Yu(e):n.content=Ic.xssFilter(e.originalData.text),jc(e)&&(n.content=Dc(e));return n.viewType=e.status===j.MessageStatusRevoke?3:0,e.status===j.MessageStatusRevoke&&(n.content=""),e.status===j.MessageStatusFailed||e.status===j.MessageStatusDelete?n.status=1:e.status===j.MessageStatusSending?n.status=2:n.status=0,n.localExt=e.localExt,e.code.messageId&&(n.uuid=mu(e.code.messageId),n.messageId=Number(mu(e.code.messageId))),n.messageType=At(e)?ms.SEND:ms.RECEIVE,n.opId=e.code.clientId,n.autoReply=0,n.spamStatus=0,n},el=function(e){var t={type:hu(e.cardType)};if(e.mediaInfo&&e.mediaInfo.fileCardUrl){var n=pu(e.mediaInfo.fileCardUrl);t.ctime=hu(n.ctime),t.version=hu(n.version),t.extensionType=hu(e.mediaInfo.materialType),t.id=hu(e.mediaInfo.id),t.parentId=hu(e.mediaInfo.parentId),t.md5=hu(e.mediaInfo.md5),t.url=e.mediaInfo.redirectFileUrl||"",t.name=e.mediaInfo.nodeName||"",t.size=hu(e.mediaInfo.nodeSize),t.thumbnailUrl=e.mediaInfo.thumbnailUrl||"",t.downloadUrl=e.mediaInfo.downloadUrl||""}else{for(var r in e.mediaInfo)e.mediaInfo[r]=hu(e.mediaInfo[r]);t=Object.assign(t,e.mediaInfo)}return t},tl=function(e){return function(e){var t,n={basicMessageInfo:{systemMessage:!1,autoReply:!1,icbuCard:$u(e),bizType:e.msgType,chatToken:null===(t=e.ext)||void 0===t?void 0:t.chatToken,extParams:null===e||void 0===e?void 0:e.extParams},messageDisplayInfo:{},messageEventInfo:{},quoteMessage:null};if(e.referMessage){var r=e.referMessage,o=r.msgId,i=r.subType,a=r.senderAliId,s=r.originalData,c=r.senderName,u=r.contentAbstract;Object.assign(n,{quoteMessage:{messageId:o,content:u,senderName:c,senderAliId:a,originalData:s,msgType:i}})}e.relatedType&&Object.assign(n.messageEventInfo,{relatedType:e.relatedType,relatedName:e.relatedName});var l={};if(e.ext){var d,f,p=e.ext,m=p.chatScene,g=p.icbuSource,h=p.basicMessageInfo,v=void 0===h?{}:h;if(m){var y=JSON.parse(m),_=y.clientInfo,b=y.ip,w=y.channel,C=y.bizId,T=y.bizType;Object.assign(n.basicMessageInfo,{clientInfo:_,ip:b,channel:w,entranceSource:g}),T&&Object.assign(l,{extBizId:C,extBizType:T})}v&&Object.assign(n.basicMessageInfo,v),null!==(d=e.mediaInfo)&&void 0!==d&&d.id&&null!==(f=e.mediaInfo)&&void 0!==f&&f.parentId&&Object.assign(l,{nodeId:e.mediaInfo.id,parentNodeId:e.mediaInfo.parentId})}e.extParams&&Object.assign(l,e.extParams),Object.assign(n.basicMessageInfo,{extParams:l});var S={basicMessageInfo:JSON.stringify(n.basicMessageInfo),messageDisplayInfo:JSON.stringify(n.messageDisplayInfo),messageEventInfo:JSON.stringify(n.messageEventInfo)};return n.quoteMessage&&Object.assign(S,{quoteMessage:JSON.stringify(n.quoteMessage)}),S}(e)},nl=function(e){var t,n,r,o,i=_()({},e),a={};return a.conversationCode=i.cid||lu.context.cid,a.conversationType=yu(a.conversationCode),ju(i.baasMsgType)?(a.msgType=i.baasMsgType,a.originalData=(t=i.mediaInfo,n=i.baasMsgType,r={},o=pu(t.fileCardUrl||""),n===R.MessageTypeImage?r={height:t.height||parseInt(null===o||void 0===o?void 0:o.picHeight),width:t.width||parseInt(null===o||void 0===o?void 0:o.picWidth),url:t.redirectFileUrl,isOriginal:1,size:t.nodeSize||t.size||0,md5:t.md5,fileId:t.fileId||t.md5+"."+t.materialType,suffix:t.materialType}:n===R.MessageTypeVideo&&(r={duration:0,width:0,height:0,size:parseInt(t.nodeSize),md5:t.md5,fileId:t.fileId||t.md5+"."+t.materialType,url:t.redirectFileUrl,pic:t.thumbnailUrl||t.previewUrl||""}),r)):Iu(i.baasMsgType)?(a.msgType=i.baasMsgType,a.originalData={elements:i.structInfo,version:"1.0.0"}):$u(i)?(a.msgType=vs.CUSTOM,a.originalData={cardType:i.cardType,params:el(i)},i.msgType||(2013===i.cardType?i.msgType=i.cardType:1===i.cardType&&(i.msgType=57))):(a.msgType=R.MessageTypeText,a.originalData={text:i.content}),i.msgType||To({ext:"sendMessageParamsCheck",bizData:{cid:a.conversationCode,msgType:a.msgType}}),i.opId&&(a.code={messageId:"",clientId:i.opId}),a.ext=tl(i),a},rl=function(e){var t={};return t.conversationCode=e.conversationCode||lu.context.cid,e.timeSlide.timeStamp?t.cursor={sendTime:e.timeSlide.timeStamp}:t.cursor=null,t.count=e.timeSlide.pageSize,t.fetchType=e.timeSlide.forward?B.FetchTypeNew:B.FetchTypeOld,t},ol=function(e){var t=[];return t.push({code:{messageId:gu(e.uuid),clientId:e.opId},conversationCode:lu.context.cid,modifyTime:e.sendTime}),t},il=new Ro("sdk-messageService");il.color("#228B22");var al=pc.getInstance(),sl=function(e){function t(){var t;return(t=e.call(this)||this).addDelegate({onMessageSend:function(e){var t=e[0];if(t.sendStatus===j.MessageStatusNormal){il.log("messageSend success",lu.context.cid);var n=ws.conversationMap.get(t.message.conversationCode),r=Zu(t.message,null===n||void 0===n?void 0:n.contact),o=ws.messageListMap.get(t.message.conversationCode)||[];o.push(r),ws.messageListMap.set(t.message.conversationCode,o),ac.getInstance().emit(Ho.BaaSMessageSendCallback,r)}}}),t}w()(t,e),t.getInstance=function(){return this.instance||(this.instance=new t),this.instance};var n=t.prototype;return n.sendUIMessages=function(e,t){var n=this;void 0===t&&(t=!1),il.log("sendUIMessages params:",e);var r=nl(e);return new Promise(function(e){if(kt)al.sendMessage(r).then(function(t){il.log("sendUIMessages result",t),e(t)});else{var o={sendMessages:[r],localCallback:function(t){var n,r;il.log("localCallback",t);var o=t[0],i={};i.opId=o.code.clientId;var a=ws.conversationMap.get(o.conversationCode);i.ownerFullPotrait=null===a||void 0===a||null===(n=a.contact)||void 0===n?void 0:n.fullPortrait,i.ownerName=(null===a||void 0===a||null===(r=a.contact)||void 0===r?void 0:r.name)||"";var s,c=Zu(o,null===a||void 0===a?void 0:a.contact);s=c.content,Uu.test(s)&&(i.cardUrl=c.content),e(i)},dataCallback:function(e){},errorCallBack:function(e){var t=e.err,n=e.code,o=e.subcode;if("paas"===n){var i=k()(t,"body.reason"),a=k()(t,"body.code"),s=k()(t,"body.developerMessage");r.localExt={reason:i,code:parseInt(a),developerMessage:s};var c=ba(r,j.MessageStatusFailed,o),u=ws.conversationMap.get(c.conversationCode);ac.getInstance().emit(Ho.BaaSMessageUpdate,Zu(c,null===u||void 0===u?void 0:u.contact))}}};n.sendMessagesWithoutUpdateExt(o,t)}})},n.fetchMessages=function(e){var t=this;il.log("paas fetchMessages params",e);var n=rl(e);return new Promise(function(r,o){var i=function(t){var o;if(il.log("message result",t),kt){var i=ws.accountId2ConvMap.get(""+e.contactAccountId).contact;o=t.data.map(function(e){return Zu(e,i)})}else{var a;o=t.data.map(function(e){var t;return a||(a=ws.conversationMap.get(e.conversationCode)),Zu(e,null===(t=a)||void 0===t?void 0:t.contact)})}var s=o.filter(function(e){return!1===e.contactRead&&e.messageId&&e.messageType===ms.RECEIVE}).map(function(e){return gu(e.messageId.toString())});_c.mergeMessageList(n.conversationCode,o),s&&s.length&&(il.log("fetchMessages callback to updateMessageToRead",s),kt?al.updateMessageToRead({cid:n.conversationCode,messageIds:s}):_c.updateMessageToRead(n.conversationCode,s),To({ext:"markMsgRead",businessLine:"msg",bizData:{messageId:s.join(",")}})),r({list:o,hasMore:t.hasMore})},a=function(e){var t=e.err;Fs.error("fetchMessagesFail",lu.context.cid),o(t)};kt?(n.conversationCode=ws.accountId2ConvMap.get(""+e.contactAccountId).cid,al.listMessageWithConversationCode(_()({},n)).then(function(e){i(e)}).catch(function(e){a(e)})):t.listMessageWithConversationCode(_()({},n,{dataCallback:i,errorCallBack:a}))})},n.fetchMessagesWithoutUpdateToRead=function(e,t){var n=this,r=rl(e);return new Promise(function(e,o){n.listMessageWithConversationCodeForHistory(_()({},r,{dataCallback:function(n){var r=n.data.map(function(e){return Zu(e,t.contact)});e({list:r,hasMore:n.hasMore})},errorCallBack:function(e){var t=e.err;Fs.error("fetchMessagesWithoutUpdateToReadFail",lu.context.cid),o(t)}}))})},n.updateMessageToRead=function(e,t){var n=t.filter(function(e){return!1===e.contactRead&&e.messageId&&e.messageType===ms.RECEIVE}).map(function(e){return gu(e.messageId.toString())});kt?al.updateMessageToRead({cid:e,messageIds:n}):_c.updateMessageToRead(e,n)},n.recallMessage=function(e){var t=this,n=ol(e);return new Promise(function(r,o){var i=function(e){il.log("recallMessage success",e),r(e)};kt?al.recallMsg({cid:lu.context.cid,messageIds:[e.uuid]}).then(function(e){i(e)}):t.revokeMessage({messages:n,dataCallback:i})})},n.getUrlSnapshot=function(e){return al.getUrlSnapshot(e)},n.startMeeting=function(e){return al.startMeeting(e)},n.contextMenu=function(e){return al.contextMenu(e)},n.mtopRequest=function(e){return al.mtopRequest(e)},n.doCardAction=function(e){return al.doCardAction(e)},n.openUrl=function(e){return al.openUrl(e)},n.translate=function(e){return new Promise(function(t,n){e.conversationId=lu.context.cid,al.translate(e).then(function(e){t(e)})})},n.translateSetting=function(){return al.translateSetting()},n.playAudio=function(e){return al.playAudio(e)},n.httpRequest=function(e){return al.httpRequest(e)},n.getCurrentProfile=function(){return al.getCurrentProfile()},n.copyText=function(e,t){al.copyText(e,t)},n.addQuickTemplate=function(e){return al.addQuickTemplate(e)},n.selectAllText=function(e){al.selectAllText(e)},n.quoteReply=function(e){return al.quoteReply(e)},n.showMedia=function(e){return al.showMedia(e)},n.getCurrentLoginID=function(){return al.getCurrentLoginID()},n.saveToCloud=function(e){return al.saveToCloud(e)},n.getCurrentAliId=function(){return al.getCurrentAliId()},n.notifyUnreadConversation=function(e){return al.notifyUnreadConversation(e)},n.notifyReceiveMsg=function(e){return al.notifyReceiveMsg(e)},n.closeNotifyWindow=function(e){return al.closeNotifyWindow(e)},n.startScreenShot=function(e){return al.startScreenShot(e)},n.openQuickPhase=function(){return al.openQuickPhase()},n.searchQuickPhase=function(e){return al.searchQuickPhase(e)},n.openWorkbench=function(){return al.openWorkbench()},n.openLive=function(e){return al.openLive(e)},n.openAudioVideo=function(e){return al.openAudioVideo(e)},n.getThemeColor=function(){return al.getThemeColor()},n.checkCanStartMeeting=function(){return al.checkCanStartMeeting()},n.notifyStartMeeting=function(e){return al.notifyStartMeeting(e)},n.notifyWebFirstScreen=function(e){return al.notifyWebFirstScreen(e)},n.notifyChatEvent=function(e){return al.notifyChatEvent(e)},n.getPhrases=function(){return al.getPhrases()},n.searchHistoryMessage=function(e){return new Promise(function(){var t=v()(T.a.mark(function t(n,r){var o,i,a,s,c,u;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=1,aa.getSearchService().searchChatContent(e);case 1:o=t.sent,i=o.searchResult,a=void 0===i?[]:i,s=o.total_count,c={resultList:a.map(function(e){var t=fa(e.msg);return{msg:Zu(t),ranges:e.ranges}}),total_count:s},n(c),t.next=3;break;case 2:t.prev=2,u=t.catch(0),r(u);case 3:case"end":return t.stop()}},t,null,[[0,2]])}));return function(e,n){return t.apply(this,arguments)}}())},n.searchRemoteHistoryMessage=function(e){return new Promise(function(){var t=v()(T.a.mark(function t(n,r){var o,i,a,s,c,u;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=1,aa.getSearchService().searchRemoteChatContent(e);case 1:o=t.sent,i=o.messages,a=void 0===i?[]:i,s=o.extra_info,c={resultList:a.map(function(e){var t=fa(e);return{msg:Zu(t)}}),extra_info:s},n(c),t.next=3;break;case 2:t.prev=2,u=t.catch(0),r(u);case 3:case"end":return t.stop()}},t,null,[[0,2]])}));return function(e,n){return t.apply(this,arguments)}}())},n.searchRemoteMessage=function(e){return fs.getMessageService().searchRemoteMessage(e)},n.notifyConvSyncReconciliation=function(){return al.notifyConvSyncReconciliation()},n.notifyReconciliationConvs=function(e){return al.notifyReconciliationConvs(e)},n.notifyCollectionFrame=function(e){return al.notifyCollectionFrame(e)},n.notifyInputBoxFill=function(e){return al.notifyInputBoxFill(e)},n.getInputBoxText=function(e){return al.getInputBoxText(e)},n.closePlugin=function(e){return al.closePlugin(e)},n.switchPlugin=function(e){return al.switchPlugin(e)},n.refreshPlugin=function(e){return al.refreshPlugin(e)},n.openPlugin=function(e){return al.openPlugin(e)},t}(us),cl=sl,ul={conversationIdentifier:{entityType:"U",bizType:"11011",target:{targetId:"2212489396268",targetType:""},createContext:{}},conversationCode:"2212489396268-4235710082#11011@icbu",channelType:3,status:0,remindType:0,position:1,modifyTime:1678946668731,orderTime:1678946668731,conversationContent:{conversationName:"",unReadNumber:0,draft:"",lastMessageSummary:{content:"{{svc:func:Base64Decode:aGVpbWRhbGx0ZXN0d2lsc29uNTYxMg==}}",sendTime:1675227376851,status:0,selfState:1,msgType:101,sender:{targetId:"17381368587",targetType:""},code:{messageId:"1645792268627.PNM",clientId:""},receiverState:{unread:{count:0,all:!1},read:{count:2,all:!0}},messageData:{conversationCode:"2212489396268-4235710082#11011@icbu",code:{messageId:"1645792268627.PNM",clientId:""},sender:{targetId:"17381368587",targetType:""},sendTime:1675227376851,modifyTime:1675227376851,status:0,selfState:1,receiverState:{unread:{count:0,all:!1},read:{count:2,all:!0}},msgType:101,originalData:{text:"{{svc:func:Base64Decode:aGVpbWRhbGx0ZXN0d2lsc29uNTYxMg==}}"},summary:"{{svc:func:Base64Decode:aGVpbWRhbGx0ZXN0d2lsc29uNTYxMg==}}",receiver:{targetId:"4235710082",targetType:"3"},reminder:{remindType:1,remindBehavior:0},ext:{basicMessageInfo:'{"autoReply":false,"bizType":1,"clientInfo":"web","extParams":{},"icbuCard":false,"messageScene":1,"systemMessage":false}',messageEventInfo:'{"clearRedPoint":false,"safeFilter":true}',messageDisplayInfo:'{"canClosed":false,"showDelay":false}',quoteMessage:"null",receiverCount:2,unreadCount:0},localExt:{basicMessageInfo:'{"autoReply":false,"bizType":1,"clientInfo":"web","extParams":{},"icbuCard":false,"messageScene":1,"systemMessage":false}',messageEventInfo:'{"clearRedPoint":false,"safeFilter":true}',messageDisplayInfo:'{"canClosed":false,"showDelay":false}',quoteMessage:"null",receiverCount:2,unreadCount:0},originPaasMessageData:{readStatus:2,userExtension:{},recallFeature:{showRecallStatusSetting:0},message:{extension:{basicMessageInfo:'{"autoReply":false,"bizType":1,"clientInfo":"web","extParams":{},"icbuCard":false,"messageScene":1,"systemMessage":false}',messageEventInfo:'{"clearRedPoint":false,"safeFilter":true}',messageDisplayInfo:'{"canClosed":false,"showDelay":false}',quoteMessage:"null"},messageId:"1645792268627.PNM",unreadCount:0,msgReadStatusSetting:1,createAt:1675227376851,content:{text:{extension:{},content:"{{svc:func:Base64Decode:aGVpbWRhbGx0ZXN0d2lsc29uNTYxMg==}}"},contentType:1},mtags:{},conversationType:1,displayStyle:0,redPointPolicy:0,recordStatus:1,sender:{uid:"17381368587@icbu",tag:0},receivers:[],receiverCount:2,cid:"2212489396268-4235710082#11011@icbu"},msgStatus:1}}},headUrl:"",readOffsetTime:-1},ext:{custom:{fromAccIdE:"MC1IDX1KqrPNDTKY9sdiPT5UCpMMHyA2tT5vwgFxO4hEj9UPMANeQSnzrf-4ScaRMQnPjEK",fromAccId:"234976055",fromAliIdE:"MC1IDX19FXyif0k5WlNQjuccbpaJof0FzXSsApqUDZzn8et-xq7tHEMhl-tyzG2qG-KZVMq",toAccIdE:"MC1IDX1HRQ_hwRsjl6rnU2E-m50Um0U5M73MhVBY2o93xre4KA39bB4FBNgKdyYJbXpFTdr",toAliIdE:"MC1IDX1WvwWtw3k8Da7dsyiiDJXZnznG_W7H_kSiA0mH0hTm7oOr6skfvz0GMQkUY_zJDAh",toAccId:"253420443"},target:{id:"2212489396268",domain:"icbu"}},localExt:{},originPaasConversationData:{type:1,singleChatUserConversation:{visible:1,modifyTime:1678946668731,redPoint:0,joinTime:1670404163736,lastMessage:{readStatus:2,userExtension:{},recallFeature:{showRecallStatusSetting:0},message:{extension:{basicMessageInfo:'{"autoReply":false,"bizType":1,"clientInfo":"web","extParams":{},"icbuCard":false,"messageScene":1,"systemMessage":false}',messageEventInfo:'{"clearRedPoint":false,"safeFilter":true}',messageDisplayInfo:'{"canClosed":false,"showDelay":false}',quoteMessage:"null"},messageId:"1645792268627.PNM",unreadCount:0,msgReadStatusSetting:1,createAt:1675227376851,content:{text:{extension:{},content:"{{svc:func:Base64Decode:aGVpbWRhbGx0ZXN0d2lsc29uNTYxMg==}}"},contentType:1},mtags:{},conversationType:1,displayStyle:0,redPointPolicy:0,recordStatus:1,sender:{uid:"17381368587@icbu",tag:0},receivers:[],receiverCount:2,cid:"2212489396268-4235710082#11011@icbu"},msgStatus:1},singleChatConversation:{extension:{},pairFirst:"4235710082@icbu",bizType:"11011",msgReadStatusSetting:1,createAt:1670404163736,cid:"2212489396268-4235710082#11011@icbu",pairSecond:"2212489396268@icbu"},topRank:1671178112563,muteNotification:0,user_extension:{custom:'{"fromAccIdE":"MC1IDX1KqrPNDTKY9sdiPT5UCpMMHyA2tT5vwgFxO4hEj9UPMANeQSnzrf-4ScaRMQnPjEK","fromAccId":"234976055","fromAliIdE":"MC1IDX19FXyif0k5WlNQjuccbpaJof0FzXSsApqUDZzn8et-xq7tHEMhl-tyzG2qG-KZVMq","toAccIdE":"MC1IDX1HRQ_hwRsjl6rnU2E-m50Um0U5M73MhVBY2o93xre4KA39bB4FBNgKdyYJbXpFTdr","toAliIdE":"MC1IDX1WvwWtw3k8Da7dsyiiDJXZnznG_W7H_kSiA0mH0hTm7oOr6skfvz0GMQkUY_zJDAh","toAccId":"253420443"}',target:'{"id":"2212489396268","domain":"icbu"}'}}}},ll={conversationIdentifier:{entityType:"U",bizType:"11011",target:{targetId:"17379911544",targetType:""},createContext:{}},conversationCode:"17281424988-17379911544#11011@cntaobao",channelType:3,status:0,remindType:0,position:1,modifyTime:1678952327879,orderTime:1678952327879,conversationContent:{conversationName:"",unReadNumber:0,draft:"",lastMessageSummary:{content:"333",sendTime:1678952327751,status:0,selfState:1,msgType:101,sender:{targetId:"17281424988",targetType:""},code:{messageId:"1718419117272.PNM",clientId:""},receiverState:{unread:{count:0,all:!1},read:{count:2,all:!0}},messageData:{conversationCode:"17281424988-17379911544#11011@cntaobao",code:{messageId:"1718419117272.PNM",clientId:""},sender:{targetId:"17281424988",targetType:""},modifyTime:1678952327751,sendTime:1678952327751,status:0,selfState:1,receiverState:{unread:{count:0,all:!1},read:{count:2,all:!0}},msgType:101,originalData:{text:"333"},summary:"333",receiver:{targetId:"",targetType:""},reminder:{remindType:1,remindBehavior:0},ext:{receiver_nick:"enaliintaliqatest01",sender_nick:"enaliintaliqatest07",pushMsgType:"bc_chat",receiver_aliId:"17379911544",chatScene:'{"clientInfo":"web","ip":"messenger","bizId":null,"bizType":null}',sender_aliId:"17281424988",contentType:"text",icbuSource:"onepage",scene:'{"client":"messenger","msgTrigger":"send_button","document_referrer":"https://login.alibaba.com/","location_href":"https://message.alibaba.com/message/messenger.htm?activeAccountId=200042360&activeAccountIdEncrypt=MC1IDX1wIlZ67IIg61pjEPrDUymMyLY-7anINFZGOEfT8lu5NZjzPQ2nuFnmIdDHf5rBN6O"}',receiverCount:2,unreadCount:0},localExt:{receiver_nick:"enaliintaliqatest01",sender_nick:"enaliintaliqatest07",pushMsgType:"bc_chat",receiver_aliId:"17379911544",chatScene:'{"clientInfo":"web","ip":"messenger","bizId":null,"bizType":null}',sender_aliId:"17281424988",contentType:"text",icbuSource:"onepage",scene:'{"client":"messenger","msgTrigger":"send_button","document_referrer":"https://login.alibaba.com/","location_href":"https://message.alibaba.com/message/messenger.htm?activeAccountId=200042360&activeAccountIdEncrypt=MC1IDX1wIlZ67IIg61pjEPrDUymMyLY-7anINFZGOEfT8lu5NZjzPQ2nuFnmIdDHf5rBN6O"}',receiverCount:2,unreadCount:0},originPaasMessageData:{readStatus:2,userExtension:{},recallFeature:{showRecallStatusSetting:0},message:{extension:{receiver_nick:"enaliintaliqatest01",sender_nick:"enaliintaliqatest07",pushMsgType:"bc_chat",receiver_aliId:"17379911544",chatScene:'{"clientInfo":"web","ip":"messenger","bizId":null,"bizType":null}',sender_aliId:"17281424988",contentType:"text",icbuSource:"onepage",scene:'{"client":"messenger","msgTrigger":"send_button","document_referrer":"https://login.alibaba.com/","location_href":"https://message.alibaba.com/message/messenger.htm?activeAccountId=200042360&activeAccountIdEncrypt=MC1IDX1wIlZ67IIg61pjEPrDUymMyLY-7anINFZGOEfT8lu5NZjzPQ2nuFnmIdDHf5rBN6O"}'},messageId:"1718419117272.PNM",unreadCount:0,msgReadStatusSetting:1,createAt:1678952327751,content:{text:{extension:{sender_nick:"cntaobaoannin jison",chatScene:'{"clientInfo":"web","ip":"messenger","bizId":null,"bizType":null}',contentType:"text",icbuSource:"onepage",scene:'{"client":"messenger","msgTrigger":"send_button","document_referrer":"https://login.alibaba.com/","location_href":"https://message.alibaba.com/message/messenger.htm?activeAccountId=200042360&activeAccountIdEncrypt=MC1IDX1wIlZ67IIg61pjEPrDUymMyLY-7anINFZGOEfT8lu5NZjzPQ2nuFnmIdDHf5rBN6O"}'},content:"333"},contentType:1},mtags:{},conversationType:1,displayStyle:0,redPointPolicy:0,recordStatus:1,sender:{uid:"17281424988@cntaobao",tag:0},receivers:[],receiverCount:2,cid:"17281424988-17379911544#11011@cntaobao"},msgStatus:1}}},headUrl:"",readOffsetTime:-1},ext:{custom:{fromAccIdE:"MC1IDX1QQYgnVUP9XK4FwlewF9_dimVtPZ1ZKKF3zrEGDIvMEz5wQj1OrBx9YS5WYgXhlwm",selfUid:"17281424988",fromCountry:"US",targetLoginId:"aliqatest01",selfBizDomain:"enaliint",senderNick:"enaliintaliqatest07",toAccIdE:"MC1IDX1wIlZ67IIg61pjEPrDUymMyLY-7anINFZGOEfT8lu5NZjzPQ2nuFnmIdDHf5rBN6O",receiverNick:"enaliintaliqatest01",toCountry:"CN",fromIdE:"8pctgRBMALOVaMP97BynsZrmd0cnkfDW",fromAccId:"101555804",selfLoginId:"aliqatest07",toName:"Caroline Marc",fromName:"ICBUtest aliqatestsevenseven",toIdE:"8pctgRBMALOVaMP97BynsZAKX2pgQEq7",toAccId:"200042360"},target:{id:"17379911544",domain:"cntaobao"}},localExt:{},originPaasConversationData:{type:1,singleChatUserConversation:{visible:1,modifyTime:1678952327879,redPoint:0,joinTime:1588242030101,lastMessage:{readStatus:2,userExtension:{},recallFeature:{showRecallStatusSetting:0},message:{extension:{receiver_nick:"enaliintaliqatest01",sender_nick:"enaliintaliqatest07",pushMsgType:"bc_chat",receiver_aliId:"17379911544",chatScene:'{"clientInfo":"web","ip":"messenger","bizId":null,"bizType":null}',sender_aliId:"17281424988",contentType:"text",icbuSource:"onepage",scene:'{"client":"messenger","msgTrigger":"send_button","document_referrer":"https://login.alibaba.com/","location_href":"https://message.alibaba.com/message/messenger.htm?activeAccountId=200042360&activeAccountIdEncrypt=MC1IDX1wIlZ67IIg61pjEPrDUymMyLY-7anINFZGOEfT8lu5NZjzPQ2nuFnmIdDHf5rBN6O"}'},messageId:"1718419117272.PNM",unreadCount:0,msgReadStatusSetting:1,createAt:1678952327751,content:{text:{extension:{sender_nick:"cntaobaoannin jison",chatScene:'{"clientInfo":"web","ip":"messenger","bizId":null,"bizType":null}',contentType:"text",icbuSource:"onepage",scene:'{"client":"messenger","msgTrigger":"send_button","document_referrer":"https://login.alibaba.com/","location_href":"https://message.alibaba.com/message/messenger.htm?activeAccountId=200042360&activeAccountIdEncrypt=MC1IDX1wIlZ67IIg61pjEPrDUymMyLY-7anINFZGOEfT8lu5NZjzPQ2nuFnmIdDHf5rBN6O"}'},content:"333"},contentType:1},mtags:{},conversationType:1,displayStyle:0,redPointPolicy:0,recordStatus:1,sender:{uid:"17281424988@cntaobao",tag:0},receivers:[],receiverCount:2,cid:"17281424988-17379911544#11011@cntaobao"},msgStatus:1},singleChatConversation:{extension:{},pairFirst:"17281424988@cntaobao",bizType:"11011",msgReadStatusSetting:1,createAt:1588242030101,cid:"17281424988-17379911544#11011@cntaobao",pairSecond:"17379911544@cntaobao"},topRank:1678266509983,muteNotification:0,user_extension:{custom:'{"fromAccIdE":"MC1IDX1QQYgnVUP9XK4FwlewF9_dimVtPZ1ZKKF3zrEGDIvMEz5wQj1OrBx9YS5WYgXhlwm","selfUid":"17281424988","fromCountry":"US","targetLoginId":"aliqatest01","selfBizDomain":"enaliint","senderNick":"enaliintaliqatest07","toAccIdE":"MC1IDX1wIlZ67IIg61pjEPrDUymMyLY-7anINFZGOEfT8lu5NZjzPQ2nuFnmIdDHf5rBN6O","receiverNick":"enaliintaliqatest01","toCountry":"CN","fromIdE":"8pctgRBMALOVaMP97BynsZrmd0cnkfDW","fromAccId":"101555804","selfLoginId":"aliqatest07","toName":"Caroline Marc","fromName":"ICBUtest aliqatestsevenseven","toIdE":"8pctgRBMALOVaMP97BynsZAKX2pgQEq7","toAccId":"200042360"}',target:'{"id":"17379911544","domain":"cntaobao"}'}}}},dl=ru.getInstance(),fl=eu.getInstance(),pl=Kc.getInstance(),ml=cl.getInstance(),gl=au.getInstance(),hl=new Ro("testService"),vl="2212489396268";function yl(e){void 0===e&&(e="cntaobao");var t=null,n=null;"icbu"===e?(t=Tu(ul,"contact"),n={fromAccIdE:"MC1IDX1KqrPNDTKY9sdiPT5UCpMMHyA2tT5vwgFxO4hEj9UPMANeQSnzrf-4ScaRMQnPjEK",fromAccId:"234976055",fromAliIdE:"MC1IDX19FXyif0k5WlNQjuccbpaJof0FzXSsApqUDZzn8et-xq7tHEMhl-tyzG2qG-KZVMq",accountIdEncrypt:"MC1IDX1HRQ_hwRsjl6rnU2E-m50Um0U5M73MhVBY2o93xre4KA39bB4FBNgKdyYJbXpFTdr",aliIdEncrypt:"MC1IDX1WvwWtw3k8Da7dsyiiDJXZnznG_W7H_kSiA0mH0hTm7oOr6skfvz0GMQkUY_zJDAh",accountId:"253420443",aliId:"2212489396268"}):(t=Tu(ll,"contact"),n={fromAccIdE:"MC1IDX1QQYgnVUP9XK4FwlewF9_dimVtPZ1ZKKF3zrEGDIvMEz5wQj1OrBx9YS5WYgXhlwm",aliId:"17379911544",fromCountry:"US",loginId:"aliqatest01",selfBizDomain:"enaliint",senderNick:"enaliintaliqatest07",accountIdEncrypt:"MC1IDX1wIlZ67IIg61pjEPrDUymMyLY-7anINFZGOEfT8lu5NZjzPQ2nuFnmIdDHf5rBN6O",receiverNick:"enaliintaliqatest01",toCountry:"CN",fromIdE:"8pctgRBMALOVaMP97BynsZrmd0cnkfDW",fromAccId:"101555804",selfLoginId:"aliqatest07",name:"Caroline Marc",fromName:"ICBUtest aliqatestsevenseven",loginIdEncrypt:"8pctgRBMALOVaMP97BynsZAKX2pgQEq7",accountId:"200042360"}),["accountId","accountIdEncrypt","loginId","loginIdEncrypt","name","fullPortrait","aliId","aliIdEncrypt"].forEach(function(r){t[r]!=n[r]&&hl.log("getTarget cntaobao not match:",e,r,t[r],n[r])})}function _l(){return bl.apply(this,arguments)}function bl(){return(bl=v()(T.a.mark(function e(){var t,n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,fl.getConversationListByPagination({count:500});case 1:return t=e.sent,hl.log("==== ws getConversationListPagination 20 %o",t),e.next=2,pl.getConversationListByPagination({count:500});case 2:n=e.sent,hl.log("==== http getConversationListPagination 20 %o",n),t.list.slice(0,11).forEach(function(e,t){var r=Object.keys(e),o=n.list.find(function(t){var n=e.cid.split("#")[0].split("-");return t.cid.indexOf(n[0])>-1&&t.cid.indexOf(n[1])>-1});o?r.forEach(function(n){var r=e[n],i=o[n];if(["contact","owner","latestMessage"].includes(n))"latestMessage"===n&&Object.keys(r).forEach(function(e){if("message"===e){var o=r[e],a=i[e];a?Object.keys(o).forEach(function(r){"object"!==typeof o[r]&&o[r]!==a[r]&&hl.log("======notmatch msg subKey,",t,n,e,r,o[r],a[r])}):hl.log("======notmatch msg subKey2222,",t,n,e)}else r[e]!==i[e]&&hl.log("======notmatchsubKey,",t,n,e,r[e],i[e])});else if("ext"===n);else if(r!==i)if("cid"===n){var a=r.split("#")[0].split("-");-1!==i.indexOf(a[0])&&-1!==i.indexOf(a[1])||hl.log("======notmatch,",t,n,r,i)}else["accountIdEncrypt","aliIdEncrypt","loginId","loginIdEncrypt","name"].includes(n)||hl.log("======notmatch,",t,n,r,i)}):hl.log("======notfind,",e.cid)}),hl.log("======end");case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function wl(){return Cl.apply(this,arguments)}function Cl(){return(Cl=v()(T.a.mark(function e(){var t,n,r,o,i,a,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return hl.log("=====test====="),t=null,n=null,r=null,t={targetId:vl},e.next=1,fl.createConversation(t);case 1:return n=e.sent,i=(o=n).cid,o.ext,a=i,hl.log("==== ws createConversation %o",n,i),e.next=2,fl.getConversationList(10);case 2:return n=e.sent,hl.log("==== ws getConversationList10 %o",n),e.next=3,pl.getConversationList(10);case 3:return r=e.sent,hl.log("==== http getConversationList10 %o",r),e.next=4,fl.getConversationListByPagination({count:3});case 4:return n=e.sent,hl.log("==== ws getConversationListPagination 3 %o",n),e.next=5,pl.getConversationListByPagination({count:3});case 5:return r=e.sent,hl.log("==== http getConversationListPagination 3 %o",r),t=r.filter(function(e){return!!e.accountId}).map(function(e){return{encryptAccountId:e.accountIdEncrypt,encryptAliId:e.aliIdEncrypt}}),e.next=6,pl.getConversationContactDetailList(t);case 6:return r=e.sent,hl.log("==== http getConversationContactDetailList %o",r),t={list:[{cid:i}]},e.next=7,fl.conversationMute(t,!0);case 7:return n=e.sent,hl.log("==== ws conversationMute %o",n),e.next=8,fl.conversationSetTop(t,!0);case 8:return n=e.sent,hl.log("==== ws conversationSetTop %o",n),t=i,e.next=9,fl.getConversation(t);case 9:return n=e.sent,hl.log("==== ws getConversation %o",n),t={list:[{cid:a}]},e.next=10,pl.conversationMute(t,!1);case 10:return n=e.sent,hl.log("==== http conversationMute %o",n),e.next=11,pl.conversationSetTop(t,!1);case 11:return n=e.sent,hl.log("==== http conversationSetTop %o",n),t=i,e.next=12,fl.getConversation(t);case 12:return n=e.sent,hl.log("==== ws getConversation %o",n),t={list:[{cid:a}]},e.next=13,pl.deleteConversations(t);case 13:return n=e.sent,hl.log("==== http deleteConversations %o",n),t={targetId:vl},e.next=14,fl.createConversation(t);case 14:return n=e.sent,t={cid:n.cid,content:"测试消息",msgType:1,ext:{chatScene:JSON.stringify({clientInfo:"web"})}},lu.context.cid=i,e.next=15,ml.sendUIMessages(t);case 15:return n=e.sent,hl.log("==== ws sendUIMessages %o",n,t),t={cid:a,content:"测试消息",msgType:1,ext:{chatScene:JSON.stringify({clientInfo:"web"})}},e.next=16,gl.sendUIMessages(t);case 16:return r=e.sent,hl.log("==== http sendUIMessages %o",r),s=r.opId,t={conversationCode:a,timeSlide:{forward:!0,pageSize:20,timeStamp:(new Date).getTime()-864e5}},e.next=17,ml.fetchMessages(t);case 17:return n=e.sent,hl.log("==== ws fetchMessages %o",n,t),e.next=18,gl.fetchMessages(t);case 18:return r=e.sent,hl.log("==== http fetchMessages %o",r),e.next=19,gl.recallMessage({uuid:s,opId:s,sendTime:0});case 19:return r=e.sent,hl.log("==== http recallMessage %o",r),e.next=20,gl.fetchMessages(t);case 20:r=e.sent,hl.log("==== http fetchMessages %o",r);case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tl(){return Sl.apply(this,arguments)}function Sl(){return(Sl=v()(T.a.mark(function e(){var t,n,r,o,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return hl.log("=====test====="),null,n=null,r=null,t={targetId:vl},e.next=1,fl.createConversation(t);case 1:return n=e.sent,i=(o=n).cid,o.ext,hl.log("==== ws createConversation %o",n,i),e.next=2,pl.getConversationList(1);case 2:r=e.sent,hl.log("==== http getConversationList %o",r);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function kl(){return Nl.apply(this,arguments)}function Nl(){return(Nl=v()(T.a.mark(function e(){var t,n,r,o,i,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return hl.log("=====test====="),null,n=null,r=null,t={targetId:vl},e.next=1,fl.createConversation(t);case 1:return n=e.sent,i=(o=n).cid,a=o.ext,hl.log("==== ws createConversation %o",n,i),e.next=2,pl.getConversationContactDetailList([a.custom.toAliIdE]);case 2:r=e.sent,hl.log("==== http getConversationContactDetailList %o",r);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ml(){return El.apply(this,arguments)}function El(){return(El=v()(T.a.mark(function e(){var t,n,r,o,i,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return hl.log("=====test====="),t=null,n=null,r=null,t={targetId:vl},e.next=1,fl.createConversation(t);case 1:return n=e.sent,i=(o=n).cid,o.ext,a=i,hl.log("==== ws createConversation %o",n,i),t={cid:a,content:"测试消息",msgType:1,ext:{chatScene:JSON.stringify({clientInfo:"web"})}},e.next=2,gl.sendUIMessages(t);case 2:r=e.sent,hl.log("==== http sendUIMessages %o",r);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ol(){return xl.apply(this,arguments)}function xl(){return(xl=v()(T.a.mark(function e(){var t,n,r,o,i,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return hl.log("=====test====="),t=null,n=null,r=null,t={targetId:vl},e.next=1,fl.createConversation(t);case 1:return n=e.sent,i=(o=n).cid,o.ext,a=i,hl.log("==== ws createConversation %o",n,i),t={conversationCode:a,timeSlide:{forward:!0,pageSize:20,timeStamp:(new Date).getTime()-864e5}},e.next=2,gl.fetchMessages(t);case 2:r=e.sent,hl.log("==== http fetchMessages %o",r);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Al(){return Il.apply(this,arguments)}function Il(){return(Il=v()(T.a.mark(function e(){var t,n,r,o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,n=null,r=null,t={conversationType:2,initMembers:(o={initMembers:[{uid:"2556077838",displayName:"cn1514584373mpdm",role:3},{uid:"4235710082",role:3,displayName:"cn1524857901snge"},{uid:"17281424988",role:1,displayName:"aliqatest07"},{uid:"17380523214",role:3,displayName:"allin01"},{uid:"2213324897736",role:3,displayName:"errortest"}],defaultTitle:"april测试群",icon:"https://img.alicdn.com/imgextra/i4/O1CN01Gubxt11GCtBoFEUlX_!!6000000000587-2-tps-64-16.png"}).initMembers,defaultTitle:o.defaultTitle,icon:o.icon},e.next=1,fl.createConversation(t).catch(function(e){console.log(e)});case 1:return n=e.sent,hl.log("创建新群聊会话 %o",n),r=n.cid,e.next=2,fl.updateGroupTitle(r,"aprilgourp2");case 2:return n=e.sent,hl.log("updateGroupTitle %o",n),e.next=3,fl.updateGroupIcon(r,"https://img.alicdn.com/imgextra/i2/O1CN01FokJd11eMYK0w7k5C_!!6000000003857-2-tps-28-28.png");case 3:return n=e.sent,hl.log("updateGroupIcon %o",n),t={conversationCode:r,content:"群消息测试",ext:{icbuSource:"pwa",chatScene:JSON.stringify({clientInfo:"web",ip:"pwa",bizType:1})}},e.next=4,fl.getConversation(r);case 4:return n=e.sent,hl.log("==== ws getConversation %o",n),e.next=5,ml.sendUIMessages(t);case 5:return n=e.sent,hl.log("发消息群聊会话 %o",n),e.next=6,pl.listGroupMemberDetails("");case 6:return n=e.sent,hl.log("群成员列表详情mock数据 %o",n),e.next=7,fl.listGroupMembers(r);case 7:return n=e.sent,hl.log("群成员列表 %o",n),e.next=8,fl.joinGroup(r,[{uid:"17379911544",role:3,displayName:"aliqatest01"}]);case 8:return n=e.sent,hl.log("群加人 %o",n),e.next=9,fl.listGroupMembers(r);case 9:return n=e.sent,hl.log("群成员列表 %o",n),t={list:[{cid:r}]},e.next=10,fl.conversationMute(t,!0);case 10:return n=e.sent,hl.log("==== ws conversationMute %o",n),e.next=11,fl.conversationSetTop(t,!0);case 11:return n=e.sent,hl.log("==== ws conversationSetTop %o",n),e.next=12,fl.kickGroup(r,[{uid:"17379911544",role:3,displayName:"aliqatest01"}]);case 12:return n=e.sent,hl.log("群T人 %o",n),e.next=13,fl.listGroupMembers(r);case 13:return n=e.sent,hl.log("群成员列表 %o",n),e.next=14,fl.dismissGroup(r);case 14:return n=e.sent,hl.log("群解散 %o",n),e.next=15,fl.listGroupMembers(r);case 15:n=e.sent,hl.log("群成员列表 %o",n);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pl(e){return Rl.apply(this,arguments)}function Rl(){return(Rl=v()(T.a.mark(function e(t){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,dl.listGroupMemberDetails(t);case 1:return n=e.sent,hl.log("==== listGroupMemberDetails %o",n),e.abrupt("return",n);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Dl(){return Ul.apply(this,arguments)}function Ul(){return(Ul=v()(T.a.mark(function e(){var t,n,r,o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null,n=null,r=null,t={conversationType:2,initMembers:(o={initMembers:[{uid:"2556077838",displayName:"cn1514584373mpdm",role:3},{uid:"4235710082",role:1,displayName:"cn1524857901snge"},{uid:"17281424988",role:3,displayName:"aliqatest07"}],defaultTitle:"april测试群",icon:"https://img.alicdn.com/imgextra/i4/O1CN01Gubxt11GCtBoFEUlX_!!6000000000587-2-tps-64-16.png"}).initMembers,defaultTitle:o.defaultTitle,icon:o.icon},e.next=1,fl.createConversation(t);case 1:return n=e.sent,hl.log("创建新群聊会话 %o",n),r=n.cid,e.next=2,fl.listGroupMemberDetails(r);case 2:return n=e.sent,hl.log("==== listGroupMemberDetails %o",n),e.abrupt("return",n);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var jl=n(243),Ll=l,Fl=Ro,Bl=Fs,ql=Ho,Gl=J.a,Vl=cl,Wl=eu,Hl=ys,Yl=hc,zl=ac,Jl=function(){function e(){this.sdkVersion=jl.version}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.getAuthService=function(){return lu.getAuthService()},t.getConversationService=function(){return lu.getConversationService()},t.getConversationServiceV2=function(){return lu.getConversationServiceV2()},t.getConversationServiceHttp=function(){return lu.getConversationServiceHttp()},t.getContactService=function(){return lu.getContactService()},t.getMessageService=function(){return lu.getMessageService()},t.getMessageServiceV2=function(){return lu.getMessageServiceV2()},t.getMessageServiceHttp=function(){return lu.getMessageServiceHttp()},t.getSettingService=function(){return lu.getSettingService()},t.getEventService=function(){return lu.getEventService()},t.getImageCacheService=function(){return Mc.getInstance()},g()(e,[{key:"test",get:function(){return p}},{key:"context",get:function(){return lu.context}}])}();Jl.instance=void 0,window._imBaaSSDK=window._imBaaSSDK||Jl.getInstance();var $l=Jl.getInstance();t.default=$l},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={statusCode:n(16).a.APINotFound,type:"result"}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={statusCode:n(17).a.APINotFound,type:"result"}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={statusCode:n(18).a.APINotFound,type:"result"}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={statusCode:n(19).a.APINotFound,type:"result"}},function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",function(){return o})},function(e,t,n){(function(t){var n="__lodash_hash_undefined__",r="[object Function]",o="[object GeneratorFunction]",i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,s=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,l=/^\[object .+?Constructor\]$/,d="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=d||f||Function("return this")();var m,g=Array.prototype,h=Function.prototype,v=Object.prototype,y=p["__core-js_shared__"],_=(m=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",b=h.toString,w=v.hasOwnProperty,C=v.toString,T=RegExp("^"+b.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=p.Symbol,k=g.splice,N=j(p,"Map"),M=j(Object,"create"),E=S?S.prototype:void 0,O=E?E.toString:void 0;function x(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function I(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function P(e,t){for(var n=e.length;n--;)if(q(e[n][0],t))return n;return-1}function R(e,t){var n;t=function(e,t){if(G(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||W(e))return!0;return a.test(e)||!i.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:G(n=t)?n:L(n);for(var r=0,o=t.length;null!=e&&r<o;)e=e[F(t[r++])];return r&&r==o?e:void 0}function D(e){if(!V(e)||(t=e,_&&_ in t))return!1;var t,n=function(e){var t=V(e)?C.call(e):"";return t==r||t==o}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?T:l;return n.test(function(e){if(null!=e){try{return b.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function U(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function j(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return D(n)?n:void 0}x.prototype.clear=function(){this.__data__=M?M(null):{}},x.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},x.prototype.get=function(e){var t=this.__data__;if(M){var r=t[e];return r===n?void 0:r}return w.call(t,e)?t[e]:void 0},x.prototype.has=function(e){var t=this.__data__;return M?void 0!==t[e]:w.call(t,e)},x.prototype.set=function(e,t){return this.__data__[e]=M&&void 0===t?n:t,this},A.prototype.clear=function(){this.__data__=[]},A.prototype.delete=function(e){var t=this.__data__,n=P(t,e);return!(n<0)&&(n==t.length-1?t.pop():k.call(t,n,1),!0)},A.prototype.get=function(e){var t=this.__data__,n=P(t,e);return n<0?void 0:t[n][1]},A.prototype.has=function(e){return P(this.__data__,e)>-1},A.prototype.set=function(e,t){var n=this.__data__,r=P(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},I.prototype.clear=function(){this.__data__={hash:new x,map:new(N||A),string:new x}},I.prototype.delete=function(e){return U(this,e).delete(e)},I.prototype.get=function(e){return U(this,e).get(e)},I.prototype.has=function(e){return U(this,e).has(e)},I.prototype.set=function(e,t){return U(this,e).set(e,t),this};var L=B(function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(W(e))return O?O.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return s.test(e)&&n.push(""),e.replace(c,function(e,t,r,o){n.push(r?o.replace(u,"$1"):t||e)}),n});function F(e){if("string"==typeof e||W(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function B(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(B.Cache||I),n}function q(e,t){return e===t||e!==e&&t!==t}B.Cache=I;var G=Array.isArray;function V(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function W(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==C.call(e)}e.exports=function(e,t,n){var r=null==e?void 0:R(e,t);return void 0===r?n:r}}).call(this,n(9))},function(e,t,n){"use strict";class r extends Error{constructor(e){super(r._prepareSuperMessage(e)),Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(this,r)}static _prepareSuperMessage(e){try{return JSON.stringify(e)}catch(t){return String(e)}}}const o=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],i=({from:e,seen:t,to_:n,forceEnumerable:r})=>{const a=n||(Array.isArray(e)?[]:{});t.push(e);for(const[n,o]of Object.entries(e))"function"!==typeof o&&(o&&"object"===typeof o?t.includes(e[n])?a[n]="[Circular]":a[n]=i({from:e[n],seen:t.slice(),forceEnumerable:r}):a[n]=o);for(const{property:t,enumerable:n}of o)"string"===typeof e[t]&&Object.defineProperty(a,t,{value:e[t],enumerable:!!r||n,configurable:!0,writable:!0});return a};e.exports={serializeError:e=>"object"===typeof e&&null!==e?i({from:e,seen:[],forceEnumerable:!0}):"function"===typeof e?`[Function: ${e.name||"anonymous"}]`:e,deserializeError:e=>{if(e instanceof Error)return e;if("object"===typeof e&&null!==e&&!Array.isArray(e)){const t=new Error;return i({from:e,seen:[],to_:t}),t}return new r(e)}}},function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}function o(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}n.d(t,"b",function(){return m}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return u});var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&o(e),c=t&&o(t),u=s||c;if(e&&o(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var d=0,f=a.length;f>=0;f--){var p=a[f];"."===p?i(a,f):".."===p?(i(a,f),d++):d&&(i(a,f),d--)}if(!u)for(;d--;d)a.unshift("..");!u||""===a[0]||a[0]&&o(a[0])||a.unshift("");var m=a.join("/");return n&&"/"!==m.substr(-1)&&(m+="/"),m};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var c=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});if("object"===typeof t||"object"===typeof n){var r=s(t),o=s(n);return r!==t||o!==n?e(r,o):Object.keys(Object.assign({},t,n)).every(function(r){return e(t[r],n[r])})}return!1};function u(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function l(e,t,n,o){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=r({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),o?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=a(i.pathname,o.pathname)):i.pathname=o.pathname:i.pathname||(i.pathname="/"),i}function d(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&c(e.state,t.state)}function f(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"===typeof e?e(t,n):e;"string"===typeof i?"function"===typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}"undefined"===typeof window||!window.document||window.document.createElement;function p(e,t,n){return Math.min(Math.max(e,t),n)}function m(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,o=t.initialEntries,i=void 0===o?["/"]:o,a=t.initialIndex,s=void 0===a?0:a,c=t.keyLength,d=void 0===c?6:c,m=f();function g(e){r(w,e),w.length=w.entries.length,m.notifyListeners(w.location,w.action)}function h(){return Math.random().toString(36).substr(2,d)}var v=p(s,0,i.length-1),y=i.map(function(e){return l(e,void 0,"string"===typeof e?h():e.key||h())}),_=u;function b(e){var t=p(w.index+e,0,w.entries.length-1),r=w.entries[t];m.confirmTransitionTo(r,"POP",n,function(e){e?g({action:"POP",location:r,index:t}):g()})}var w={length:y.length,action:"POP",location:y[v],index:v,entries:y,createHref:_,push:function(e,t){var r="PUSH",o=l(e,t,h(),w.location);m.confirmTransitionTo(o,r,n,function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,o):n.push(o),g({action:r,location:o,index:t,entries:n})}})},replace:function(e,t){var r="REPLACE",o=l(e,t,h(),w.location);m.confirmTransitionTo(o,r,n,function(e){e&&(w.entries[w.index]=o,g({action:r,location:o}))})},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),m.setPrompt(e)},listen:function(e){return m.appendListener(e)}};return w}},function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}function o(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}n.d(t,"b",function(){return m}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return u});var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&o(e),c=t&&o(t),u=s||c;if(e&&o(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var d=0,f=a.length;f>=0;f--){var p=a[f];"."===p?i(a,f):".."===p?(i(a,f),d++):d&&(i(a,f),d--)}if(!u)for(;d--;d)a.unshift("..");!u||""===a[0]||a[0]&&o(a[0])||a.unshift("");var m=a.join("/");return n&&"/"!==m.substr(-1)&&(m+="/"),m};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var c=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});if("object"===typeof t||"object"===typeof n){var r=s(t),o=s(n);return r!==t||o!==n?e(r,o):Object.keys(Object.assign({},t,n)).every(function(r){return e(t[r],n[r])})}return!1};function u(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function l(e,t,n,o){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=r({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),o?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=a(i.pathname,o.pathname)):i.pathname=o.pathname:i.pathname||(i.pathname="/"),i}function d(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&c(e.state,t.state)}function f(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"===typeof e?e(t,n):e;"string"===typeof i?"function"===typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}"undefined"===typeof window||!window.document||window.document.createElement;function p(e,t,n){return Math.min(Math.max(e,t),n)}function m(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,o=t.initialEntries,i=void 0===o?["/"]:o,a=t.initialIndex,s=void 0===a?0:a,c=t.keyLength,d=void 0===c?6:c,m=f();function g(e){r(w,e),w.length=w.entries.length,m.notifyListeners(w.location,w.action)}function h(){return Math.random().toString(36).substr(2,d)}var v=p(s,0,i.length-1),y=i.map(function(e){return l(e,void 0,"string"===typeof e?h():e.key||h())}),_=u;function b(e){var t=p(w.index+e,0,w.entries.length-1),r=w.entries[t];m.confirmTransitionTo(r,"POP",n,function(e){e?g({action:"POP",location:r,index:t}):g()})}var w={length:y.length,action:"POP",location:y[v],index:v,entries:y,createHref:_,push:function(e,t){var r="PUSH",o=l(e,t,h(),w.location);m.confirmTransitionTo(o,r,n,function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,o):n.push(o),g({action:r,location:o,index:t,entries:n})}})},replace:function(e,t){var r="REPLACE",o=l(e,t,h(),w.location);m.confirmTransitionTo(o,r,n,function(e){e&&(w.entries[w.index]=o,g({action:r,location:o}))})},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),m.setPrompt(e)},listen:function(e){return m.appendListener(e)}};return w}},function(e,t,n){var r=n(192);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r,o="object"===typeof Reflect?Reflect:null,i=o&&"function"===typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"===typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"===typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}v(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,o,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var o,i,a,s;if(u(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"===typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=l(e))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=f.bind(r);return o.listener=n,r.wrapFn=o,o}function m(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"===typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):h(o,o.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function o(i){r.once&&e.removeEventListener(t,o),n(i)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"===typeof c)i(c,this,t);else{var u=c.length,l=h(c,u);for(n=0;n<u;++n)i(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,i,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return m(this,e,!0)},s.prototype.rawListeners=function(e){return m(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},,,,function(e,t,n){var r=n(579),o=n(582);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var r=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.checkLogin=function(){var e=document.cookie;return e&&-1!==e.indexOf("sign=y")},t.createIdleExcutor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=function(o){n.length>0&&(o.timeRemaining()>t||o.didTimeout?n.shift()():requestIdleCallback(r,{timeout:e}))};return function(t){n.push(t),requestIdleCallback(r,{timeout:e})}},t.decodeHTML=function(e){if("string"!==typeof e)return e;return e=(e=(e=(e=(e=e.replace(/&lt;|&#60;/g,"<")).replace(/&gt;|&#62;/g,">")).replace(/&apos;|&#39;/g,"'")).replace(/&quot;|&#34;/g,'"')).replace(/&amp;|&#38;/g,"&")},t.encodeHTML=function(e){if(0===e.length)return"";return e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&#39;")).replace(/"/g,"&quot;")},t.getBrowser=function(){var e=navigator.userAgent.toLowerCase(),t={},n={IE:window.ActiveXObject||"ActiveXObject"in window,Chrome:e.indexOf("chrome")>-1&&e.indexOf("safari")>-1,Firefox:e.indexOf("firefox")>-1,Opera:e.indexOf("opera")>-1,Safari:e.indexOf("safari")>-1&&-1==e.indexOf("chrome"),Edge:e.indexOf("edge")>-1,QQBrowser:/qqbrowser/.test(e),WeixinBrowser:/MicroMessenger/i.test(e)};for(var r in n)if(n[r]){var o="";if("IE"==r)o=e.match(/(msie\s|trident.*rv:)([\w.]+)/)[2];else if("Chrome"==r){for(var i in navigator.mimeTypes)"application/360softmgrplugin"==navigator.mimeTypes[i].type&&(r="360");o=e.match(/chrome\/([\d.]+)/)[1]}else"Firefox"==r?o=e.match(/firefox\/([\d.]+)/)[1]:"Opera"==r?o=e.match(/opera\/([\d.]+)/)[1]:"Safari"==r?o=e.match(/version\/([\d.]+)/)[1]:"Edge"==r?o=e.match(/edge\/([\d.]+)/)[1]:"QQBrowser"==r&&(o=e.match(/qqbrowser\/([\d.]+)/)[1]);t.type=r,t.versions=parseInt(o)}return t},t.getHashCode=function(e){var t=0;if(!e)return t;for(var n=0;n<e.length;n++)t=31*t+e.charCodeAt(n),t&=4294967295;return t},t.getLinkVars=function(e){var t={};return e.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,n,r){t[n]=r}),t},t.hmsFormat=function(e,t){return(0,o.default)(e).format("HH:mm:ss")},t.json2Querystring=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object.keys(e).map(function(n){return n+"="+(t?encodeURIComponent(e[n]):e[n])}).join("&")},t.querystring2Json=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={};return e.replace(/([^?&]+)=([^?&]+)/g,function(e,r,o){return t?n[decodeURIComponent(r)]=decodeURIComponent(o):n[r]=o,o+"="+r}),n},t.safetyStringify=t.safetyParse=void 0,t.sleep=i,t.uniqueArray=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.from(new Set(e))},t.uniqueJsonArray=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n={};return e.reduce(function(e,r){return n[r[t]]||(n[r[t]]=!0,e.push(r)),e},[])},t.yieldMain=function(){return i(0)};var o=r(n(104));n(155);t.safetyStringify=function(e){if("string"===typeof e)return e;if(e instanceof Error)try{return JSON.stringify(e,Object.getOwnPropertyNames(e))}catch(e){return""}var t;try{t=JSON.stringify(e)}catch(e){t=""}return t},t.safetyParse=function(e){if(!e)return e;var t={};if("string"===typeof e)try{t=JSON.parse(e)}catch(n){t=e}else t=e;return t};function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){setTimeout(t,e)})}},,function(e,t,n){"use strict";function r(){let e={};return"undefined"!==typeof __wormhole__&&(e.feloader=__wormhole__.feloader,e.system=__wormhole__.system,e.data=__wormhole__.data,e.http=__wormhole__.http,e.rewrite=__wormhole__.rewrite,e.redirect=__wormhole__.redirect,"undefined"!==typeof __wormhole_extend__&&(e.hsfClient=__wormhole_extend__.hsfClient,e.mtopEvent=__wormhole_extend__.mtopEvent,e.logger=__wormhole_extend__.logger,e.performance=__wormhole_extend__.performance,e.sleep=__wormhole_extend__.sleep,e.eagleeye=__wormhole_extend__.eagleeye)),e}let o={};"undefined"!==typeof __wormhole__?(o=r(),o.getContext=()=>r()):o.getContext=()=>{},e.exports=o},function(e,t,n){"use strict";function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(28);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},function(e,t,n){"use strict";function r(){let e={};return"undefined"!==typeof __wormhole__&&(e.feloader=__wormhole__.feloader,e.system=__wormhole__.system,e.data=__wormhole__.data,e.http=__wormhole__.http,e.rewrite=__wormhole__.rewrite,e.redirect=__wormhole__.redirect,"undefined"!==typeof __wormhole_extend__&&(e.hsfClient=__wormhole_extend__.hsfClient,e.mtopEvent=__wormhole_extend__.mtopEvent,e.logger=__wormhole_extend__.logger,e.performance=__wormhole_extend__.performance,e.sleep=__wormhole_extend__.sleep,e.eagleeye=__wormhole_extend__.eagleeye)),e}let o={};"undefined"!==typeof __wormhole__?(o=r(),o.getContext=()=>r()):o.getContext=()=>{},e.exports=o},function(e,t,n){"use strict";function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(29);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},function(e,t,n){"use strict";function r(){let e={};return"undefined"!==typeof __wormhole__&&(e.feloader=__wormhole__.feloader,e.system=__wormhole__.system,e.data=__wormhole__.data,e.http=__wormhole__.http,e.rewrite=__wormhole__.rewrite,e.redirect=__wormhole__.redirect,"undefined"!==typeof __wormhole_extend__&&(e.hsfClient=__wormhole_extend__.hsfClient,e.mtopEvent=__wormhole_extend__.mtopEvent,e.logger=__wormhole_extend__.logger,e.performance=__wormhole_extend__.performance,e.sleep=__wormhole_extend__.sleep,e.eagleeye=__wormhole_extend__.eagleeye)),e}let o={};"undefined"!==typeof __wormhole__?(o=r(),o.getContext=()=>r()):o.getContext=()=>{},e.exports=o},function(e,t,n){"use strict";function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(30);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},function(e,t,n){"use strict";function r(){let e={};return"undefined"!==typeof __wormhole__&&(e.feloader=__wormhole__.feloader,e.system=__wormhole__.system,e.data=__wormhole__.data,e.http=__wormhole__.http,e.rewrite=__wormhole__.rewrite,e.redirect=__wormhole__.redirect,"undefined"!==typeof __wormhole_extend__&&(e.hsfClient=__wormhole_extend__.hsfClient,e.mtopEvent=__wormhole_extend__.mtopEvent,e.logger=__wormhole_extend__.logger,e.performance=__wormhole_extend__.performance,e.sleep=__wormhole_extend__.sleep,e.eagleeye=__wormhole_extend__.eagleeye)),e}let o={};"undefined"!==typeof __wormhole__?(o=r(),o.getContext=()=>r()):o.getContext=()=>{},e.exports=o},function(e,t,n){"use strict";function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(31);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},function(e,t,n){"use strict";var r=n(483);function o(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==o(e)&&("function"===typeof(t=e.constructor)&&(!1!==o(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=!0,o="Invariant failed";function i(e,t){if(!e){if(r)throw new Error(o);var n="function"===typeof t?t():t,i=n?"".concat(o,": ").concat(n):o;throw new Error(i)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=!0,o="Invariant failed";function i(e,t){if(!e){if(r)throw new Error(o);var n="function"===typeof t?t():t,i=n?"".concat(o,": ").concat(n):o;throw new Error(i)}}},function(e,t,n){"use strict";var r=n(14),o=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.currentUser=function(){var e,t,n=null!==(e=null===(t=window.GDATA)||void 0===t?void 0:t.user)&&void 0!==e?e:{},r=n.memberId||window.currentUserAccountId;r||(0,f.default)({ext:"noAccountId"});var o="true"===window.ifmMember||!!n.isOverseaFreeMember;return{accountId:r,loginId:m,isBuyer:o}},t.getAccountId=function(){return window.currentUserAccountId||a.default.getAccountId()},t.getAccountIdAsync=function(){return y.apply(this,arguments)},t.getAccountType=function(){var e,t=l.get("xman_us_f"),n=(0,d.querystring2Json)(t).x_user,r=void 0===n?"":n;if(r){e=r.split("|")[3]||""}return e},t.getAliId=function(){return window.aliId},t.getAliIdAsync=function(){return _.apply(this,arguments)},t.getAvatarBackground=function(e){return u.isSellerPWA?"#5369D7":["#50E3C2","#FE5D59","#FF9A59","#FFDD59","#59DBFF","#5966FF","#59ABFD","#FE5977","#5A8EFF","#A559FF","#50E3C2","#D84C4C"][Math.abs((0,d.getHashCode)(e)%12)]},t.getBuyerLocal=function(){var e=/sc_g_cfg_f=*.+?(sc_b_site=*.+?)[&;]/.exec(document.cookie);if(e)return e[1].split("=")[1];return null},t.getBuyerLocale=function(){var e=/(sc_b_locale=*.+?)[&]/.exec(document.cookie),t=e&&e[1]&&e[1].slice(12)||"";return{lang:(t=t.split("_"))[0]||"en",country:t[1]||"US"}},t.getDeviceId=function(){return l.get("cna")},t.getDisplayName=function(){var e=b();return"".concat(e,"  ").concat(w())},t.getFirstName=b,t.getLastName=w,t.getLocale=function(){var e,t=/intl_locale=*.+?[&;]/.exec(document.cookie),n=t&&t[0]&&t[0].slice(12)||"";if(!n)return{lang:"zh",country:"CN"};var r=(n=n.split("_"))[0]||"zh",o=(null===(e=n[1])||void 0===e?void 0:e.replace(";",""))||"CN";return{lang:r,country:o}},t.getLoginId=function(){return window.currentUserLoginId||a.default.getLoginId()},t.getLoginIdAsync=h;var i=r(n(1)),a=r(n(190)),s=n(94),c=p(n(35)),u=n(122),l=p(n(175)),d=n(55),f=r(n(33));function p(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(p=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,s={__proto__:null,default:e};if(null===e||"object"!=o(e)&&"function"!=typeof e)return s;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,s)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(a.get||a.set)?i(s,c,a):s[c]=e[c]);return s})(e,t)}var m,g=new c.Logger("list-saas-model");function h(){return v.apply(this,arguments)}function v(){return(v=(0,i.default)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.isWorkbench){e.next=2;break}return e.next=1,c.default.getMessageService().getCurrentLoginID().catch(function(e){g.log(e)});case 1:return t=e.sent,e.abrupt("return",t.loginId);case 2:return e.abrupt("return",window.currentUserLoginId||a.default.getLoginId());case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(){return(y=(0,i.default)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.isWorkbench){e.next=2;break}return e.next=1,getMessageService().getCurrentProfile().catch(function(e){g.log(e)});case 1:return t=e.sent,e.abrupt("return",t.accountId);case 2:return e.abrupt("return",window.currentUserAccountId||a.default.getAccountId());case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(){return(_=(0,i.default)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.isWorkbench){e.next=2;break}return e.next=1,getMessageService().getCurrentAliId().catch(function(e){g.log(e)});case 1:return t=e.sent,e.abrupt("return",t.aliId);case 2:return e.abrupt("return",window.aliId);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(){var e=l.get("xman_us_f"),t=/x_user=([^&"]+)/,n="";return e&&t.test(e)&&(e.match(t),(e=RegExp.$1)&&(e=e.split("|"))&&e[1]&&(n=e[1].replace(/</g,"&lt;").replace(/>/g,"&gt;"))),n}function w(){var e=l.get("xman_us_f"),t=/x_user=([^&"]+)/,n="";return e&&t.test(e)&&(e.match(t),(e=(e=RegExp.$1).split("|"))&&e[2]&&(n=e[2].replace(/</g,"&lt;").replace(/>/g,"&gt;"))),n}g.color("#228B22"),h().then(function(e){m=e})},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){t.aplus_universal=n(2),t.AplusWeb=n(7),t.AplusWeex=n(10),t.AplusWindmill=n(13),t.AplusWindmillAlipay=n(14),t.AplusWindmillAppx=n(17)},function(e,t,n){(function(t){"use strict";var r,o,i,a,s=n(3),c=n(4),u=c.isWeex,l=c.isWeb,d=c.isWeChatMiniProgram;try{r=my}catch(e){}try{o=wx}catch(e){}try{i=tt}catch(e){}try{a=swan}catch(e){}var f=r||o||i||a,p=!1;"object"==typeof f&&(p=!(!f.request&&!f.httpRequest||!f.getSystemInfo));var m,g={AplusWeb:n(7),AplusWeex:n(10),AplusWindmill:n(13),AplusWindmillAlipay:n(14),Common:n(8)},h=function(){if(u)return"AplusWeex";if(d)return"AplusWindmillAlipay";if(l)return"AplusWeb";if(p)return s.isTB()?"AplusWindmill":"AplusWindmillAlipay";try{t.window||(t.window={})}catch(e){}return"Common"}();try{var v=g[h=h||"Common"];m=s.createGoldlogInstance(v)}catch(e){console&&console.log(e),m={}}e.exports=m}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){for(var t=[],n=0;n<e.length;n++){var r=e[n][0],o=e[n][1];t.push(r+"="+encodeURIComponent(o))}return t.join("&")}function r(){var e=function(){},t={getSystemInfo:e,setStorageSync:e,getStorage:e},n=t;try{n=dd}catch(e){try{n=my}catch(e){try{n=ks}catch(e){try{n=wx}catch(e){try{n=tt}catch(e){try{n=swan}catch(e){n=t}}}}}}return n}t.getAplusUniversalVersion=function(){return"4.8.6"},t.paramsToObj=function(e){for(var t={},n=(e="string"==typeof e?e:"").split("&"),r=0;r<n.length;r++){var o=n[r],i=o.split("="),a=i[0],s="";if(2===i.length)s=i[1];else if(i.length>2){var c=o.indexOf("=");s=o.slice(c+1)}a&&(t[a]=s)}return t},t.objToParams=function(e,t){var n=[];for(var r in e){var o=r,i=t?encodeURIComponent(e[r]):e[r];n.push(o+"="+i)}return n.join("&")},t.getParamFromURL=function(e,t){var n="";(t||(t="spm"),e)&&(e.split("?")[1]||"").split("&").forEach(function(e){0===e.indexOf(t+"=")&&(n=e.substr(t.length+1))});return n},t.simplifyURL=function(e){e||(e="");var t="_wx_tpl=";return e.indexOf(t)>-1&&(e=e.substring(e.indexOf(t)+8,e.indexOf(".js")+3)),e.split("?")[0]},t.getLocation=function(){var e;try{e=location||{}}catch(t){e={}}return e},t.getCurrentPage=function(){var e=getCurrentPages();return e[e.length-1]||{}},t.getPVLogUrl=function(e){var t="";return t=/^\/\/\w+/.test(e)?"https:"+e:"https://"+e,/\w+\.gif$/.test(e)||(t+="/vx.gif"),t},t.getEtagUrl=function(e){return(/^\/\/\w+/.test(e)?"https:"+e:"https://"+e)+"/eg.js"},t.getGoldlogUrl=function(e){return/^\/\/\w+/.test(e)?"https:"+e:"https://"+e},t.makeCacheNum=function(){return Math.floor(268435456*Math.random()).toString(16)},t.makeUrl=function(e){return[e.preParams?n(e.preParams):"","&aplus&",e.endParams?n(e.endParams):""].join("")},t.hostValidity=function(e){return/^(\/\/){0,1}(\w+\.){1,}\w+((\/\w+){1,})?$/.test(e)},t.vhostValidity=function(e){return/^(\/\/){0,1}(\w+\.){1,}\w+\/\w+\.gif$/.test(e)},t.getContext=r,t.getAppInfo=function(){var e={};return function(){if(e.appId)return e;try{var t=r();if(t.getAccountInfoSync&&t.canIUse("getAccountInfoSync")){var n=t.getAccountInfoSync(),o=n.miniProgram||{},i=n.plugin||{};e.appId=o.appId,e.appVersion=o.version||o.envVersion,e.pluginAppId=i.appId,e.pluginAppVersion=i.version}else if(t.getAppIdSync&&t.canIUse("getAppIdSync")){var a=t.getAppIdSync()||{};e.appId=a.appId||""}}catch(e){}return e}}(),t.isTriver=function(){try{var e=navigator?navigator.userAgent||navigator.swuserAgent:"";return/Triver/g.test(e)}catch(e){return!1}},t.isTB=function(){var e=!1;try{var t=navigator?navigator.userAgent||navigator.swuserAgent:"";if(e=!!/AliApp/i.test(t),/AliApp\((AP|DingTalk|AMAP|UC|QUARK)/i.test(t)&&(e=!1),e){var n=r();"function"==typeof n.canIUse&&(e=!!n.canIUse("callUserTrack"))}}catch(e){}return e};var o={CLK:{name:"click",alias:"CLK",id:"2101"},EXP:{name:"expose",alias:"EXP",id:"2201"},IMPEXP:{name:"expose",alias:"IMPEXP",id:"2202"},OTHER:{name:"other",alias:"OTHER",id:"19999"}};t.getGmObj=function(e){var t=o[e]||o.OTHER;if("19999"===t.id)try{var n=parseInt(e);if(n+""!="NaN"&&n>3e3&&n<19999){var r=e+"";t={name:r,alias:r,id:r}}}catch(e){}return t},t.createGoldlogInstance=function(e,t){var n="object"==typeof t?t:{};return e.default?e.default.create(n):e.create(n)},t.parseOS=function(e){var t="";return e&&(t={iphone:"ios",ipad:"ios",ios:"ios",android:"andr",yunos:"yun",wp:"wp",linux:"linux",unix:"unix",macos:"mac",windows:"win"}[e.toLowerCase()]||""),t},t.getRandomId=function(e){function t(e){return 1===e?"0123456789abcdefhijklmnopqrstuvwxyzABCDEFHIJKLMNOPQRSTUVWXYZ".substr(Math.floor(60*Math.random()),1):2===e?"0123456789abcdefghijkmnopqrstuvwxyzABCDEFGHIJKMNOPQRSTUVWXYZ".substr(Math.floor(60*Math.random()),1):"0"}for(var n,r="",o=!1;r.length<e;)n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".substr(Math.floor(62*Math.random()),1),!o&&r.length<=2&&("g"===n.toLowerCase()||"l"===n.toLowerCase())&&(0===r.length&&"g"===n.toLowerCase()?Math.random()<.5&&(n=t(1),o=!0):1===r.length&&"l"===n.toLowerCase()&&"g"===r.charAt(0).toLowerCase()&&(n=t(2),o=!0)),r+=n;return r}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||(t[e]=r[e]))})},function(e,t,n){(function(e,n){"use strict";t.__esModule=!0,t.default=t.isQuickApp=t.isWeChatMiniProgram=t.isKuaiShouMiniProgram=t.isBaiduSmartProgram=t.isByteDanceMicroApp=t.isMiniApp=t.isKraken=t.isWeex=t.isNode=t.isWeb=void 0;var r="undefined"!=typeof window&&"onload"in window;t.isWeb=r;var o="undefined"!=typeof e&&!(!e.versions||!e.versions.node);t.isNode=o;var i="undefined"!=typeof WXEnvironment&&"Web"!==WXEnvironment.platform;t.isWeex=i;var a="undefined"!=typeof __kraken__;t.isKraken=a;var s="undefined"!=typeof my&&null!==my&&"undefined"!=typeof my.alert;t.isMiniApp=s;var c="undefined"!=typeof tt&&null!==tt&&"undefined"!=typeof tt.showToast;t.isByteDanceMicroApp=c;var u="undefined"!=typeof swan&&null!==swan&&"undefined"!=typeof swan.showToast;t.isBaiduSmartProgram=u;var l="undefined"!=typeof ks&&null!==ks&&"undefined"!=typeof ks.showToast;t.isKuaiShouMiniProgram=l;var d=!c&&"undefined"!=typeof wx&&null!==wx&&("undefined"!=typeof wx.request||"undefined"!=typeof wx.miniProgram);t.isWeChatMiniProgram=d;var f="undefined"!=typeof n&&null!==n&&"undefined"!=typeof n.callNative&&!i;t.isQuickApp=f;var p={isWeb:r,isNode:o,isWeex:i,isKraken:a,isMiniApp:s,isByteDanceMicroApp:c,isBaiduSmartProgram:u,isKuaiShouMiniProgram:l,isWeChatMiniProgram:d,isQuickApp:f};t.default=p}).call(t,n(6),function(){return this}())},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(){m&&f&&(m=!1,f.length?p=f.concat(p):g=-1,p.length&&a())}function a(){if(!m){var e=o(i);m=!0;for(var t=p.length;t;){for(f=p,p=[];++g<t;)f&&f[g].run();g=-1,t=p.length}f=null,m=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var u,l,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var f,p=[],m=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||m||o(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(3).objToParams,o=n(8).extend({_ENV:"Web",setPageSPM:function(e,t,n){this.spmAB=[e,t],(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.setPageSPM",arguments:[e,t]}),"function"==typeof n&&n()},getPageSPM:function(){return this.spmAB},getPageSPMStr:function(){return this.spmAB.join(".")},record:function(e,t,n,o){return n="string"==typeof n?n:r(n,!0),n=this.getUserInjectGokey({logkey:e,gmkey:t,gokey:n}),(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:[e,t,n,o||"POST"]}),!0},combineRecord:function(e,t,n,r){return(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.combineRecord",arguments:[e,t,n,r]}),!0},enter:function(e,t){e||(e={}),t||(t={});var n={is_auto:!1,page_id:""};return t.page_id&&(n.page_id=t.page_id,delete t.page_id),(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.sendPV",arguments:[n,t]}),!0},setMetaInfo:function(e,t,n){(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.setMetaInfo",arguments:[e,t,n]})},getMetaInfo:function(e,t){(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.aplus_pubsub.subscribe",arguments:["aplusReady",function(n){var r=window.goldlog;"complete"===n&&r&&"function"==typeof r.getMetaInfo&&"function"==typeof t&&t(r.getMetaInfo(e))}]})},updateSessionProperties:function(e){"object"==typeof e&&(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.setMetaInfo",arguments:["_session_args",e]})}});e.exports=o},function(e,t,n){"use strict";function r(e){return"function"==typeof e}function o(e){if(!r(e))throw new TypeError(e+" is not a function");return e}var i=n(3),a=n(9),s=function(){},c=function(e){for(var t=e.length,n=new Array(t-1),r=1;r<t;r++)n[r-1]=e[r];return n},u=a.extend({_ENV:"Node",spmAB:["0","0"],spmUrl:"",spmPre:"",pageName:"",isPageDisAppear:!0,isPageAppear:!1,_meta_info:{},record:s,setPageSPM:s,getPageSPM:s,enter:s,setHandlers:function(e){this.handlers=e},subscribe:function(e,t){o(t);var n=this,r=(n.pubs||{})[e]||[];if(r)for(var i=0;i<r.length;i++){var a=r[i]();t.apply(n,a)}var s=n.handlers||[];return e in s||(s[e]=[]),s[e].push(t),n.setHandlers(s),n},subscribeOnce:function(e,t){o(t);var n,r=this;return this.subscribe.call(this,e,n=function(){r.unsubscribe.call(r,e,n);var o=Array.prototype.slice.call(arguments);t.apply(r,o)}),this},unsubscribe:function(e,t){o(t);var n=this.handlers[e];if(!n)return this;if("object"==typeof n&&n.length>0){for(var r=0;r<n.length;r++){t.toString()===n[r].toString()&&n.splice(r,1)}this.handlers[e]=n}else delete this.handlers[e];return this},publish:function(e){var t=c(arguments),n=this.handlers||[],o=n[e]?n[e].length:0;if(o>0)for(var i=0;i<o;i++){var a=n[e][i];r(a)&&a.apply(this,t)}return this},cachePubs:function(e){var t=this.pubs||{},n=c(arguments);t[e]||(t[e]=[]),t[e].push(function(){return n})},updatePageProperties:function(e){"object"==typeof e&&this.setMetaInfo("aplus-cpvdata",e)},updateNextPageProperties:s,updatePageUtparam:s,updateNextPageUtparam:s,skipPage:s,pageAppear:s,pageDisappear:s,setExposureView:s,updateSessionProperties:s,getPageSpmUrl:s,getPageSpmPre:s,getUserInjectGokey:function(e){var t=this.getMetaInfo("aplus-inject-record-gokey");return"function"==typeof t?t(e):e.gokey},setMetaInfo:function(e,t){switch(e){case"aplus-rhost-v":case"aplus-rhost-g":var n=i.hostValidity(t);n||"aplus-rhost-v"!==e||(n=i.vhostValidity(t)),n?this._meta_info[e]=t:this.catchException("sorry, metaValue of "+t+" is not legality!");break;case"aplus-exdata":case"aplus-cpvdata":case"aplus-request-extinfo":"object"==typeof t?this._meta_info[e]=t:this.catchException("sorry, type of "+t+"  must be object!");break;case"aplus-channel":this._meta_info[e]=t;break;case"aplus-inject-record-gokey":"function"==typeof t?this._meta_info[e]=t:this.catchException("sorry, type of "+t+"  must be function!");break;default:this.catchException("sorry, aplus do not support the metaKey of "+e)}},appendMetaInfo:function(e,t){switch(e){case"aplus-exdata":case"aplus-cpvdata":if("object"==typeof t){var n=this._meta_info[e];this._meta_info[e]=Object.assign(n||{},t)}else this.catchException("sorry, type of "+t+"  must be object!");break;default:this.setMetaInfo(e,t)}},getMetaInfo:function(e,t){var n=this._meta_info[e];return"function"!=typeof t?n:void t(n)},catchException:function(e){try{console&&console.error(e)}catch(e){}}});e.exports=u},function(e,t){"use strict";function n(){}n.prototype.extend=function(){},n.prototype.create=function(){},n.extend=function(e){return this.prototype.extend.call(this,e)},n.prototype.create=function(e){var t=new this;for(var n in e)t[n]=e[n];return t},n.prototype.extend=function(e){var t=function(){};try{for(var n in"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),t.prototype=Object.create(this.prototype),e)t.prototype[n]=e[n];t.prototype.constructor=t,t.extend=t.prototype.extend,t.create=t.prototype.create}catch(e){t=function(){}}return t},e.exports=n},function(e,t,n){"use strict";var r=n(4).isWeex,o=n(11),i=n(12).requireModule,a=o.extend({_ENV:"weex",getUT:function(){try{var e=this.UserTrack||{};"function"!=typeof e.enterEvent&&"function"!=typeof e.commit&&(e=i("userTrack")||n(!function(){var e=new Error('Cannot find module "@weex-module/userTrack"');throw e.code="MODULE_NOT_FOUND",e}())),this.UserTrack=e||{}}catch(e){this.UserTrack={}}return this.UserTrack},create:function(e){var t=new this;for(var n in e)t[n]=e[n];return t.isThirdGroupAPI=function(){var e="undefined"!=typeof __weex_options__&&__weex_options__.weex,t=!1;if(r&&"object"==typeof e&&"windmill"===e.config.container)try{"function"==typeof i("keyboard").hideKeyboard&&(t=!0)}catch(e){}return t}(),t.getUT(),t},record:function(e,t,n){n=this.getUserInjectGokey({logkey:e,gmkey:t,gokey:n});var r=this._getRecordParams(e,t,n),o=r.gmObj||{},i=this.getUT();return this.isThirdGroupAPI?(r.args.isThirdGroupAPI="1",i.commitut&&i.commitut({type:o.name,eventId:o.id,eventid:o.id,name:r.pageName,pageName:r.pageName,arg1:r.arg1,arg2:r.arg2,arg3:r.arg3,param:r.args,params:r.args})):i.customAdvance?i.customAdvance(r.pageName,o.id,r.arg1,r.arg2,r.arg3,r.args):i.commitut&&i.commitut(o.name,o.id,r.pageName,"",r.arg1,r.arg2,r.arg3,r.args),!0},enter:function(e,t){var n=this.getUT();e||(e={}),t||(t={});var r=this._getEnterParams(e,t),o=r.args||{};return this.isThirdGroupAPI&&n.commitut?(o.isThirdGroupAPI="1",n.commitut({type:"enter",eventId:"-1",eventid:"-1",name:r.pageName,pageName:r.pageName,comName:o.url,arg1:"",arg2:"",arg3:"",param:o,params:o})):n.enterEvent?n.enterEvent(r.pageName,o):n.commit&&n.commit("enter",r.pageName,o.url,o),!0},updateNextPageProperties:function(e){var t=this.getUT();"object"==typeof e&&t.commitut&&(this.isThirdGroupAPI?t.commitut({type:"updateNextProp",eventId:-1,eventid:-1,name:"",pageName:"",comName:"",arg1:"",arg2:"",arg3:"",param:e,params:e}):t.commitut("updateNextProp",-1,"","","","","",e))},updatePageUtparam:function(e){var t=this.getUT();"object"==typeof e&&t.updatePageUtparam&&(this.isThirdGroupAPI?t.updatePageUtparam({utParamJson:JSON.stringify(e)}):t.updatePageUtparam(JSON.stringify(e)))},updateNextPageUtparam:function(e){var t=this.getUT();"object"==typeof e&&t.updateNextPageUtparam&&(this.isThirdGroupAPI?t.updateNextPageUtparam({utParamJson:JSON.stringify(e)}):t.updateNextPageUtparam(JSON.stringify(e)))},skipPage:function(){var e=this.getUT();e.skipPage&&e.skipPage()},pageAppear:function(){var e=this.getUT();e.pageAppear&&this.isPageDisAppear&&(this.isPageDisAppear=!1,this.isPageAppear=!0,e.pageAppear())},pageDisappear:function(){var e=this.getUT();e.pageDisAppear&&this.isPageAppear&&(this.isPageDisAppear=!0,this.isPageAppear=!1,e.pageDisAppear())},setExposureView:function(e,t,n){var r=this.getUT(),o=!1;return r&&r.setExposureView&&(r.setExposureView(e,t,n),o=!0),o}});e.exports=a},function(e,t,n){"use strict";var r=n(12).requireModule,o=n(8),i=n(3),a=i.paramsToObj,s=i.objToParams,c=i.getParamFromURL,u=i.simplifyURL,l=i.getAplusUniversalVersion,d=i.getLocation,f=o.extend({create:function(e){var t=new this;for(var n in e)t[n]=e[n];try{t.UserTrack=r("userTrack")}catch(e){t.UserTrack={}}return t._meta_info||(t._meta_info={}),t},setPageSPM:function(e,t,n){if(e&&t){var r=[];r.push(e),r.push(t),this.spmAB=r,this.pageName=""}"function"==typeof n&&n()},getPageSPM:function(){return this.spmAB},_updateNextPageSpm:function(e){e&&(this.spmPre=this.spmUrl,this.spmUrl=e["spm-url"]||e.spmUrl)},getPageSPMStr:function(e,t){var n=this.spmAB.join(".");if(!n||"0.0"===n)try{if(console&&console.warn){var r="object"==typeof t?JSON.stringify(t):"";console.warn("please setPageSPM before "+e+" about "+r)}}catch(e){}return n},_getRecordParams:function(e,t,n){n||(n="");var r=this.getMetaInfo("aplus-exdata");if(r)if("string"==typeof n){var o=[];for(var c in r)o.push(c+"="+r[c]);if(o.length>0)n+=(n?"&":"")+o.join("&")}else"object"==typeof n&&(n=Object.assign({},r,n));var f=d(),p="string"==typeof n?a(n):n,m=p.url||f.currentpagename||f.href||"",g=i.getGmObj(t);this.pageName||(this.pageName=p.pageName||f.currentpagename||u(m)||"");var h={jsver:"aplus_universal",lver:l(),weex:"1",functype:"ctrl",funcId:g.id,_toUT:"2",logkey:e,gokey:"string"==typeof n?encodeURIComponent(n):encodeURIComponent(s(n,!1)),gmkey:g.alias,urlpagename:this.pageName,url:m};this.spmUrl&&(h["spm-url"]=this.spmUrl),this.spmPre&&(h["spm-pre"]=this.spmPre);var v=this.getPageSPMStr("record",h);return v&&"0.0"!==v&&(h["spm-cnt"]=v+".0.0"),{pageName:this.pageName,gmObj:g,arg1:e,arg2:"",arg3:"",args:h}},_getEnterParams:function(e,t){e||(e={}),t||(t={});var n=this.getMetaInfo("aplus-cpvdata");n&&(t=Object.assign({},n,t));var r={width:"0",height:"0"};try{r=screen}catch(e){}try{__windmill_environment__&&(r.width=__windmill_environment__.screenWidth,r.height=__windmill_environment__.screenHeight)}catch(e){}var o=d();t.url=e.pageUrl||o.currentpagename||o.href||"";var i=(t=Object.assign(t,{functype:"page",funcId:"2001",isonepage:e.isonepage?1:-1,scr:r.width+"x"+r.height,jsver:"aplus_universal",lver:l(),weex:"1",_toUT:"2"})).scm||c(t.url,"scm")||"";i&&(t.scm=i);var a=e.pageId?"/"+e.pageId:"",s=this.getPageSPMStr("enter",t);return s&&"0.0"!==s&&(t["spm-cnt"]=s+""+a+".0.0"),this.spmUrl=e.spmUrl||e["spm-url"]||c(t.url,"spm")||this.spmUrl||"",this.spmUrl&&(t["spm-url"]=this.spmUrl),this.spmPre=e.spmPre||e["spm-pre"]||c(e.referrer,"spm")||this.spmPre||"",this.spmPre&&(t["spm-pre"]=this.spmPre),this.pageName=e.pageName||o.currentpagename||u(t.url)||"",{pageName:this.pageName,args:t}}});e.exports=f},function(e,t,n){"use strict";function r(e){return e&&"undefined"!=typeof e}t.requireModule=function(e){var t;try{r(__weex_require__)&&(t=__weex_require__(e))}catch(e){t=null}if(!t)try{r(weex)&&"function"==typeof weex.requireModule&&(t=weex.requireModule(e))}catch(e){t=null}if(!t)try{t=!function(){var e=new Error('Cannot find module "@weex-module"');throw e.code="MODULE_NOT_FOUND",e}()}catch(e){t=null}return t}},function(e,t,n){"use strict";var r=n(3),o=n(11),i=function(e,t){my&&my.call&&"function"==typeof t&&my.call("handleLoggingAction",{type:"behavior",subType:e.subType},function(n){t({spmUrl:n[e.spmType]})})},a=o.extend({_ENV:"windmill",create:function(e){var t=new this;for(var n in e)t[n]=e[n];return t},record:function(e,t,n,r){n=this.getUserInjectGokey({logkey:e,gmkey:t,gokey:n});var o=this._getRecordParams(e,t,n);delete o.args.weex,o.args.windmill="1";var i=o.gmObj||{};if(my){var a={type:i.name,eventId:i.id,comName:o.arg1,arg1:o.arg1,arg2:o.arg2,arg3:o.arg3,param:o.args};o.pageName&&(a.name=o.pageName,a.pageName=o.pageName),my.callUserTrack?my.callUserTrack("customAdvance",a):my.reportAnalytics&&my.reportAnalytics("customAdvance",a)}},enter:function(e,t){e||(e={}),t||(t={});var n=this._getEnterParams(e,t);if(delete n.args.weex,n.args.windmill="1",my){var r={type:"enter",eventId:"2001",eventid:"-1",pageName:n.pageName,name:n.pageName,comName:n.args.url,arg1:n.arg1,arg2:n.arg2,arg3:n.arg3,param:n.args};my.callUserTrack?my.callUserTrack("commitut",r):my.reportAnalytics&&my.reportAnalytics("enter",r)}},updatePageProperties:function(e){"object"==typeof e&&(r.isTriver()&&my.reportAnalytics("updatePageProperties",e),this.setMetaInfo("aplus-cpvdata",e))},updateNextPageProperties:function(e){if(e||(e={}),this._updateNextPageSpm(e),my){var t={type:"updateNextProp",eventId:-1,eventid:-1,name:"",pageName:"",comName:"",arg1:"",arg2:"",arg3:"",param:e,params:e};my.callUserTrack?my.callUserTrack("commitut",t):my.reportAnalytics&&my.reportAnalytics("enter",t)}},updatePageUtparam:function(e){e||(e={}),my&&my.callUserTrack&&my.callUserTrack("updatePageUtparam",{utParamJson:JSON.stringify(e)})},updateNextPageUtparam:function(e){e||(e={}),my&&my.callUserTrack&&my.callUserTrack("updateNextPageUtparam",{utParamJson:JSON.stringify(e)})},skipPage:function(){my&&my.callUserTrack&&my.callUserTrack("skipPage")},pageAppear:function(){my&&my.callUserTrack&&this.isPageDisAppear&&(this.isPageDisAppear=!1,this.isPageAppear=!0,my.callUserTrack("pageAppear"))},pageDisappear:function(){my&&my.callUserTrack&&this.isPageAppear&&(this.isPageDisAppear=!0,this.isPageAppear=!1,my.callUserTrack("pageDisappear"))},updateSessionProperties:function(e){my&&my.call&&my.call("handleLoggingAction",{type:"behavior",subType:"updateSessionProperties",extData:e})},getPageSpmUrl:function(e){i({subType:"getPageSpmUrl",spmType:"spmUrl"},e)},getPageSpmPre:function(e){i({subType:"getPageSpmPre",spmType:"spmPre"},e)}});e.exports=a},function(e,t,n){"use strict";var r=n(3),o=n(15),i="__ETAG__CNA__ID__",a=n(16),s="EMPTY_CNA",c=a.extend({aplus_queue:[],CNA:"",hasSyncCna:!1,syncLaunchOptions:!1,_ENV:"windmill_alipay",_syncEtag:function(e){var t=this.method||"request",n=function(t){var n=t&&t.data?t.data.cna:"";n?e(n):a()},a=function(){var n=r.getEtagUrl("log.mmstat.com");n?o.get(n,{dataType:"text",requestMethodName:t},function(t){var n="";try{if(!t.failure){var o=(t?t.data:"").split(";");if(o.length>1)n=(n=o[1].split("=")[1]||"").replace(/\"/g,""),r.getContext().setStorage({key:i,data:{cna:n}})}}catch(e){}n||(n=s),e(n)}):e(s)},c=r.getContext();c&&c.getStorage&&c.getStorage({key:i,success:function(e){n(e)},fail:function(e){n(e)}})},_addDetailParam:function(e){return e.itemId?{_p_typ:"pdp",_p_item:e.itemId,_p_ispdp:"1"}:{}},_addSellerParam:function(e){return e.sellerId?{_p_typ:e.itemId?"pdp":"slr",_p_slr:e.sellerId,_p_isdpp:"1"}:{}},tryAyncEtag:function(){var e=this;this.hasSyncCna&&e.CNA!==s||(this.hasSyncCna=!0,this._syncEtag(function(t){e.CNA=t,t&&e.publish("cnaReady",t)}))},getLaunchOptionsSync:function(){var e=this;if(!e.syncLaunchOptions){e.syncLaunchOptions=!0;var t=r.getContext();if(t&&t.getLaunchOptionsSync){var n=t.getLaunchOptionsSync(),o=n&&n.query||{};if(o.miniappDebugId){var i=o.miniappDebugId.trim(),a=i.split("_"),s={aplus_work_no:a.length>2?a[1]:i,aplus_track_debug_id:i,aplus_flag:"aplus_test"};e.setMetaInfo("aplus-exdata",s),e.setMetaInfo("aplus-cpvdata",s)}}}},subscribeCna:function(){var e=this;this.subscribe("cnaReady",function(t){if(t&&e.aplus_queue&&e.aplus_queue.length>0)for(;e.aplus_queue.length>0;){e.aplus_queue.pop().call(e,t)}})},logQueue:function(e){"function"==typeof e&&(this.CNA?e(this.CNA!==s?this.CNA:""):this.aplus_queue.push(e))},record:function(e,t,n,i){var a=this;a.getLaunchOptionsSync(),n=this.getUserInjectGokey({logkey:e,gmkey:t,gokey:n});var s=a.method||"request",c=function(c){var u=r.getGoldlogUrl(a._meta_info["aplus-rhost-g"]),l=a._getRecordParams(t,n,c);if(u&&l){0!==e.indexOf("/vx")&&(e="/vx"+e),u+=/^\//.test(e)?e:"/"+e;var d=[];for(var f in l)d.push(f+"="+l[f]);u=u+"?"+d.join("&"),o.get(u,{method:i,requestMethodName:s,data:l,_extInfo:a.getMetaInfo("aplus-request-extinfo")},function(e){})}};a.tryAyncEtag(),a.logQueue(function(e){c(e)})},enter:function(e,t){this.getLaunchOptionsSync(),e||(e={}),t||(t={});var n=this,i=n.method||"request";r.getPVLogUrl(n._meta_info["aplus-rhost-v"])&&(n.tryAyncEtag(),n.logQueue(function(a){t.cna=a,n._getEnterParams(e,t,function(e){var t=r.getPVLogUrl(n._meta_info["aplus-rhost-v"]);t&&o.get(t+"?"+r.makeUrl(e),{requestMethodName:i,_extInfo:n.getMetaInfo("aplus-request-extinfo")},function(e){})})}))},updateNextPageProperties:function(e){e||(e={}),this._updateNextPageSpm(e)}});e.exports=c},function(e,t,n){"use strict";var r=n(3),o="httpRequest",i="request";t.get=function(e,t,n){var a=r.getContext()||{},s=t.requestMethodName||i,c=a[s];"function"!=typeof c&&s!==i&&(c=a[s=i]),"function"!=typeof c&&s!==o&&(console&&console.warn('方法"'+s+'"不存在!'),c=a[s=o]);var u,l,d=t&&t.dataType?t.dataType:"base64",f=t&&t.timeout?t.timeout:3e3,p=t&&t._extInfo?t._extInfo:null,m=t.method||"GET";if("function"==typeof c){var g={url:e,method:m,dataType:d,timeout:f,success:function(e){u||(u=!0,n(e))},fail:function(t){console&&console.warn('aplus日志请求"'+e+'"失败，原因：'+JSON.stringify(t)),u||(u=!0,n({failure:!0,data:t}))}};"POST"===m&&"object"==typeof t.data&&(g.url=g.url.split("?")[0],o===s?(g.headers={"Content-Type":"application/json"},g.dataType="json",g.data=JSON.stringify(t.data)):g.data=t.data),p&&(g._extInfo=p),c(g)}else l='方法"'+s+'"不存在!',console&&console.warn(l),u||(u=!0,n({failure:!0,data:l}));setTimeout(function(){u||(u=!0,l='aplus日志请求"'+e+'超时", 超时时长'+f+"ms",console&&console.warn(l),n({failure:!0,data:l}))},f)},t.sendBeacon=function(e,t){for(var n in t)"cna"!==n&&(t[n]=encodeURIComponent(t[n]));return navigator.sendBeacon(e,JSON.stringify(t)),e}},function(e,t,n){"use strict";function r(e){var t="";try{if(!(t=h[e?e.app||e.appName:""]||"")){var n=!1;try{n=!!dd}catch(e){}var r=!1;try{r=!!swan}catch(e){}var o=!1;try{o=!!ks}catch(e){}var i=!1;try{i=!!tt}catch(e){}var a=!1;try{a=!!wx}catch(e){}var s="";try{s=navigator?navigator.userAgent||navigator.swuserAgent:""}catch(e){}if(!s)try{s=clientInformation?clientInformation.appVersion:""}catch(e){}n||/AliApp\(DingTalk/i.test(s)?t="dd":r?t="swan":i?t="tt":o?t="ks":a?t="wx":/AliApp\(TB/i.test(s)?t="tb":/AliApp\(AP/i.test(s)&&(t="my")}}catch(e){}return t}function o(e){var t="";return e&&(t={iphone:"ios",ipad:"ios",ios:"ios",android:"andr",yunos:"yun",wp:"wp",linux:"linux",unix:"unix",macos:"mac",windows:"win"}[e.toLowerCase()]||""),t}function i(){return function(e){function t(e){return 1===e?"0123456789abcdefhijklmnopqrstuvwxyzABCDEFHIJKLMNOPQRSTUVWXYZ".substr(Math.floor(60*Math.random()),1):2===e?"0123456789abcdefghijkmnopqrstuvwxyzABCDEFGHIJKMNOPQRSTUVWXYZ".substr(Math.floor(60*Math.random()),1):"0"}for(var n,r="",o=!1;r.length<e;)n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".substr(Math.floor(62*Math.random()),1),!o&&r.length<=2&&("g"===n.toLowerCase()||"l"===n.toLowerCase())&&(0===r.length&&"g"===n.toLowerCase()?Math.random()<.5&&(n=t(1),o=!0):1===r.length&&"l"===n.toLowerCase()&&"g"===r.charAt(0).toLowerCase()&&(n=t(2),o=!0)),r+=n;return r}(14)}var a=n(8),s=n(3),c=s.paramsToObj,u=s.objToParams,l=s.getParamFromURL,d=s.simplifyURL,f=s.getAplusUniversalVersion,p=s.getLocation,m=s.getCurrentPage,g=s.getAppInfo().appId,h={alipay:"my",TB:"tb",Weixin:"wx",Dingtalk:"dd",ALIDATA:"alidata",Toutiao:"tt",SWAN:"swan"},v=a.extend({create:function(e){var t=new this;for(var n in e)t[n]=e[n];try{t._meta_info=Object.assign({"aplus-rhost-v":"log.mmstat.com","aplus-rhost-g":"wgo.mmstat.com","aplus-channel":"GET"},t._meta_info||{})}catch(e){t._meta_info={},console&&console.log(e)}return t.subscribeCna(),t},subscribeCna:function(){},setPageSPM:function(e,t,n){if(e&&t){var r=[];r.push(e),r.push(t),this.spmAB=r,this.pageName="",this.pageId="",this.pvid=i()}"function"==typeof n&&n()},_updateNextPageSpm:function(e){e&&(this.spmPre=this.spmUrl,this.spmUrl=e["spm-url"]||e.spmUrl)},getPageSPM:function(){return this.spmAB},getPageSPMStr:function(){return this.spmAB.join(".")},_getPageSpmInfo:function(e,t){this.pvid||(this.pvid=i()),"enter"===e.from&&(this.pageId=e.pageId?"/"+e.pageId:"");var n=this.getPageSPMStr();if(!n||"0.0"===n)try{if(console&&console.warn){var r="object"==typeof t?JSON.stringify(t):"";console.warn("please setPageSPM before "+e.from+" about "+r)}}catch(e){}return n+""+(this.pageId||"")+".0.0."+this.pvid},_getRecordParams:function(e,t,n){var r=p(),o=m(),i=this.getMetaInfo("aplus-exdata");if(i)if("string"==typeof t){var a=[];for(var d in i)a.push(d+"="+i[d]);if(a.length>0)t+=(t?"&":"")+a.join("&")}else"object"==typeof t&&(t=Object.assign({},i,t));var h="string"==typeof t?c(t):t;"object"==typeof h&&h||(h={},console&&console.log("typeof gokey must be object or string"));var v=h.url||r.currentpagename||r.href||"https://"+g+"_"+o.route||"";this.spmUrl||(this.spmUrl=l(v,"spm")||""),this.spmPre||(this.spmPre=l(h.referrer,"spm")||"");var y=s.getGmObj(e);return(h=Object.assign({},h,{pc_i:h.pc_i||"",ps_i:h.ps_i||"",pu_i:h.pu_i||"",_p_url:v,_p_ref:h.pre||"","spm-url":this.spmUrl,"spm-pre":this.spmPre,jsver:"aplus_universal",lver:f(),windmill:"1",cache:s.makeCacheNum(),mini_app_id:g}))._g_encode||(h._g_encode="utf-8"),h["spm-cnt"]=this._getPageSpmInfo({from:"record"},h),{logtype:"2",cna:n,gokey:encodeURIComponent(u(h,!1)),gmkey:y.alias}},_addDetailParam:function(e){return e.itemId?{_p_typ:"pdp",_p_item:e.itemId,_p_ispdp:"1"}:{}},_initPageSpmParams:function(e,t){var n=e.spmUrl||e["spm-url"]||l(e.pageUrl,"spm")||this.spmUrl||"",r=e.spmPre||e["spm-pre"]||l(e.referrer,"spm")||this.spmPre||"",o=p(),i=e.pageName||o.currentpagename||d(e.pageUrl)||"",a=m(),s=e.pageUrl||"https://"+g+"_"+a.route||"";this.spmUrl=n,this.spmPre=r,this.pageName=i,this.pageUrl=s;var c={pageName:i,pageUrl:s,spmUrl:n,spmPre:r};return c.spmCnt=this._getPageSpmInfo({from:"enter",pageId:e.pageId},c),c},_addSellerParam:function(e){return e.sellerId?{_p_typ:e.itemId?"pdp":"slr",_p_slr:e.sellerId,_p_isdpp:"1"}:{}},_appendParamsIntoArray:function(e,t){return e&&t&&Object.keys(t).forEach(function(n){e.push([n,t[n]])}),e},_appendUserParams:function(e,t){return Object.keys(t).forEach(function(n){e.push([n,t[n]])}),e},_getSystemInfo:function(e){var t=this,n={},r=t.SYSTEM_INFO||{};if(r&&r.version)e(t.SYSTEM_INFO);else try{s.getContext().getSystemInfo({complete:function(r){r&&r.version?(t.SYSTEM_INFO=r,e(r)):e(n)}})}catch(t){e(n)}},_getEnterParams:function(e,t,n){e||(e={}),t||(t={});var i=this._initPageSpmParams(e,t),a=[["logtype","1"],["title",encodeURIComponent(i.pageName)],["cna",t.cna||""]],c=this;c._getSystemInfo(function(u){var l=[["_p_url",i.pageUrl],["_p_ref",e.referrer||""],["_p_os",o(u.platform)||""],["_p_scr",u.screenWidth+"x"+u.screenHeight],["_p_pf",r(u)],["spm-cnt",i.spmCnt],["spm-url",i.spmUrl],["spm-pre",i.spmPre],["mini_app_id",g]];l["spm-url"]&&(c.spmUrl=l["spm-url"]),l["spm-pre"]&&(c.spmPre=l["spm-pre"]);var d=c.getMetaInfo("aplus-cpvdata");if(d&&"object"==typeof d&&(l=c._appendParamsIntoArray(l,d)),l=c._appendParamsIntoArray(l,c._addDetailParam(t)),l=c._appendParamsIntoArray(l,c._addSellerParam(t)),l=c._appendUserParams(l,t),l=c._appendParamsIntoArray(l,{jsver:"aplus_universal",lver:f(),windmill:"1",cache:s.makeCacheNum()}),"function"==typeof n){var p={pageName:i.pageName,preParams:a,endParams:l};n(p)}})}});e.exports=v},function(e,t,n){"use strict";function r(e,t){void 0===e&&(e={}),_("updatePageName",{commonData:e,pageName:t}),m({type:C,subType:"updatePageName",commonData:e,extData:{pageName:t}})}function o(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n={});var r={developerVersion:g.developerVersion,miniappVtDebugId:g.miniappVtDebugId,miniappVtEnv:g.miniappVtEnv,miniappVtWsToken:g.miniappVtWsToken,miniappVtAppId:g.miniappVtAppId,hostAppName:g.hostAppName,appVersion:g.appVersion,appxUtdid:g.appxUtdid,sourceType:g.sourceType},o=p(p({},r),t);for(var i in n)o[i]=n[i];var a=g.scm||"";return!o.scm&&a&&(o.scm=a),o.pageName=t.pageName||t.name||e.appId+"_"+e.currentPagePath,o.currentPagePath=t.pageUrl||e.currentPagePath,o.jsver||(o.jsver=b),o.lver||(o.lver=w),o._lver=w,o.windmill="2",o._p_seid=k,o.mini_app_id=e.appId,o.appxVersion=e.appxVersion||"",o}function i(e,t){var n=!1;m({type:C,subType:"spmPre"===e?"getPageSpmPre":"getPageSpmUrl"},function(r){if(void 0===r&&(r={}),n=!0,r&&"success"===r.status){var o={status:r.status};o[e]=g.spm||r[e],t(o)}else t(r)}),setTimeout(function(){if(!n){var r={status:"timeout"};r[e]=g.spm,t(r)}},300)}function a(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n={});var r=o(e,t,n);_("updatePageProperties",{updatePageProperties:r}),m({type:C,subType:"updatePageProperties",commonData:e,extData:r})}function s(e,t,n,r){if(void 0===t&&(t={}),void 0===n&&(n={}),e&&n&&(n.logkey||n.arg1)){var i=S[e]||"",a=n.eventId,s=i||a,c=void 0,u=19999;try{(c=parseInt(s))+""=="NaN"&&(c=u)}catch(e){c=u}-1===[u,2201,2101,2202].indexOf(c)&&(c<2900||c>u)&&(s=T);var l=o(t,n,n.param?n.param:null);m({type:C,subType:"customAdvance",commonData:t,extData:{eventId:s,pageName:r,arg1:n.logkey||n.arg1,arg2:"",arg3:"",args:l}})}}function c(e){if(void 0===e&&(e=[]),0===O.length||JSON.stringify(e)!==JSON.stringify(O)){var t=[];e.forEach(function(e){var n=E?E.find(function(t){return t.viewId===e}):"";t.push(n||{viewId:e})}),E=t,O=e}return E}function u(e){void 0===e&&(e={});var t={},n=e.param||{},r=e.pageName||e.name||n.pageName||n.name||"",o=e.activityId||n.activityId;if(o&&(r+="_"+o),E.length>0){if(t._spmCnt=E[E.length-1]._appxUTSpm,1===E.length&&M&&(t._spmUrl=E[0]?E[0]._appxUTSpmUrl:""),E.length>=2){var i=E[E.length-2]||{};t._spmUrl=i._appxUTTapSpm||i._appxUTSpm||"",2===E.length&&g.spm&&(t._spmPre=g.spm)}if(E.length>=3){var a=E[E.length-3]||{};t._spmPre=a._appxUTTapSpm||a._appxUTSpm||""}}return t.pageName=r,t}function l(e){E[E.length-1]._appxUTTapSpm=e}function d(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});try{for(var r in n)A[r]=n[r];x=JSON.stringify(A).length}catch(e){}x>1024?"object"==typeof console&&console.log&&console.log("updateSessionProperties max length is 1024!"):m({type:C,subType:e,commonData:t,extData:n})}function f(e){void 0===e&&(e={});var t=e.commonData,n=e.pageName,r=e.pluginIds;(void 0===r?[]:r).forEach(function(e){if(void 0===e&&(e=""),e){var r=o(t,{pluginId:e},{});m({type:C,subType:"customAdvance",commonData:t,extData:{eventId:"2201",pageName:n,arg1:"/miniapp_plugin_exp",arg2:"",arg3:"",args:r}})}})}var p=this&&this.__assign||function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},p.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AplusWindmillAppx=void 0;var m,g,h=n(18),v=h.default.getRandomId,y=h.default.isDebug,_=h.default.aplusDebugLog,b="aplus_universal",w="appx_v1.1.5",C="behavior",T="19999",S={exposure:"2201",expose:"2201",EXP:"2201",IMPEXP:"2202",click:"2101",CLK:"2101",other:T,OTHER:T},k=v(16),N=1,M=!0,E=[],O=[],x=0,A={};t.AplusWindmillAppx=function(e){return void 0===e&&(e={}),m=e.callHandleLoggingAction||e.bridgeSend,g=e.startupParams,function(e,t,n,o){void 0===e&&(e=""),void 0===t&&(t={}),void 0===n&&(n={}),void 0===o&&(o="");var p=n.extData||{};c(n.pagesViewIds||[]);var h="",v=t.currentPagePath;v&&(h=v.replace(/\//g,"_"));var b=p.param||{},w=p.activityId||b.activityId;w&&(h+="_"+w);var T=e;"commitut"===T&&p&&p.type&&("updateNextProp"===(T=p.type)&&(T="updateNextPageProperties"));var S=p["spm-cnt"]||b["spm-cnt"]||"",k=p["spm-url"]||b["spm-url"]||"",O=p["spm-pre"]||b["spm-pre"]||"",x="MiniApp_"+t.appId+"."+h+".0.0",A=u(p),I=g.launchParams||{};["enter","pageview","updatePageProperties"].indexOf(T)>-1&&E.length>0&&(p.spmId=x,function(e,t,n){var r=E.length,o=E[r-1]._appxUTSpm;try{n&&"string"==typeof n&&(n=JSON.parse(n));var i="object"==typeof n;(!i||i&&"YES"!==n.customSpm)&&(o&&0!==o.indexOf("MiniApp_")||(E[r-1]._appxUTSpm=e||t))}catch(n){_("launchParams",{errorMsg:n}),o&&0!==o.indexOf("MiniApp_")||(E[r-1]._appxUTSpm=e||t)}var a=g.spm||"";M&&a&&(E[r-1]._appxUTSpmUrl=a)}(S,x,I),A=u(p));var P=A._spmCnt,R=void 0===P?"":P,D=A._spmUrl,U=void 0===D?"":D,j=A._spmPre,L=void 0===j?"":j,F=A.pageName,B=void 0===F?"":F,q=S||R||"",G=k||U||"",V=O||L||"";switch(T){case"enter":case"pageview":if("pageview"===T&&"YES"===I.customSpm)return;var W=B;!W&&q&&(W=t.appId+"_"+v),W&&r(t,W);var H={};for(var Y in q&&(H["spm-cnt"]=q),G&&(H["spm-url"]=G),V&&(H["spm-pre"]=V),p.param)H[Y]=p.param[Y];if(M&&(H._p_entry_flag=N,M=!1),a(t,p,H),q||G){var z={};q&&(z["spm-url"]=q),G&&(z["spm-pre"]=G),_("updateNextPageProperties",z),m({type:C,subType:"updateNextPageProperties",commonData:t,extData:z})}var J=p.pluginId;J&&f({subType:T,commonData:t,pageName:B,pluginIds:[J]});break;case"updatePageName":r(t,B);break;case"updatePageUrl":!function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=t.pageUrl||t.url||e.currentPagePath;m({type:C,subType:"updatePageUrl",commonData:e,extData:{pageUrl:n}})}(t,p);break;case"updatePageProperties":var $={};for(var Y in q&&($["spm-cnt"]=q),G&&($["spm-url"]=G),V&&($["spm-pre"]=V),p.param)$[Y]=p.param[Y];if(a(t,p,$),q||G){var K={};q&&(K["spm-url"]=q),G&&(K["spm-pre"]=G),m({type:C,subType:"updateNextPageProperties",commonData:t,extData:K})}break;case"updateNextPageProperties":var X=p||{};p&&p.params&&(X=p.params);var Q={};for(var Y in X)Q[Y]=X[Y];X["spm-url"]&&(Q["spm-url"]=X["spm-url"],l(X["spm-url"])),m({type:C,subType:T,commonData:t,extData:Q});break;case"updatePageUtparam":case"updateNextPageUtparam":var Z=p||{};p&&p.utParamJson&&"string"==typeof p.utParamJson&&(Z=JSON.parse(p.utParamJson)),m({type:C,subType:T,commonData:t,extData:Z});break;case"skipPage":case"pageAppear":case"pageDisappear":m({type:C,subType:T,commonData:t,extData:{}});break;case"customAdvance":p["spm-cnt"]=q,s(T,t,p,B);break;case"aplusDebug":p&&y(p.isDebug);break;case"getPageSpmUrl":i("spmUrl",o);break;case"getPageSpmPre":i("spmPre",o);break;case"getPageAllProperties":!function(e){var t=!1;m({type:C,subType:"getPageAllProperties"},function(n){void 0===n&&(n={}),!t&&e(n),t=!0}),setTimeout(function(){t||(t=!0,e({status:"timeout"}))},300)}(o);break;case"updateSessionProperties":d(T,t,p);break;case"pluginComponentView":var ee=p.pluginIds||[];ee.length>0&&f({subType:T,commonData:t,pageName:B,pluginIds:ee});break;default:p["spm-cnt"]=q;var te=p.spmC||b.spmC||p.pluginId||b.pluginId||"",ne=p.spmD||b.spmD||p.pointId||b.pointId||"";if(q&&te&&ne){var re=q.split("."),oe=[re[0],re[1],te,ne].join(".");l(oe),m({type:C,subType:"updateNextPageProperties",commonData:t,extData:{"spm-url":oe}})}s(T,t,p,B)}}}},function(e,t){"use strict";function n(e){void 0===e&&(e=!1),i=!!e}function r(e,t){try{i&&"object"==typeof console&&console.log&&(console.log("aplusDebugLog "+e+" start --- "),console.log(JSON.stringify(t)),console.log("--- end --- "))}catch(e){}}function o(e){function t(e){return 1==e?"0123456789abcdefhijklmnopqrstuvwxyzABCDEFHIJKLMNOPQRSTUVWXYZ".substr(Math.floor(60*Math.random()),1):2==e?"0123456789abcdefghijkmnopqrstuvwxyzABCDEFGHIJKMNOPQRSTUVWXYZ".substr(Math.floor(60*Math.random()),1):"0"}for(var n,r="",o=!1;r.length<e;)n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".substr(Math.floor(62*Math.random()),1),!o&&r.length<=2&&("g"==n.toLowerCase()||"l"==n.toLowerCase())&&(0===r.length&&"g"==n.toLowerCase()?Math.random()<.5&&(n=t(1),o=!0):1==r.length&&"l"==n.toLowerCase()&&"g"==r.charAt(0).toLowerCase()&&(n=t(2),o=!0)),r+=n;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomId=t.aplusDebugLog=t.isDebug=void 0;var i=!1;t.isDebug=n,t.aplusDebugLog=r,t.getRandomId=o,t.default={isDebug:n,aplusDebugLog:r,getRandomId:o}}])},function(e,t,n){e.exports=n(675)},,,,,,,,,,,,,,function(e,t){e.exports=$$_ReactDOM_18_},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(115),o=n(568),i=n(569),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,n){"use strict";var r=n(14),o=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.saasGray=t.isWorkbench=t.isWebSocketUnConnected=t.isWebSocketConnected=t.isSaasGray=t.isSaasChannel=t.isNativePC=t.isMac=t.isAlisupplier=t.isAIM=t.inElectron=t.getSaasGray=t.getHost=t.getChannel=t.IMContext=void 0,t.shouldUseAliId=function(){return i.default.getAuthService().isIcbuDomain()},t.turnOffSaasGray=t.trackPageId=void 0;var i=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,s={__proto__:null,default:e};if(null===e||"object"!=o(e)&&"function"!=typeof e)return s;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,s)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(a.get||a.set)?i(s,c,a):s[c]=e[c]);return s}(e,t)}(n(35)),a=n(122),s=r(n(33));var c=t.saasGray=!window.isGGSProxy,u=t.isWorkbench=!!window.workbench&&location.protocol.indexOf("alires")>=0,l=(t.isMac=/(macintosh|macintel|macppc|mac68k|macos)/i.test(window.navigator.userAgent.toLowerCase()),t.isAlisupplier=location.href.indexOf("from=alisupplier")>=0),d=(t.isNativePC=/(alisupplierpc)/i.test(window.navigator.userAgent.toLowerCase()),t.turnOffSaasGray=function(){t.saasGray=c=!1,window.turnOffSaasGray=!0,(0,s.default)("turnoffSaaS"),i.imsdk.getAuthService().close()},t.getSaasGray=function(){return c},t.trackPageId=window.dmtrack_pageid,t.IMContext={passConnectionStatus:1},t.inElectron=window.electronEnv);var f=t.isSaasGray=function(){return!window.isGGSProxy},p=t.isWebSocketConnected=function(){return i.imsdk.getAuthService().getConnectionStatus()===i.ConnectionStatus.CONN_AUTHED},m=(t.isWebSocketUnConnected=function(){return i.imsdk.getAuthService().getConnectionStatus()===i.ConnectionStatus.CONN_UNCONNECTED},t.isAIM=function(){return/channel=aim/gi.test(location.href)}),g=t.isSaasChannel=function(){return!/channel=http/gi.test(location.href)&&("http"!==window.im_channel&&(!!m()||(!!u||!(!f()||!p()))))};t.getHost=function(){var e=window.host||"unknown";return a.isSellerPWA&&(e="seller_pwa"),a.isBuyerPWA&&(e="buyer_pwa"),u&&(e="pc_client"),l&&(e="alisupplier"),d&&(e="electron"),e},t.getChannel=function(){return m()?"aim":g()?"ws":"http"}},function(e,t,n){"use strict";var r="undefined"!==typeof window&&window,o=n(648),i=n(651),a=n(652),s=n(653),c="static.dingtalk.com",u="down.dingtalk.com",l="down-cdn.dingtalk.com",d="media",f="ddmedia",p=(r&&r.devicePixelRatio,{TYPE:0,SIZE:1,HEIGHT:2,WIDTH:3}),m={IDC:1,TYPE:2,AUTH_TYPE:3,WIDTH:4,HEIGHT:5,RAND_FACTOR:6},g="",h="",v=function(e){return"$"===e.charAt(0)},y=function(e){return"@"===e.charAt(0)},_=function(e){return e.replace(/\+/gi,"-").replace(/\//gi,"_")},b=function(e){return e.replace(/-/gi,"+").replace(/_/gi,"/")},w=function(e,t){if(!e)return{};t=t||{};var n,r=v(e),i=y(e);if(!r&&!i)return t.ignoreHttp2Https||(e=e.replace(/^http(?!s)/,"https")),{url:e,width:null,height:null,type:null};i&&(n=p),r&&(n=m);e=(e=b(e)).substr(1);try{var w=function(e,t){return e[t.WIDTH]=e[t.WIDTH]||0,e[t.HEIGHT]=e[t.HEIGHT]||0,e}(o.decodeFromB64(e),n),C="";if(i){var T=a.getCateTypeById(w[n.TYPE]).split("_"),S="https://"+c+"/"+d+"/",k="_"+w[n.WIDTH]+"_"+w[n.HEIGHT];C=T[1].toLowerCase()}if(r){T=a.getCateTypeByType(w[n.TYPE].toLowerCase()).split("_"),S="https://"+(0===w[n.AUTH_TYPE]||6===w[n.AUTH_TYPE]?l:u)+"/"+f+"/",k="";C=w[n.TYPE]}if("IMAGE"===T[0]){var N="number"===typeof t.imageSize?N:620,M=w[n.WIDTH]>w[n.HEIGHT]?"_10000x"+N:"_"+N+"x10000";if("origin"===t.imageSize)var E=e+k+"."+C;else if("thumb"===t.imageSize||"number"===typeof t.imageSize&&"GIF"===T[1]){if("GIF"===T[1])var O=M+"."+C;else O="_120x120q90."+C;E=e+k+"."+C+O}else if("GIF"===T[1]){(x=t.computeCuttingRule)&&"function"===typeof x&&(M=x({width:w[n.WIDTH],height:w[n.HEIGHT]}));E=e+k+"."+C+(O=M?M+".gif":"")}else{var x;(x=t.computeCuttingRule)&&"function"===typeof x?M=x({width:w[n.WIDTH],height:w[n.HEIGHT]}):M+="q90";E=e+k+"."+C+(O=M+(t.autoRotate?"g":"")+"."+C)}}else E=e+"."+C;var A=S+(E=_(E));if(g||h||t.queryParams&&"object"===typeof t.queryParams){var I=new s(A);Object.keys(t.queryParams||{}).forEach(function(e){I.addQueryParam(e,t.queryParams[e])}),g&&I.addQueryParam("authKey",g),h&&I.addQueryParam("token",h),A=I.toString()}return{url:A,width:w[n.WIDTH],height:w[n.HEIGHT],type:T}}catch(e){return console.error("mid decode error",e),{url:"",width:0,height:"",type:[]}}};function C(e){for(var t="",n=e.length-1;n>=0;n--)t+=e[n];return t}t.mid2Url=function(e,t){return w(e,t).url},t.url2Mid=function(e){var t=new s(e),n=(t.host()===c||"i01.lw.aliimg.com"===t.host())&&"/media/"===t.uriParts.directory,r=(t.host()===u||t.host()===l)&&t.uriParts.directory==="/"+f+"/";if(n||r){var o=t.uriParts.file,i=o.indexOf(".");if(-1!==i){if(o=o.slice(0,i),r)return"$"+o;var a=(o=C(o)).indexOf("_");if(-1!==a){var d=o.indexOf("_",a+1);if(-1!==d&&(o=o.slice(d+1)))return"@"+C(o)}}}return e},t.mid2Object=w,t.amrMidToOggMid=function(e){if(!e)return"";var t=y(e),n=b(e).substr(1),r=a.getIdByType("amr"),o=a.getIdByType("ogg");if(t){var s=i.decode(n),c=new Uint8Array(s);if(c[0]>=144&&c[0]<=159){if(c[1]===r||c[1]===o)return c[1]===o?e:(c[1]=o,"@"+_(i.encode(s)));throw new Error("MediaId "+e+" is not amr format or ogg format")}throw new Error("identify plain mediaId fail")}throw new Error("amrMidToOggMid not support AuthMediaId yet!")},t.isMediaId=function(e){return"string"!==typeof e?(console.error("isMediaId params error, input: ",e),!1):v(e)||y(e)},t.configHost=function(e){e.mediaIdHost&&(c=e.mediaIdHost),e.authMediaIdHost&&(u=e.authMediaIdHost),e.authMediaIdCdnHost&&(l=e.authMediaIdCdnHost)},t.configAuthKey=function(e=""){g=e},t.configToken=function(e=""){h=e},t.isAuthMediaId=v,t.isPlainMediaId=y},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],l=0;(c=new Error(t.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){var r=n(602);e.exports=function(e){return r(e,5)}},function(e,t,n){"use strict";n.d(t,"a",function(){return L});const r="3.7.8",o=r,i="function"===typeof Buffer,a="function"===typeof TextDecoder?new TextDecoder:void 0,s="function"===typeof TextEncoder?new TextEncoder:void 0,c=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),u=(e=>{let t={};return e.forEach((e,n)=>t[e]=n),t})(c),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,d=String.fromCharCode.bind(String),f="function"===typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),p=e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_"),m=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),g=e=>{let t,n,r,o,i="";const a=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(o=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|o,i+=c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}return a?i.slice(0,a-3)+"===".substring(a):i},h="function"===typeof btoa?e=>btoa(e):i?e=>Buffer.from(e,"binary").toString("base64"):g,v=i?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(d.apply(null,e.subarray(n,n+4096)));return h(t.join(""))},y=(e,t=!1)=>t?p(v(e)):v(e),_=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?d(192|t>>>6)+d(128|63&t):d(224|t>>>12&15)+d(128|t>>>6&63)+d(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return d(240|t>>>18&7)+d(128|t>>>12&63)+d(128|t>>>6&63)+d(128|63&t)},b=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,w=e=>e.replace(b,_),C=i?e=>Buffer.from(e,"utf8").toString("base64"):s?e=>v(s.encode(e)):e=>h(w(e)),T=(e,t=!1)=>t?p(C(e)):C(e),S=e=>T(e,!0),k=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,N=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return d((t>>>10)+55296)+d(56320+(1023&t));case 3:return d((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return d((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},M=e=>e.replace(k,N),E=e=>{if(e=e.replace(/\s+/g,""),!l.test(e))throw new TypeError("malformed base64.");let t,n,r;e+="==".slice(2-(3&e.length));let o=[];for(let i=0;i<e.length;)t=u[e.charAt(i++)]<<18|u[e.charAt(i++)]<<12|(n=u[e.charAt(i++)])<<6|(r=u[e.charAt(i++)]),64===n?o.push(d(t>>16&255)):64===r?o.push(d(t>>16&255,t>>8&255)):o.push(d(t>>16&255,t>>8&255,255&t));return o.join("")},O="function"===typeof atob?e=>atob(m(e)):i?e=>Buffer.from(e,"base64").toString("binary"):E,x=i?e=>f(Buffer.from(e,"base64")):e=>f(O(e).split("").map(e=>e.charCodeAt(0))),A=e=>x(P(e)),I=i?e=>Buffer.from(e,"base64").toString("utf8"):a?e=>a.decode(x(e)):e=>M(O(e)),P=e=>m(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),R=e=>I(P(e)),D=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),U=function(){const e=(e,t)=>Object.defineProperty(String.prototype,e,D(t));e("fromBase64",function(){return R(this)}),e("toBase64",function(e){return T(this,e)}),e("toBase64URI",function(){return T(this,!0)}),e("toBase64URL",function(){return T(this,!0)}),e("toUint8Array",function(){return A(this)})},j=function(){const e=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,D(t));e("toBase64",function(e){return y(this,e)}),e("toBase64URI",function(){return y(this,!0)}),e("toBase64URL",function(){return y(this,!0)})},L={version:r,VERSION:o,atob:O,atobPolyfill:E,btoa:h,btoaPolyfill:g,fromBase64:R,toBase64:T,encode:T,encodeURI:S,encodeURL:S,utob:w,btou:M,decode:R,isValid:e=>{if("string"!==typeof e)return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fromUint8Array:y,toUint8Array:A,extendString:U,extendUint8Array:j,extendBuiltins:()=>{U(),j()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferDomain=void 0,t.transferDomain=function(e,t){const n=t||location&&location.hostname;if(n){const t=n.match(/alibaba\.(.*)/);if(t&&t.length>0)return e.replace("com",t[1])}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PASSPORT_DOMAIN=t.ONETALK_DOMAIN=t.ONEPAGE_DOMAIN=t.MESSAGE_DOMAIN=t.LOGIN_DOMAIN=t.FMESSAGE_DOMAIN=void 0;var r=n(155);t.ONETALK_DOMAIN=(0,r.transferDomain)("onetalk.alibaba.com"),t.MESSAGE_DOMAIN=(0,r.transferDomain)("message.alibaba.com"),t.PASSPORT_DOMAIN=(0,r.transferDomain)("passport.alibaba.com"),t.LOGIN_DOMAIN=(0,r.transferDomain)("login.alibaba.com"),t.FMESSAGE_DOMAIN=(0,r.transferDomain)("fmessage.alibaba.com"),t.ONEPAGE_DOMAIN="onepage.alibaba.com"},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return c});var r=n(244),o=n.n(r),i=n(55);const a=Object(i.getLinkVars)(window.location.search),s=(window.debugWhiteList||[]).includes(window.aliId);class c{constructor(e){this.fmt="yyyy-MM-dd hh:mm:ss",this.format=(e,t=this.fmt)=>{const n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in n)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[e]:("00"+n[e]).substr((""+n[e]).length)));return t},this._debug=o()(e),this._debug.enabled=!0,this._debug.log=console.log,this._namespace=e}color(e){this._debug.color=e}log(e,...t){try{("1"===(null===a||void 0===a?void 0:a.debug)||s)&&this._debug(e,...t,this.format(new Date))}catch(e){}}debug(e,...t){try{(window.debugLog||location.href.indexOf("debugLog=1")>-1)&&this._debug(e,...t,this.format(new Date))}catch(e){}}}},,function(e,t,n){(function(e){e.exports=function(){"use strict";var t,r;function o(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(c(e,t))return!1;return!0}function l(e){return void 0===e}function d(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function p(e,t){var n,r=[],o=e.length;for(n=0;n<o;++n)r.push(t(e[n],n));return r}function m(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function g(e,t,n,r){return $n(e,t,n,r,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(e){return null==e._pf&&(e._pf=h()),e._pf}function y(e){var t=null,n=!1,o=e._d&&!isNaN(e._d.getTime());return o&&(t=v(e),n=r.call(t.parsedDateParts,function(e){return null!=e}),o=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?o:(e._isValid=o,e._isValid)}function _(e){var t=g(NaN);return null!=e?m(v(t),e):v(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=o.momentProperties=[],w=!1;function C(e,t){var n,r,o,i=b.length;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=v(t)),l(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)l(o=t[r=b[n]])||(e[r]=o);return e}function T(e){C(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,o.updateOffset(this),w=!1)}function S(e){return e instanceof T||null!=e&&null!=e._isAMomentObject}function k(e){!1===o.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function N(e,t){var n=!0;return m(function(){if(null!=o.deprecationHandler&&o.deprecationHandler(null,e),n){var r,i,a,s=[],u=arguments.length;for(i=0;i<u;i++){if(r="","object"===typeof arguments[i]){for(a in r+="\n["+i+"] ",arguments[0])c(arguments[0],a)&&(r+=a+": "+arguments[0][a]+", ");r=r.slice(0,-2)}else r=arguments[i];s.push(r)}k(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var M,E={};function O(e,t){null!=o.deprecationHandler&&o.deprecationHandler(e,t),E[e]||(k(t),E[e]=!0)}function x(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e){var t,n;for(n in e)c(e,n)&&(x(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function I(e,t){var n,r=m({},e);for(n in t)c(t,n)&&(s(e[n])&&s(t[n])?(r[n]={},m(r[n],e[n]),m(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)c(e,n)&&!c(t,n)&&s(e[n])&&(r[n]=m({},r[n]));return r}function P(e){null!=e&&this.set(e)}o.suppressDeprecationWarnings=!1,o.deprecationHandler=null,M=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function D(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return x(r)?r.call(t,n):r}function U(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var j=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},B={};function q(e,t,n,r){var o=r;"string"===typeof r&&(o=function(){return this[r]()}),e&&(B[e]=o),t&&(B[t[0]]=function(){return U(o.apply(this,arguments),t[1],t[2])}),n&&(B[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function G(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V(e){var t,n,r=e.match(j);for(t=0,n=r.length;t<n;t++)B[r[t]]?r[t]=B[r[t]]:r[t]=G(r[t]);return function(t){var o,i="";for(o=0;o<n;o++)i+=x(r[o])?r[o].call(t,e):r[o];return i}}function W(e,t){return e.isValid()?(t=H(t,e.localeData()),F[t]=F[t]||V(t),F[t](e)):e.localeData().invalidDate()}function H(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(L.lastIndex=0;n>=0&&L.test(e);)e=e.replace(L,r),L.lastIndex=0,n-=1;return e}var Y={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function z(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(j).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])}var J="Invalid date";function $(){return this._invalidDate}var K="%d",X=/\d{1,2}/;function Q(e){return this._ordinal.replace("%d",e)}var Z={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ee(e,t,n,r){var o=this._relativeTime[n];return x(o)?o(e,t,n,r):o.replace(/%d/i,e)}function te(e,t){var n=this._relativeTime[e>0?"future":"past"];return x(n)?n(t):n.replace(/%s/i,t)}var ne={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function re(e){return"string"===typeof e?ne[e]||ne[e.toLowerCase()]:void 0}function oe(e){var t,n,r={};for(n in e)c(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ie={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ae(e){var t,n=[];for(t in e)c(e,t)&&n.push({unit:t,priority:ie[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}var se,ce=/\d/,ue=/\d\d/,le=/\d{3}/,de=/\d{4}/,fe=/[+-]?\d{6}/,pe=/\d\d?/,me=/\d\d\d\d?/,ge=/\d\d\d\d\d\d?/,he=/\d{1,3}/,ve=/\d{1,4}/,ye=/[+-]?\d{1,6}/,_e=/\d+/,be=/[+-]?\d+/,we=/Z|[+-]\d\d:?\d\d/gi,Ce=/Z|[+-]\d\d(?::?\d\d)?/gi,Te=/[+-]?\d+(\.\d{1,3})?/,Se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ke=/^[1-9]\d?/,Ne=/^([1-9]\d|\d)/;function Me(e,t,n){se[e]=x(t)?t:function(e,r){return e&&n?n:t}}function Ee(e,t){return c(se,e)?se[e](t._strict,t._locale):new RegExp(Oe(e))}function Oe(e){return xe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,o){return t||n||r||o}))}function xe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ae(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ie(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Ae(t)),n}se={};var Pe={};function Re(e,t){var n,r,o=t;for("string"===typeof e&&(e=[e]),d(t)&&(o=function(e,n){n[t]=Ie(e)}),r=e.length,n=0;n<r;n++)Pe[e[n]]=o}function De(e,t){Re(e,function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)})}function Ue(e,t,n){null!=t&&c(Pe,e)&&Pe[e](t,n._a,n,e)}function je(e){return e%4===0&&e%100!==0||e%400===0}var Le=0,Fe=1,Be=2,qe=3,Ge=4,Ve=5,We=6,He=7,Ye=8;function ze(e){return je(e)?366:365}q("Y",0,0,function(){var e=this.year();return e<=9999?U(e,4):"+"+e}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),Me("Y",be),Me("YY",pe,ue),Me("YYYY",ve,de),Me("YYYYY",ye,fe),Me("YYYYYY",ye,fe),Re(["YYYYY","YYYYYY"],Le),Re("YYYY",function(e,t){t[Le]=2===e.length?o.parseTwoDigitYear(e):Ie(e)}),Re("YY",function(e,t){t[Le]=o.parseTwoDigitYear(e)}),Re("Y",function(e,t){t[Le]=parseInt(e,10)}),o.parseTwoDigitYear=function(e){return Ie(e)+(Ie(e)>68?1900:2e3)};var Je,$e=Xe("FullYear",!0);function Ke(){return je(this.year())}function Xe(e,t){return function(n){return null!=n?(Ze(this,e,n),o.updateOffset(this,t),this):Qe(this,e)}}function Qe(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Ze(e,t,n){var r,o,i,a,s;if(e.isValid()&&!isNaN(n)){switch(r=e._d,o=e._isUTC,t){case"Milliseconds":return void(o?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(o?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(o?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(o?r.setUTCHours(n):r.setHours(n));case"Date":return void(o?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}i=n,a=e.month(),s=29!==(s=e.date())||1!==a||je(i)?s:28,o?r.setUTCFullYear(i,a,s):r.setFullYear(i,a,s)}}function et(e){return x(this[e=re(e)])?this[e]():this}function tt(e,t){if("object"===typeof e){var n,r=ae(e=oe(e)),o=r.length;for(n=0;n<o;n++)this[r[n].unit](e[r[n].unit])}else if(x(this[e=re(e)]))return this[e](t);return this}function nt(e,t){return(e%t+t)%t}function rt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=nt(t,12);return e+=(t-n)/12,1===n?je(e)?29:28:31-n%7%2}Je=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),q("MMMM",0,0,function(e){return this.localeData().months(this,e)}),Me("M",pe,ke),Me("MM",pe,ue),Me("MMM",function(e,t){return t.monthsShortRegex(e)}),Me("MMMM",function(e,t){return t.monthsRegex(e)}),Re(["M","MM"],function(e,t){t[Fe]=Ie(e)-1}),Re(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[Fe]=o:v(n).invalidMonth=e});var ot="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),it="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),at=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,st=Se,ct=Se;function ut(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||at).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function lt(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[at.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dt(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=g([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=Je.call(this._shortMonthsParse,a))?o:null:-1!==(o=Je.call(this._longMonthsParse,a))?o:null:"MMM"===t?-1!==(o=Je.call(this._shortMonthsParse,a))||-1!==(o=Je.call(this._longMonthsParse,a))?o:null:-1!==(o=Je.call(this._longMonthsParse,a))||-1!==(o=Je.call(this._shortMonthsParse,a))?o:null}function ft(e,t,n){var r,o,i;if(this._monthsParseExact)return dt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=g([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function pt(e,t){if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=Ie(t);else if(!d(t=e.localeData().monthsParse(t)))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,rt(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function mt(e){return null!=e?(pt(this,e),o.updateOffset(this,!0),this):Qe(this,"Month")}function gt(){return rt(this.year(),this.month())}function ht(e){return this._monthsParseExact?(c(this,"_monthsRegex")||yt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=st),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function vt(e){return this._monthsParseExact?(c(this,"_monthsRegex")||yt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=ct),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function yt(){function e(e,t){return t.length-e.length}var t,n,r,o,i=[],a=[],s=[];for(t=0;t<12;t++)n=g([2e3,t]),r=xe(this.monthsShort(n,"")),o=xe(this.months(n,"")),i.push(r),a.push(o),s.push(o),s.push(r);i.sort(e),a.sort(e),s.sort(e),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function _t(e,t,n,r,o,i,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,o,i,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,o,i,a),s}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,n){var r=7+t-n;return-(7+bt(e,0,r).getUTCDay()-t)%7+r-1}function Ct(e,t,n,r,o){var i,a,s=1+7*(t-1)+(7+n-r)%7+wt(e,r,o);return s<=0?a=ze(i=e-1)+s:s>ze(e)?(i=e+1,a=s-ze(e)):(i=e,a=s),{year:i,dayOfYear:a}}function Tt(e,t,n){var r,o,i=wt(e.year(),t,n),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?r=a+St(o=e.year()-1,t,n):a>St(e.year(),t,n)?(r=a-St(e.year(),t,n),o=e.year()+1):(o=e.year(),r=a),{week:r,year:o}}function St(e,t,n){var r=wt(e,t,n),o=wt(e+1,t,n);return(ze(e)-r+o)/7}function kt(e){return Tt(e,this._week.dow,this._week.doy).week}q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),Me("w",pe,ke),Me("ww",pe,ue),Me("W",pe,ke),Me("WW",pe,ue),De(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Ie(e)});var Nt={dow:0,doy:6};function Mt(){return this._week.dow}function Et(){return this._week.doy}function Ot(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function xt(e){var t=Tt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function At(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function It(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pt(e,t){return e.slice(t,7).concat(e.slice(0,t))}q("d",0,"do","day"),q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),Me("d",pe),Me("e",pe),Me("E",pe),Me("dd",function(e,t){return t.weekdaysMinRegex(e)}),Me("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Me("dddd",function(e,t){return t.weekdaysRegex(e)}),De(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:v(n).invalidWeekday=e}),De(["d","e","E"],function(e,t,n,r){t[r]=Ie(e)});var Rt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ut="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),jt=Se,Lt=Se,Ft=Se;function Bt(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Pt(n,this._week.dow):e?n[e.day()]:n}function qt(e){return!0===e?Pt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Gt(e){return!0===e?Pt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Vt(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=g([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=Je.call(this._weekdaysParse,a))?o:null:"ddd"===t?-1!==(o=Je.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=Je.call(this._minWeekdaysParse,a))?o:null:"dddd"===t?-1!==(o=Je.call(this._weekdaysParse,a))||-1!==(o=Je.call(this._shortWeekdaysParse,a))||-1!==(o=Je.call(this._minWeekdaysParse,a))?o:null:"ddd"===t?-1!==(o=Je.call(this._shortWeekdaysParse,a))||-1!==(o=Je.call(this._weekdaysParse,a))||-1!==(o=Je.call(this._minWeekdaysParse,a))?o:null:-1!==(o=Je.call(this._minWeekdaysParse,a))||-1!==(o=Je.call(this._weekdaysParse,a))||-1!==(o=Je.call(this._shortWeekdaysParse,a))?o:null}function Wt(e,t,n){var r,o,i;if(this._weekdaysParseExact)return Vt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=g([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=Qe(this,"Day");return null!=e?(e=At(e,this.localeData()),this.add(e-t,"d")):t}function Yt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function zt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=It(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Jt(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=jt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function $t(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Lt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kt(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Xt(){function e(e,t){return t.length-e.length}var t,n,r,o,i,a=[],s=[],c=[],u=[];for(t=0;t<7;t++)n=g([2e3,1]).day(t),r=xe(this.weekdaysMin(n,"")),o=xe(this.weekdaysShort(n,"")),i=xe(this.weekdays(n,"")),a.push(r),s.push(o),c.push(i),u.push(r),u.push(o),u.push(i);a.sort(e),s.sort(e),c.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Qt(){return this.hours()%12||12}function Zt(){return this.hours()||24}function en(e,t){q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function tn(e,t){return t._meridiemParse}function nn(e){return"p"===(e+"").toLowerCase().charAt(0)}q("H",["HH",2],0,"hour"),q("h",["hh",2],0,Qt),q("k",["kk",2],0,Zt),q("hmm",0,0,function(){return""+Qt.apply(this)+U(this.minutes(),2)}),q("hmmss",0,0,function(){return""+Qt.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),en("a",!0),en("A",!1),Me("a",tn),Me("A",tn),Me("H",pe,Ne),Me("h",pe,ke),Me("k",pe,ke),Me("HH",pe,ue),Me("hh",pe,ue),Me("kk",pe,ue),Me("hmm",me),Me("hmmss",ge),Me("Hmm",me),Me("Hmmss",ge),Re(["H","HH"],qe),Re(["k","kk"],function(e,t,n){var r=Ie(e);t[qe]=24===r?0:r}),Re(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Re(["h","hh"],function(e,t,n){t[qe]=Ie(e),v(n).bigHour=!0}),Re("hmm",function(e,t,n){var r=e.length-2;t[qe]=Ie(e.substr(0,r)),t[Ge]=Ie(e.substr(r)),v(n).bigHour=!0}),Re("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[qe]=Ie(e.substr(0,r)),t[Ge]=Ie(e.substr(r,2)),t[Ve]=Ie(e.substr(o)),v(n).bigHour=!0}),Re("Hmm",function(e,t,n){var r=e.length-2;t[qe]=Ie(e.substr(0,r)),t[Ge]=Ie(e.substr(r))}),Re("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[qe]=Ie(e.substr(0,r)),t[Ge]=Ie(e.substr(r,2)),t[Ve]=Ie(e.substr(o))});var rn=/[ap]\.?m?\.?/i,on=Xe("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var sn,cn={calendar:R,longDateFormat:Y,invalidDate:J,ordinal:K,dayOfMonthOrdinalParse:X,relativeTime:Z,months:ot,monthsShort:it,week:Nt,weekdays:Rt,weekdaysMin:Ut,weekdaysShort:Dt,meridiemParse:rn},un={},ln={};function dn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function pn(e){for(var t,n,r,o,i=0;i<e.length;){for(t=(o=fn(e[i]).split("-")).length,n=(n=fn(e[i+1]))?n.split("-"):null;t>0;){if(r=gn(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&dn(o,n)>=t-1)break;t--}i++}return sn}function mn(e){return!(!e||!e.match("^[^/\\\\]*$"))}function gn(t){var r=null;if(void 0===un[t]&&"undefined"!==typeof e&&e&&e.exports&&mn(t))try{r=sn._abbr,n(510)("./"+t),hn(r)}catch(e){un[t]=null}return un[t]}function hn(e,t){var n;return e&&((n=l(t)?_n(e):vn(e,t))?sn=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),sn._abbr}function vn(e,t){if(null!==t){var n,r=cn;if(t.abbr=e,null!=un[e])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=gn(t.parentLocale)))return ln[t.parentLocale]||(ln[t.parentLocale]=[]),ln[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new P(I(r,t)),ln[e]&&ln[e].forEach(function(e){vn(e.name,e.config)}),hn(e),un[e]}return delete un[e],null}function yn(e,t){if(null!=t){var n,r,o=cn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(I(un[e]._config,t)):(null!=(r=gn(e))&&(o=r._config),t=I(o,t),null==r&&(t.abbr=e),(n=new P(t)).parentLocale=un[e],un[e]=n),hn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===hn()&&hn(e)):null!=un[e]&&delete un[e]);return un[e]}function _n(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return sn;if(!a(e)){if(t=gn(e))return t;e=[e]}return pn(e)}function bn(){return M(un)}function wn(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[Fe]<0||n[Fe]>11?Fe:n[Be]<1||n[Be]>rt(n[Le],n[Fe])?Be:n[qe]<0||n[qe]>24||24===n[qe]&&(0!==n[Ge]||0!==n[Ve]||0!==n[We])?qe:n[Ge]<0||n[Ge]>59?Ge:n[Ve]<0||n[Ve]>59?Ve:n[We]<0||n[We]>999?We:-1,v(e)._overflowDayOfYear&&(t<Le||t>Be)&&(t=Be),v(e)._overflowWeeks&&-1===t&&(t=He),v(e)._overflowWeekday&&-1===t&&(t=Ye),v(e).overflow=t),e}var Cn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Tn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/Z|[+-]\d\d(?::?\d\d)?/,kn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Nn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Mn=/^\/?Date\((-?\d+)/i,En=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,On={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function xn(e){var t,n,r,o,i,a,s=e._i,c=Cn.exec(s)||Tn.exec(s),u=kn.length,l=Nn.length;if(c){for(v(e).iso=!0,t=0,n=u;t<n;t++)if(kn[t][1].exec(c[1])){o=kn[t][0],r=!1!==kn[t][2];break}if(null==o)return void(e._isValid=!1);if(c[3]){for(t=0,n=l;t<n;t++)if(Nn[t][1].exec(c[3])){i=(c[2]||" ")+Nn[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(c[4]){if(!Sn.exec(c[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),Gn(e)}else e._isValid=!1}function An(e,t,n,r,o,i){var a=[In(e),it.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&a.push(parseInt(i,10)),a}function In(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Pn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Rn(e,t,n){return!e||Dt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(v(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Dn(e,t,n){if(e)return On[e];if(t)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}function Un(e){var t,n=En.exec(Pn(e._i));if(n){if(t=An(n[4],n[3],n[2],n[5],n[6],n[7]),!Rn(n[1],t,e))return;e._a=t,e._tzm=Dn(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function jn(e){var t=Mn.exec(e._i);null===t?(xn(e),!1===e._isValid&&(delete e._isValid,Un(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:o.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Ln(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(o.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Bn(e){var t,n,r,o,i,a=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[Be]&&null==e._a[Fe]&&qn(e),null!=e._dayOfYear&&(i=Ln(e._a[Le],r[Le]),(e._dayOfYear>ze(i)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=bt(i,0,e._dayOfYear),e._a[Fe]=n.getUTCMonth(),e._a[Be]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[qe]&&0===e._a[Ge]&&0===e._a[Ve]&&0===e._a[We]&&(e._nextDay=!0,e._a[qe]=0),e._d=(e._useUTC?bt:_t).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[qe]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==o&&(v(e).weekdayMismatch=!0)}}function qn(e){var t,n,r,o,i,a,s,c,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(i=1,a=4,n=Ln(t.GG,e._a[Le],Tt(Kn(),1,4).year),r=Ln(t.W,1),((o=Ln(t.E,1))<1||o>7)&&(c=!0)):(i=e._locale._week.dow,a=e._locale._week.doy,u=Tt(Kn(),i,a),n=Ln(t.gg,e._a[Le],u.year),r=Ln(t.w,u.week),null!=t.d?((o=t.d)<0||o>6)&&(c=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(c=!0)):o=i),r<1||r>St(n,i,a)?v(e)._overflowWeeks=!0:null!=c?v(e)._overflowWeekday=!0:(s=Ct(n,r,o,i,a),e._a[Le]=s.year,e._dayOfYear=s.dayOfYear)}function Gn(e){if(e._f!==o.ISO_8601)if(e._f!==o.RFC_2822){e._a=[],v(e).empty=!0;var t,n,r,i,a,s,c,u=""+e._i,l=u.length,d=0;for(c=(r=H(e._f,e._locale).match(j)||[]).length,t=0;t<c;t++)i=r[t],(n=(u.match(Ee(i,e))||[])[0])&&((a=u.substr(0,u.indexOf(n))).length>0&&v(e).unusedInput.push(a),u=u.slice(u.indexOf(n)+n.length),d+=n.length),B[i]?(n?v(e).empty=!1:v(e).unusedTokens.push(i),Ue(i,n,e)):e._strict&&!n&&v(e).unusedTokens.push(i);v(e).charsLeftOver=l-d,u.length>0&&v(e).unusedInput.push(u),e._a[qe]<=12&&!0===v(e).bigHour&&e._a[qe]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[qe]=Vn(e._locale,e._a[qe],e._meridiem),null!==(s=v(e).era)&&(e._a[Le]=e._locale.erasConvertYear(s,e._a[Le])),Bn(e),wn(e)}else Un(e);else xn(e)}function Vn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Wn(e){var t,n,r,o,i,a,s=!1,c=e._f.length;if(0===c)return v(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<c;o++)i=0,a=!1,t=C({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],Gn(t),y(t)&&(a=!0),i+=v(t).charsLeftOver,i+=10*v(t).unusedTokens.length,v(t).score=i,s?i<r&&(r=i,n=t):(null==r||i<r||a)&&(r=i,n=t,a&&(s=!0));m(e,n||t)}function Hn(e){if(!e._d){var t=oe(e._i),n=void 0===t.day?t.date:t.day;e._a=p([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Bn(e)}}function Yn(e){var t=new T(wn(zn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function zn(e){var t=e._i,n=e._f;return e._locale=e._locale||_n(e._l),null===t||void 0===n&&""===t?_({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new T(wn(t)):(f(t)?e._d=t:a(n)?Wn(e):n?Gn(e):Jn(e),y(e)||(e._d=null),e))}function Jn(e){var t=e._i;l(t)?e._d=new Date(o.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?jn(e):a(t)?(e._a=p(t.slice(0),function(e){return parseInt(e,10)}),Bn(e)):s(t)?Hn(e):d(t)?e._d=new Date(t):o.createFromInputFallback(e)}function $n(e,t,n,r,o){var i={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(s(e)&&u(e)||a(e)&&0===e.length)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=r,Yn(i)}function Kn(e,t,n,r){return $n(e,t,n,r,!1)}o.createFromInputFallback=N("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),o.ISO_8601=function(){},o.RFC_2822=function(){};var Xn=N("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()}),Qn=N("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:_()});function Zn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Kn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function er(){return Zn("isBefore",[].slice.call(arguments,0))}function tr(){return Zn("isAfter",[].slice.call(arguments,0))}var nr=function(){return Date.now?Date.now():+new Date},rr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function or(e){var t,n,r=!1,o=rr.length;for(t in e)if(c(e,t)&&(-1===Je.call(rr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<o;++n)if(e[rr[n]]){if(r)return!1;parseFloat(e[rr[n]])!==Ie(e[rr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function ar(){return Or(NaN)}function sr(e){var t=oe(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,c=t.minute||0,u=t.second||0,l=t.millisecond||0;this._isValid=or(t),this._milliseconds=+l+1e3*u+6e4*c+1e3*s*60*60,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=_n(),this._bubble()}function cr(e){return e instanceof sr}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function lr(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(r=0;r<o;r++)(n&&e[r]!==t[r]||!n&&Ie(e[r])!==Ie(t[r]))&&a++;return a+i}function dr(e,t){q(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+U(~~(e/60),2)+t+U(~~e%60,2)})}dr("Z",":"),dr("ZZ",""),Me("Z",Ce),Me("ZZ",Ce),Re(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=pr(Ce,e)});var fr=/([\+\-]|\d\d)/gi;function pr(e,t){var n,r,o=(t||"").match(e);return null===o?null:0===(r=60*(n=((o[o.length-1]||[])+"").match(fr)||["-",0,0])[1]+Ie(n[2]))?0:"+"===n[0]?r:-r}function mr(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(S(e)||f(e)?e.valueOf():Kn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),o.updateOffset(n,!1),n):Kn(e).local()}function gr(e){return-Math.round(e._d.getTimezoneOffset())}function hr(e,t,n){var r,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=pr(Ce,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=gr(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?Rr(this,Or(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,o.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:gr(this)}function vr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function _r(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(gr(this),"m")),this}function br(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=pr(we,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function wr(e){return!!this.isValid()&&(e=e?Kn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Cr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Tr(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return C(t,this),(t=zn(t))._a?(e=t._isUTC?g(t._a):Kn(t._a),this._isDSTShifted=this.isValid()&&lr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Sr(){return!!this.isValid()&&!this._isUTC}function kr(){return!!this.isValid()&&this._isUTC}function Nr(){return!!this.isValid()&&this._isUTC&&0===this._offset}o.updateOffset=function(){};var Mr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Er=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Or(e,t){var n,r,o,i=e,a=null;return cr(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:d(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(a=Mr.exec(e))?(n="-"===a[1]?-1:1,i={y:0,d:Ie(a[Be])*n,h:Ie(a[qe])*n,m:Ie(a[Ge])*n,s:Ie(a[Ve])*n,ms:Ie(ur(1e3*a[We]))*n}):(a=Er.exec(e))?(n="-"===a[1]?-1:1,i={y:xr(a[2],n),M:xr(a[3],n),w:xr(a[4],n),d:xr(a[5],n),h:xr(a[6],n),m:xr(a[7],n),s:xr(a[8],n)}):null==i?i={}:"object"===typeof i&&("from"in i||"to"in i)&&(o=Ir(Kn(i.from),Kn(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),r=new sr(i),cr(e)&&c(e,"_locale")&&(r._locale=e._locale),cr(e)&&c(e,"_isValid")&&(r._isValid=e._isValid),r}function xr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ar(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ir(e,t){var n;return e.isValid()&&t.isValid()?(t=mr(t,e),e.isBefore(t)?n=Ar(e,t):((n=Ar(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Pr(e,t){return function(n,r){var o;return null===r||isNaN(+r)||(O(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),Rr(this,Or(n,r),e),this}}function Rr(e,t,n,r){var i=t._milliseconds,a=ur(t._days),s=ur(t._months);e.isValid()&&(r=null==r||r,s&&pt(e,Qe(e,"Month")+s*n),a&&Ze(e,"Date",Qe(e,"Date")+a*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&o.updateOffset(e,a||s))}Or.fn=sr.prototype,Or.invalid=ar;var Dr=Pr(1,"add"),Ur=Pr(-1,"subtract");function jr(e){return"string"===typeof e||e instanceof String}function Lr(e){return S(e)||f(e)||jr(e)||d(e)||Br(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=s(e)&&!u(e),o=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=i.length;for(t=0;t<a;t+=1)n=i[t],o=o||c(e,n);return r&&o}function Br(e){var t=a(e),n=!1;return t&&(n=0===e.filter(function(t){return!d(t)&&jr(e)}).length),t&&n}function qr(e){var t,n,r=s(e)&&!u(e),o=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<i.length;t+=1)n=i[t],o=o||c(e,n);return r&&o}function Gr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Vr(e,t){1===arguments.length&&(arguments[0]?Lr(arguments[0])?(e=arguments[0],t=void 0):qr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Kn(),r=mr(n,this).startOf("day"),i=o.calendarFormat(this,r)||"sameElse",a=t&&(x(t[i])?t[i].call(this,n):t[i]);return this.format(a||this.localeData().calendar(i,this,Kn(n)))}function Wr(){return new T(this)}function Hr(e,t){var n=S(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Yr(e,t){var n=S(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function zr(e,t,n,r){var o=S(e)?e:Kn(e),i=S(t)?t:Kn(t);return!!(this.isValid()&&o.isValid()&&i.isValid())&&("("===(r=r||"()")[0]?this.isAfter(o,n):!this.isBefore(o,n))&&(")"===r[1]?this.isBefore(i,n):!this.isAfter(i,n))}function Jr(e,t){var n,r=S(e)?e:Kn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function $r(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Kr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Xr(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=mr(e,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":i=Qr(this,r)/12;break;case"month":i=Qr(this,r);break;case"quarter":i=Qr(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:Ae(i)}function Qr(e,t){if(e.date()<t.date())return-Qr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Zr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function eo(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):x(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function to(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,o="moment",i="";return this.isLocal()||(o=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+o+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=i+'[")]',this.format(e+t+n+r)}function no(e){e||(e=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)}function ro(e,t){return this.isValid()&&(S(e)&&e.isValid()||Kn(e).isValid())?Or({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function oo(e){return this.from(Kn(),e)}function io(e,t){return this.isValid()&&(S(e)&&e.isValid()||Kn(e).isValid())?Or({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ao(e){return this.to(Kn(),e)}function so(e){var t;return void 0===e?this._locale._abbr:(null!=(t=_n(e))&&(this._locale=t),this)}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var co=N("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function uo(){return this._locale}var lo=1e3,fo=60*lo,po=60*fo,mo=3506328*po;function go(e,t){return(e%t+t)%t}function ho(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-mo:new Date(e,t,n).valueOf()}function vo(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-mo:Date.UTC(e,t,n)}function yo(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vo:ho,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=go(t+(this._isUTC?0:this.utcOffset()*fo),po);break;case"minute":t=this._d.valueOf(),t-=go(t,fo);break;case"second":t=this._d.valueOf(),t-=go(t,lo)}return this._d.setTime(t),o.updateOffset(this,!0),this}function _o(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vo:ho,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=po-go(t+(this._isUTC?0:this.utcOffset()*fo),po)-1;break;case"minute":t=this._d.valueOf(),t+=fo-go(t,fo)-1;break;case"second":t=this._d.valueOf(),t+=lo-go(t,lo)-1}return this._d.setTime(t),o.updateOffset(this,!0),this}function bo(){return this._d.valueOf()-6e4*(this._offset||0)}function wo(){return Math.floor(this.valueOf()/1e3)}function Co(){return new Date(this.valueOf())}function To(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function So(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function ko(){return this.isValid()?this.toISOString():null}function No(){return y(this)}function Mo(){return m({},v(this))}function Eo(){return v(this).overflow}function Oo(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function xo(e,t){var n,r,i,a=this._eras||_n("en")._eras;for(n=0,r=a.length;n<r;++n)switch("string"===typeof a[n].since&&(i=o(a[n].since).startOf("day"),a[n].since=i.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":i=o(a[n].until).startOf("day").valueOf(),a[n].until=i.valueOf()}return a}function Ao(e,t,n){var r,o,i,a,s,c=this.eras();for(e=e.toUpperCase(),r=0,o=c.length;r<o;++r)if(i=c[r].name.toUpperCase(),a=c[r].abbr.toUpperCase(),s=c[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return c[r];break;case"NNNN":if(i===e)return c[r];break;case"NNNNN":if(s===e)return c[r]}else if([i,a,s].indexOf(e)>=0)return c[r]}function Io(e,t){var n=e.since<=e.until?1:-1;return void 0===t?o(e.since).year():o(e.since).year()+(t-e.offset)*n}function Po(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Ro(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Do(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Uo(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-o(i[e].since).year())*n+i[e].offset;return this.year()}function jo(e){return c(this,"_erasNameRegex")||Wo.call(this),e?this._erasNameRegex:this._erasRegex}function Lo(e){return c(this,"_erasAbbrRegex")||Wo.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fo(e){return c(this,"_erasNarrowRegex")||Wo.call(this),e?this._erasNarrowRegex:this._erasRegex}function Bo(e,t){return t.erasAbbrRegex(e)}function qo(e,t){return t.erasNameRegex(e)}function Go(e,t){return t.erasNarrowRegex(e)}function Vo(e,t){return t._eraYearOrdinalRegex||_e}function Wo(){var e,t,n,r,o,i=[],a=[],s=[],c=[],u=this.eras();for(e=0,t=u.length;e<t;++e)n=xe(u[e].name),r=xe(u[e].abbr),o=xe(u[e].narrow),a.push(n),i.push(r),s.push(o),c.push(n),c.push(r),c.push(o);this._erasRegex=new RegExp("^("+c.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}function Ho(e,t){q(0,[e,e.length],0,t)}function Yo(e){return Qo.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function zo(e){return Qo.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Jo(){return St(this.year(),1,4)}function $o(){return St(this.isoWeekYear(),1,4)}function Ko(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function Xo(){var e=this.localeData()._week;return St(this.weekYear(),e.dow,e.doy)}function Qo(e,t,n,r,o){var i;return null==e?Tt(this,r,o).year:(t>(i=St(e,r,o))&&(t=i),Zo.call(this,e,t,n,r,o))}function Zo(e,t,n,r,o){var i=Ct(e,t,n,r,o),a=bt(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function ei(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}q("N",0,0,"eraAbbr"),q("NN",0,0,"eraAbbr"),q("NNN",0,0,"eraAbbr"),q("NNNN",0,0,"eraName"),q("NNNNN",0,0,"eraNarrow"),q("y",["y",1],"yo","eraYear"),q("y",["yy",2],0,"eraYear"),q("y",["yyy",3],0,"eraYear"),q("y",["yyyy",4],0,"eraYear"),Me("N",Bo),Me("NN",Bo),Me("NNN",Bo),Me("NNNN",qo),Me("NNNNN",Go),Re(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?v(n).era=o:v(n).invalidEra=e}),Me("y",_e),Me("yy",_e),Me("yyy",_e),Me("yyyy",_e),Me("yo",Vo),Re(["y","yy","yyy","yyyy"],Le),Re(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Le]=n._locale.eraYearOrdinalParse(e,o):t[Le]=parseInt(e,10)}),q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ho("gggg","weekYear"),Ho("ggggg","weekYear"),Ho("GGGG","isoWeekYear"),Ho("GGGGG","isoWeekYear"),Me("G",be),Me("g",be),Me("GG",pe,ue),Me("gg",pe,ue),Me("GGGG",ve,de),Me("gggg",ve,de),Me("GGGGG",ye,fe),Me("ggggg",ye,fe),De(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Ie(e)}),De(["gg","GG"],function(e,t,n,r){t[r]=o.parseTwoDigitYear(e)}),q("Q",0,"Qo","quarter"),Me("Q",ce),Re("Q",function(e,t){t[Fe]=3*(Ie(e)-1)}),q("D",["DD",2],"Do","date"),Me("D",pe,ke),Me("DD",pe,ue),Me("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Re(["D","DD"],Be),Re("Do",function(e,t){t[Be]=Ie(e.match(pe)[0])});var ti=Xe("Date",!0);function ni(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}q("DDD",["DDDD",3],"DDDo","dayOfYear"),Me("DDD",he),Me("DDDD",le),Re(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Ie(e)}),q("m",["mm",2],0,"minute"),Me("m",pe,Ne),Me("mm",pe,ue),Re(["m","mm"],Ge);var ri=Xe("Minutes",!1);q("s",["ss",2],0,"second"),Me("s",pe,Ne),Me("ss",pe,ue),Re(["s","ss"],Ve);var oi,ii,ai=Xe("Seconds",!1);for(q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Me("S",he,ce),Me("SS",he,ue),Me("SSS",he,le),oi="SSSS";oi.length<=9;oi+="S")Me(oi,_e);function si(e,t){t[We]=Ie(1e3*("0."+e))}for(oi="S";oi.length<=9;oi+="S")Re(oi,si);function ci(){return this._isUTC?"UTC":""}function ui(){return this._isUTC?"Coordinated Universal Time":""}ii=Xe("Milliseconds",!1),q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var li=T.prototype;function di(e){return Kn(1e3*e)}function fi(){return Kn.apply(null,arguments).parseZone()}function pi(e){return e}li.add=Dr,li.calendar=Vr,li.clone=Wr,li.diff=Xr,li.endOf=_o,li.format=no,li.from=ro,li.fromNow=oo,li.to=io,li.toNow=ao,li.get=et,li.invalidAt=Eo,li.isAfter=Hr,li.isBefore=Yr,li.isBetween=zr,li.isSame=Jr,li.isSameOrAfter=$r,li.isSameOrBefore=Kr,li.isValid=No,li.lang=co,li.locale=so,li.localeData=uo,li.max=Qn,li.min=Xn,li.parsingFlags=Mo,li.set=tt,li.startOf=yo,li.subtract=Ur,li.toArray=To,li.toObject=So,li.toDate=Co,li.toISOString=eo,li.inspect=to,"undefined"!==typeof Symbol&&null!=Symbol.for&&(li[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),li.toJSON=ko,li.toString=Zr,li.unix=wo,li.valueOf=bo,li.creationData=Oo,li.eraName=Po,li.eraNarrow=Ro,li.eraAbbr=Do,li.eraYear=Uo,li.year=$e,li.isLeapYear=Ke,li.weekYear=Yo,li.isoWeekYear=zo,li.quarter=li.quarters=ei,li.month=mt,li.daysInMonth=gt,li.week=li.weeks=Ot,li.isoWeek=li.isoWeeks=xt,li.weeksInYear=Ko,li.weeksInWeekYear=Xo,li.isoWeeksInYear=Jo,li.isoWeeksInISOWeekYear=$o,li.date=ti,li.day=li.days=Ht,li.weekday=Yt,li.isoWeekday=zt,li.dayOfYear=ni,li.hour=li.hours=on,li.minute=li.minutes=ri,li.second=li.seconds=ai,li.millisecond=li.milliseconds=ii,li.utcOffset=hr,li.utc=yr,li.local=_r,li.parseZone=br,li.hasAlignedHourOffset=wr,li.isDST=Cr,li.isLocal=Sr,li.isUtcOffset=kr,li.isUtc=Nr,li.isUTC=Nr,li.zoneAbbr=ci,li.zoneName=ui,li.dates=N("dates accessor is deprecated. Use date instead.",ti),li.months=N("months accessor is deprecated. Use month instead",mt),li.years=N("years accessor is deprecated. Use year instead",$e),li.zone=N("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vr),li.isDSTShifted=N("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Tr);var mi=P.prototype;function gi(e,t,n,r){var o=_n(),i=g().set(r,t);return o[n](i,e)}function hi(e,t,n){if(d(e)&&(t=e,e=void 0),e=e||"",null!=t)return gi(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=gi(e,r,n,"month");return o}function vi(e,t,n,r){"boolean"===typeof e?(d(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,d(t)&&(n=t,t=void 0),t=t||"");var o,i=_n(),a=e?i._week.dow:0,s=[];if(null!=n)return gi(t,(n+a)%7,r,"day");for(o=0;o<7;o++)s[o]=gi(t,(o+a)%7,r,"day");return s}function yi(e,t){return hi(e,t,"months")}function _i(e,t){return hi(e,t,"monthsShort")}function bi(e,t,n){return vi(e,t,n,"weekdays")}function wi(e,t,n){return vi(e,t,n,"weekdaysShort")}function Ci(e,t,n){return vi(e,t,n,"weekdaysMin")}mi.calendar=D,mi.longDateFormat=z,mi.invalidDate=$,mi.ordinal=Q,mi.preparse=pi,mi.postformat=pi,mi.relativeTime=ee,mi.pastFuture=te,mi.set=A,mi.eras=xo,mi.erasParse=Ao,mi.erasConvertYear=Io,mi.erasAbbrRegex=Lo,mi.erasNameRegex=jo,mi.erasNarrowRegex=Fo,mi.months=ut,mi.monthsShort=lt,mi.monthsParse=ft,mi.monthsRegex=vt,mi.monthsShortRegex=ht,mi.week=kt,mi.firstDayOfYear=Et,mi.firstDayOfWeek=Mt,mi.weekdays=Bt,mi.weekdaysMin=Gt,mi.weekdaysShort=qt,mi.weekdaysParse=Wt,mi.weekdaysRegex=Jt,mi.weekdaysShortRegex=$t,mi.weekdaysMinRegex=Kt,mi.isPM=nn,mi.meridiem=an,hn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Ie(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),o.lang=N("moment.lang is deprecated. Use moment.locale instead.",hn),o.langData=N("moment.langData is deprecated. Use moment.localeData instead.",_n);var Ti=Math.abs;function Si(){var e=this._data;return this._milliseconds=Ti(this._milliseconds),this._days=Ti(this._days),this._months=Ti(this._months),e.milliseconds=Ti(e.milliseconds),e.seconds=Ti(e.seconds),e.minutes=Ti(e.minutes),e.hours=Ti(e.hours),e.months=Ti(e.months),e.years=Ti(e.years),this}function ki(e,t,n,r){var o=Or(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function Ni(e,t){return ki(this,e,t,1)}function Mi(e,t){return ki(this,e,t,-1)}function Ei(e){return e<0?Math.floor(e):Math.ceil(e)}function Oi(){var e,t,n,r,o,i=this._milliseconds,a=this._days,s=this._months,c=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*Ei(Ai(s)+a),a=0,s=0),c.milliseconds=i%1e3,e=Ae(i/1e3),c.seconds=e%60,t=Ae(e/60),c.minutes=t%60,n=Ae(t/60),c.hours=n%24,a+=Ae(n/24),s+=o=Ae(xi(a)),a-=Ei(Ai(o)),r=Ae(s/12),s%=12,c.days=a,c.months=s,c.years=r,this}function xi(e){return 4800*e/146097}function Ai(e){return 146097*e/4800}function Ii(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+xi(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ai(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Pi(e){return function(){return this.as(e)}}var Ri=Pi("ms"),Di=Pi("s"),Ui=Pi("m"),ji=Pi("h"),Li=Pi("d"),Fi=Pi("w"),Bi=Pi("M"),qi=Pi("Q"),Gi=Pi("y"),Vi=Ri;function Wi(){return Or(this)}function Hi(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Yi(e){return function(){return this.isValid()?this._data[e]:NaN}}var zi=Yi("milliseconds"),Ji=Yi("seconds"),$i=Yi("minutes"),Ki=Yi("hours"),Xi=Yi("days"),Qi=Yi("months"),Zi=Yi("years");function ea(){return Ae(this.days()/7)}var ta=Math.round,na={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ra(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function oa(e,t,n,r){var o=Or(e).abs(),i=ta(o.as("s")),a=ta(o.as("m")),s=ta(o.as("h")),c=ta(o.as("d")),u=ta(o.as("M")),l=ta(o.as("w")),d=ta(o.as("y")),f=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||c<=1&&["d"]||c<n.d&&["dd",c];return null!=n.w&&(f=f||l<=1&&["w"]||l<n.w&&["ww",l]),(f=f||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d])[2]=t,f[3]=+e>0,f[4]=r,ra.apply(null,f)}function ia(e){return void 0===e?ta:"function"===typeof e&&(ta=e,!0)}function aa(e,t){return void 0!==na[e]&&(void 0===t?na[e]:(na[e]=t,"s"===e&&(na.ss=t-1),!0))}function sa(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,o=!1,i=na;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(o=e),"object"===typeof t&&(i=Object.assign({},na,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),r=oa(this,!o,i,n=this.localeData()),o&&(r=n.pastFuture(+this,r)),n.postformat(r)}var ca=Math.abs;function ua(e){return(e>0)-(e<0)||+e}function la(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,o,i,a,s,c=ca(this._milliseconds)/1e3,u=ca(this._days),l=ca(this._months),d=this.asSeconds();return d?(e=Ae(c/60),t=Ae(e/60),c%=60,e%=60,n=Ae(l/12),l%=12,r=c?c.toFixed(3).replace(/\.?0+$/,""):"",o=d<0?"-":"",i=ua(this._months)!==ua(d)?"-":"",a=ua(this._days)!==ua(d)?"-":"",s=ua(this._milliseconds)!==ua(d)?"-":"",o+"P"+(n?i+n+"Y":"")+(l?i+l+"M":"")+(u?a+u+"D":"")+(t||e||c?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(c?s+r+"S":"")):"P0D"}var da=sr.prototype;return da.isValid=ir,da.abs=Si,da.add=Ni,da.subtract=Mi,da.as=Ii,da.asMilliseconds=Ri,da.asSeconds=Di,da.asMinutes=Ui,da.asHours=ji,da.asDays=Li,da.asWeeks=Fi,da.asMonths=Bi,da.asQuarters=qi,da.asYears=Gi,da.valueOf=Vi,da._bubble=Oi,da.clone=Wi,da.get=Hi,da.milliseconds=zi,da.seconds=Ji,da.minutes=$i,da.hours=Ki,da.days=Xi,da.weeks=ea,da.months=Qi,da.years=Zi,da.humanize=sa,da.toISOString=la,da.toString=la,da.toJSON=la,da.locale=so,da.localeData=uo,da.toIsoString=N("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",la),da.lang=co,q("X",0,0,"unix"),q("x",0,0,"valueOf"),Me("x",be),Me("X",Te),Re("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),Re("x",function(e,t,n){n._d=new Date(Ie(e))}),o.version="2.30.1",i(Kn),o.fn=li,o.min=er,o.max=tr,o.now=nr,o.utc=g,o.unix=di,o.months=yi,o.isDate=f,o.locale=hn,o.invalid=_,o.duration=Or,o.isMoment=S,o.weekdays=bi,o.parseZone=fi,o.localeData=_n,o.isDuration=cr,o.monthsShort=_i,o.weekdaysMin=Ci,o.defineLocale=vn,o.updateLocale=yn,o.locales=bn,o.weekdaysShort=wi,o.normalizeUnits=re,o.relativeTimeRounding=ia,o.relativeTimeThreshold=aa,o.calendarFormat=Gr,o.prototype=li,o.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},o}()}).call(this,n(105)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(20).default,o=n(521);e.exports=function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(108);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(193),o=n(529);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(526),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){var r=n(194)(Object,"create");e.exports=r},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(550);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(556);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(25).Symbol;e.exports=r},function(e,t,n){var r=n(93),o=n(74);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(53)(Object,"create");e.exports=r},function(e,t,n){var r=n(587),o=n(588),i=n(589),a=n(590),s=n(591);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(201);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(593);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(202),o=n(203);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=i?i(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?o(n,u,l):r(n,u,l)}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.isBuyerPWA=location.pathname.indexOf("messengerAlone.htm")>=0,o=t.isSellerPWA=location.pathname.indexOf("weblitePWA.htm")>=0,i=t.isPureMessenger=location.pathname.indexOf("messenger.htm")>=0||location.pathname.indexOf("messengerShadow.htm")>=0,a=t.isPureWeblite=location.pathname.indexOf("weblite.htm")>=0,s=t.isWebATM=location.pathname.indexOf("webATM.htm")>=0;t.isWeblite=a||s,t.isMessenger=r||o||i,t.isSeller=o||location.pathname.indexOf("maDetail")>=0},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return b}),n.d(t,"b",function(){return S});var r=n(43),o=n(2),i=n.n(o),a=n(163),s=n.n(a),c=n(47),u=n(71),l=n(41),d=n(161),f=n.n(d),p=(n(498),n(162)),m=(n(226),1073741823),g="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};var h=i.a.createContext||function(e,t){var n,o,a="__create-react-context-"+function(){var e="__global_unique_id__";return g[e]=(g[e]||0)+1}()+"__",c=function(e){function n(){for(var t,n,r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).emitter=(n=t.props.value,r=[],{on:function(e){r.push(e)},off:function(e){r=r.filter(function(t){return t!==e})},get:function(){return n},set:function(e,t){n=e,r.forEach(function(e){return e(n,t)})}}),t}Object(r.a)(n,e);var o=n.prototype;return o.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},o.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,o=e.value;((i=r)===(a=o)?0!==i||1/i===1/a:i!==i&&a!==a)?n=0:(n="function"===typeof t?t(r,o):m,0!==(n|=0)&&this.emitter.set(e.value,n))}var i,a},o.render=function(){return this.props.children},n}(i.a.Component);c.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(r.a)(n,t);var o=n.prototype;return o.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?m:t},o.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?m:e},o.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},o.getValue=function(){return this.context[a]?this.context[a].get():e},o.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.a.Component);return u.contextTypes=((o={})[a]=s.a.object,o),{Provider:c,Consumer:u}},v=function(e){var t=h();return t.displayName=e,t},y=v("Router-History"),_=v("Router"),b=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._pendingLocation=e})),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(t){e._isMounted&&e.setState({location:t})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return i.a.createElement(_.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i.a.createElement(y.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i.a.Component);i.a.Component;i.a.Component;var w={},C=1e4,T=0;function S(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,i=void 0!==o&&o,a=n.strict,s=void 0!==a&&a,c=n.sensitive,u=void 0!==c&&c;return[].concat(r).reduce(function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=w[n]||(w[n]={});if(r[e])return r[e];var o=[],i={regexp:f()(e,o,t),keys:o};return T<C&&(r[e]=i,T++),i}(n,{end:i,strict:s,sensitive:u}),o=r.regexp,a=r.keys,c=o.exec(e);if(!c)return null;var l=c[0],d=c.slice(1),p=e===l;return i&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:a.reduce(function(e,t,n){return e[t.name]=d[n],e},{})}},null)}i.a.Component;function k(e){return"/"===e.charAt(0)?e:"/"+e}function N(e,t){if(!e)return t;var n=k(e);return 0!==t.pathname.indexOf(n)?t:Object(l.a)({},t,{pathname:t.pathname.substr(n.length)})}function M(e){return"string"===typeof e?e:Object(c.c)(e)}function E(e){return function(){Object(u.a)(!1)}}function O(){}i.a.Component;i.a.Component;i.a.useContext}).call(this,n(9))},function(e,t,n){(function(r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(e){}!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production"}).DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(660)(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(7))},function(e,t,n){var r=n(112),o=n(665),i=n(666),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,u,l,d,f,p,m=0,g=!1,h=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=c,r=u;return c=u=void 0,m=t,d=e.apply(r,n)}function _(e){var n=e-p;return void 0===p||n>=t||n<0||h&&e-m>=l}function b(){var e=o();if(_(e))return w(e);f=setTimeout(b,function(e){var n=t-(e-p);return h?s(n,l-(e-m)):n}(e))}function w(e){return f=void 0,v&&c?y(e):(c=u=void 0,d)}function C(){var e=o(),n=_(e);if(c=arguments,u=this,p=e,n){if(void 0===f)return function(e){return m=e,f=setTimeout(b,t),g?y(e):d}(p);if(h)return clearTimeout(f),f=setTimeout(b,t),y(p)}return void 0===f&&(f=setTimeout(b,t)),d}return t=i(t)||0,r(n)&&(g=!!n.leading,l=(h="maxWait"in n)?a(i(n.maxWait)||0,t):l,v="trailing"in n?!!n.trailing:v),C.cancel=function(){void 0!==f&&clearTimeout(f),m=0,c=p=u=f=void 0},C.flush=function(){return void 0===f?d:w(o())},C}},,,,,,function(e,t,n){"use strict";var r=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(e),(window.debugGoldlog||location.href.indexOf("debugGoldlog=1")>-1)&&i.log("goldlog",e)};var o=r(n(33)),i=new(r(n(102)).default)("ssesdk")},function(e,t,n){e.exports=n(474)()},function(e,t,n){"use strict";var r=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createI18N=void 0;var o=r(n(20)),i=r(n(91)),a=r(n(23)),s=r(n(674)),c=n(122),u=n(72),l="intl-gangesweb",d=c.isSeller?(0,u.getLocale)():(0,u.getBuyerLocale)(),f=d.lang;s.default.setready({defaultMcmsAppname:l,lang:f});var p=["trade-ma","trade-contract","intl-gangesweb"],m=window._I18N_||{},g=!1,h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{namespace:""};(0,i.default)(this,e);var n=t.namespace;this.namePrefix=n?"".concat(n,"."):""}return(0,a.default)(e,[{key:"loadI18n",value:function(){for(var e=document.querySelectorAll('script[type="json/i18n"]'),t=0;t<e.length;t++)try{Object.assign(m,JSON.parse(e[t].innerHTML))}catch(e){console.error(e)}Object.keys(m).length>0&&(g=!0)}},{key:"createI18N",value:function(t){return new e({namespace:t.namespace})}},{key:"get",value:function(e,t){g||this.loadI18n();var n=this.namePrefix.split("."),r=n&&n[0],i="".concat(this.namePrefix).concat(e);if(p.indexOf(r)>=0&&window.mcmsWithoutAppName){for(var a=[],c=1;c<n.length;c++)a.push(n[c]);var u=a.join(".");i="".concat(u).concat(e)}var d=m[i];if(d&&t&&"object"===(0,o.default)(t))for(var h in t)d=d.replace("{".concat(h,"}"),t[h]);if(f&&"pd_kv"===(f||"").replace(/-/,"_").replace(/[-_]*([A-Z]+)/,function(e,t){return"_".concat(t.toLowerCase())}).toLowerCase())return"##@@@".concat(i,"##").concat(l,"@@@##");var v="normal";return"undefined"===typeof d&&(v="empty"),s.default.pushQueue(i,v,l),d}},{key:"getLocale",value:function(){return"en-us"}},{key:"setConfig",value:function(){}},{key:"_getLangPack",value:function(e){return e=e&&"undefined"!==typeof e?e:this.getLocale(),m[e]}},{key:"_getName",value:function(e){var t=this.namePrefix;return""!==t?"".concat(t,".").concat(e):e}},{key:"_getValue",value:function(e,t){if("string"!==typeof e)return console&&console.warn&&console.warn("文案索引 [%s] 不合符要求。",e),!1;var n=this._getLangPack(t),r=this._getName(e);return n?n[r]:void 0}},{key:"getOriginal",value:function(e,t){var n=this._getValue(e,t);if(!n){if(console&&console.warn&&console.warn("指定的文案索引 %s 在语言包 [%s] 中不存在。",this.namePrefix?"[".concat(this.namePrefix,"].[").concat(e,"]"):"[".concat(e,"]"),t),!(n=this.get(e))){var r=this._getLangPack(d);n=r?r[e]:void 0}if(!n)return e}return n}}])}(),v=new h;t.createI18N=v.createI18N,t.default=v},function(e,t,n){"use strict";var r=n(14),o=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.jsonp=function(e,t){return F.apply(this,arguments)},t.mtopRequestWrapped=t.mtopRequest=void 0,t.request=function(e){return z.apply(this,arguments)};var i=r(n(48)),a=r(n(20)),s=r(n(23)),c=r(n(91)),u=r(n(106)),l=r(n(92)),d=r(n(107)),f=r(n(678)),p=r(n(1));n(682);var m,g,h,v,y=r(n(183)),_=n(122),b=A(n(684)),w=r(n(685)),C=r(n(33)),T=r(n(250)),S=A(n(219)),k=A(n(175)),N=n(94),M=n(55),E=r(n(176)),O=n(101),x=n(155);function A(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(A=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,s={__proto__:null,default:e};if(null===e||"object"!=o(e)&&"function"!=typeof e)return s;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,s)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(a.get||a.set)?i(s,c,a):s[c]=e[c]);return s})(e,t)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(R=function(){return!!e})()}var D=["".concat(O.ONETALK_DOMAIN,"/message/getChatMessageList.htm"),"".concat(O.ONETALK_DOMAIN,"/message/getRecentContactList.htm")],U=window.csrfTokenKey||(null===(m=window.GDATA)||void 0===m||null===(g=m.system)||void 0===g?void 0:g.csrfTokenKey),j=window.csrfTokenVal||(null===(h=window.GDATA)||void 0===h||null===(v=h.system)||void 0===v?void 0:v.csrfTokenVal);b.config.mainDomain=(0,x.transferDomain)("alibaba.com"),b.config.subDomain="h",b.config.prefix=window.mtopServerDomain||"acs",b.config.syncCookieMode=!0,b.middlewares&&Array.isArray(b.middlewares)?b.middlewares.includes(w.default)||b.middlewares.push(w.default):b.middlewares=[w.default];var L=t.mtopRequest=b.request;t.mtopRequestWrapped=function(e){return L(e).catch(function(e){return e})};function F(){return(F=(0,p.default)(regeneratorRuntime.mark(function e(t,n){var r,o,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.cookie,(o=r&&r.match(/(?:^|;)\s*xman_us_t\s*=\s*([^;]+)/))&&(o=o[1].match(/(?:^|&)\s*ctoken\s*=\s*([^&]+)/)),i=o&&o[1],o=r&&r.match(/(?:^|;)\s*_tb_token_\s*=\s*([^;]+)/),a=o&&o[1],s=G(s=Object.assign({},n,{ctoken:i,_tb_token_:a})),e.abrupt("return",(0,y.default)("".concat(t,"?").concat(s)).then(function(e){return e.json()}).catch(function(){return{code:500,data:{}}}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var B=function(e){function t(e,n){return(0,c.default)(this,t),r=this,o=t,i=[e,n],o=(0,l.default)(o),(0,u.default)(r,R()?Reflect.construct(o,i||[],(0,l.default)(r).constructor):o.apply(r,i));var r,o,i}return(0,d.default)(t,e),(0,s.default)(t)}((0,f.default)(Error));function q(e){if(e.status>=200&&e.status<300)return e;throw new B(e.statusText,e)}function G(e){var t,n={},r=[];for(t in e)"object"===(0,a.default)(e[t])&&(e[t]=JSON.stringify(e[t])),n[t]=e[t];for(t in n)r[r.length]="".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n[t]));return r.join("&")}function V(e){var t=[],n=/\[\]$/,r=function(e,n){n="function"===typeof n?n():null===n||void 0===n?"":n,t[t.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)},o=function(e,i){var s,c,u;if(e)if(Array.isArray(i))for(s=0,c=i.length;s<c;s++)n.test(e)?r(e,i[s]):o(e+"["+("object"===(0,a.default)(i[s])?s:"")+"]",i[s]);else if(i&&"[object Object]"===String(i))for(u in i)o(e+"["+u+"]",i[u]);else r(e,i);else if(i&&"object"===(0,a.default)(i))for(u in i)o(u,i[u]);return t};return o("",e).join("&")}function W(e,t){if(!t)return e;var n=e.indexOf("?")>-1?"&":"?";return"".concat(e).concat(n).concat(t)}var H="",Y="";function z(){return z=(0,p.default)(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,s,c,u,l,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:{},r={cache:"no-cache",credentials:"include",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"GET",mode:"cors"},Object.assign(r,n),!r.body){e.next=8;break}if("POST"!==r.method||-1===t.indexOf(window.location.host)||!U||!j){e.next=1;break}r.body[U]=j,e.next=7;break;case 1:if("POST"!==r.method){e.next=7;break}if(o="",i="",!/onetalk.alibaba./.test(t)){e.next=4;break}if(H){e.next=3;break}return i="//".concat(O.ONETALK_DOMAIN,"/csrf/getToken.htm"),o="POST",e.next=2,J(i,{method:o});case 2:H=e.sent;case 3:r.body._csrf=H.token,e.next=7;break;case 4:if(!/message.alibaba./.test(t)){e.next=7;break}if(Y){e.next=6;break}return i="//".concat(O.MESSAGE_DOMAIN,"/message/ajax/csrftoken.htm"),o="GET",e.next=5,J(i,{method:o});case 5:Y=e.sent;case 6:r.body._csrf_token_=Y.data.token;case 7:a=r.headers&&"application/json"===r.headers["Content-Type"]?JSON.stringify(r.body):V(r.body),"GET"===r.method?(t=W(t,a),delete r.body):r.body=a;case 8:return e.prev=8,e.next=9,fetch(t,r);case 9:return q(s=e.sent),e.next=10,s.json();case 10:return(c=e.sent)||(c={}),1*c.code!==501||_.isPureWeblite||setTimeout(function(){var e;if((0,C.default)({ext:"redirectLogin501",bizData:{url:encodeURIComponent(t),eagleeyeId:null===s||void 0===s||null===(e=s.headers)||void 0===e?void 0:e.get("X-Eagleeye-Id")}}),N.isAlisupplier&&!N.isMac){var n=(0,M.getLinkVars)(window.location.search);null===S||void 0===S||S.invoke("im.uiutil.notifyWebToLogin",{traceId:n.traceId,errorCode:"redirectLogin501",subErrorCode:"",cookie:k.get("xman_us_t")})}var r="//".concat(O.PASSPORT_DOMAIN,"/icbu_login.htm"),o=encodeURIComponent(location.href);(0,E.default)("".concat(r,"?return_url=").concat(o))},1e3),u={data:c,headers:{}},D.indexOf(t.replace("//",""))>=0&&c.data&&c.data.list&&0===c.data.list.length&&T.default.info("listEmpty",{aliId:window.aliId}),e.abrupt("return",u);case 11:return e.prev=11,l=e.catch(8),e.abrupt("return",{data:{code:"-1000",message:"request error: url is ".concat(t,", message is ").concat(l.message)}});case 12:case"end":return e.stop()}},e,null,[[8,11]])})),z.apply(this,arguments)}function J(e){return $.apply(this,arguments)}function $(){return $=(0,p.default)(regeneratorRuntime.mark(function e(t){var n,r,o,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=P({cache:"no-cache",credentials:"include",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",mode:"cors"},n=i.length>1&&void 0!==i[1]?i[1]:{}),e.next=1,fetch(t,n);case 1:return q(r=e.sent),e.next=2,r.json();case 2:return(o=e.sent)||(o={}),e.abrupt("return",o);case 3:case"end":return e.stop()}},e)})),$.apply(this,arguments)}},,,function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=a(t,r));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){n(506),e.exports=self.fetch.bind(self)},function(e,t){e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(141);function o(){var t,n,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.toStringTag||"@@toStringTag";function c(e,o,i,a){var s=o&&o.prototype instanceof l?o:l,c=Object.create(s.prototype);return r(c,"_invoke",function(e,r,o){var i,a,s,c=0,l=o||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,a=0,s=t,f.n=n,u}};function p(e,r){for(a=e,s=r,n=0;!d&&c&&!o&&n<l.length;n++){var o,i=l[n],p=f.p,m=i[2];e>3?(o=m===r)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=e<2&&p<i[1])?(a=0,f.v=r,f.n=i[1]):p<m&&(o=e<3||i[0]>r||r>m)&&(i[4]=e,i[5]=r,f.n=m,a=0))}if(o||e>1)return u;throw d=!0,r}return function(o,l,m){if(c>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,m),a=l,s=m;(n=a<2?t:s)||!d;){i||(a?a<3?(a>1&&(f.n=-1),p(a,s)):f.n=s:f.v=s);try{if(c=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(d=f.n<0)?s:e.call(r,f))!==u)break}catch(e){i=t,a=1,s=e}finally{c=1}}return{value:n,done:d}}}(e,i,a),!0),c}var u={};function l(){}function d(){}function f(){}n=Object.getPrototypeOf;var p=[][a]?n(n([][a]())):(r(n={},a,function(){return this}),n),m=f.prototype=l.prototype=Object.create(p);function g(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,r(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e}return d.prototype=f,r(m,"constructor",f),r(f,"constructor",d),d.displayName="GeneratorFunction",r(f,s,"GeneratorFunction"),r(m),r(m,s,"Generator"),r(m,a,function(){return this}),r(m,"toString",function(){return"[object Generator]"}),(e.exports=o=function(){return{w:c,m:g}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t,r,o,i){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}e.exports=n=function(e,t,r,o){function i(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r,o,i)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(140),o=n(143);e.exports=function(e,t,n,i,a){return new o(r().w(e,t,n,i),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(139),o=n(141);e.exports=function e(t,n){function i(e,o,a,s){try{var c=t[e](o),u=c.value;return u instanceof r?n.resolve(u.v).then(function(e){i("next",e,a,s)},function(e){i("throw",e,a,s)}):n.resolve(u).then(function(e){c.value=e,a(c)},function(e){return i("throw",e,a,s)})}catch(e){s(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),o(this,"_invoke",function(e,t,r){function o(){return new n(function(t,n){i(e,r,t,n)})}return a=a?a.then(o,o):o()},!0)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(110).Symbol;e.exports=r},function(e,t,n){var r=n(53)(n(25),"Map");e.exports=r},function(e,t,n){var r=n(204),o=n(619),i=n(208);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(197),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(105)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(204),o=n(622),i=n(208);e.exports=function(e){return i(e)?r(e,!0):o(e)}},function(e,t,n){var r=n(627),o=n(209),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return i.call(e,t)}))}:o;e.exports=s},function(e,t,n){var r=n(631),o=n(146),i=n(632),a=n(633),s=n(634),c=n(93),u=n(200),l="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",m="[object DataView]",g=u(r),h=u(o),v=u(i),y=u(a),_=u(s),b=c;(r&&b(new r(new ArrayBuffer(1)))!=m||o&&b(new o)!=l||i&&b(i.resolve())!=d||a&&b(new a)!=f||s&&b(new s)!=p)&&(b=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case g:return m;case h:return l;case v:return d;case y:return f;case _:return p}return t}),e.exports=b},function(e,t,n){var r=n(637);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferDomain=void 0,t.transferDomain=function(e,t){const n=t||location&&location.hostname;if(n){const t=n.match(/alibaba\.(.*)/);if(t&&t.length>0)return e.replace("com",t[1])}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONST=t.ApushMessageType=void 0;t.CONST={PAGESIZE:20,LOADING_TIMEOUT:2e4},t.ApushMessageType={LOGOUT:10000001,MESSAGE_NEW:20000001,MESSAGE_READ_STATUS_CHANGE:20000002,SYS_NOTICE_NEW:30000001,MESSAGE_NEW_SELF:40000001,MESSAGE_REVERT:20000003,MESSAGE_PROCESS_EVENT_CHANGE:50000001}},function(e,t,n){"use strict";var r=n(480),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(m){var o=p(n);o&&o!==m&&e(t,o,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=c(t),g=c(n),h=0;h<a.length;++h){var v=a[h];if(!i[v]&&(!r||!r[v])&&(!g||!g[v])&&(!s||!s[v])){var y=f(n,v);try{u(t,v,y)}catch(e){}}}}return t}},function(e,t,n){var r=n(490);e.exports=g,e.exports.parse=i,e.exports.compile=function(e,t){return u(i(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=m;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,s=0,c="",u=t&&t.delimiter||"/";null!=(n=o.exec(e));){var l=n[0],f=n[1],p=n.index;if(c+=e.slice(s,p),s=p+l.length,f)c+=f[1];else{var m=e[s],g=n[2],h=n[3],v=n[4],y=n[5],_=n[6],b=n[7];c&&(r.push(c),c="");var w=null!=g&&null!=m&&m!==g,C="+"===_||"*"===_,T="?"===_||"*"===_,S=g||u,k=v||y,N=g||("string"===typeof r[r.length-1]?r[r.length-1]:"");r.push({name:h||i++,prefix:g||"",delimiter:S,optional:T,repeat:C,partial:w,asterisk:!!b,pattern:k?d(k):b?".*":a(S,N)})}}return s<e.length&&(c+=e.substr(s)),c&&r.push(c),r}function a(e,t){return!t||t.indexOf(e)>-1?"[^"+l(e)+"]+?":l(t)+"|(?:(?!"+l(t)+")[^"+l(e)+"])+?"}function s(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function u(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"===typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",p(t)));return function(t,o){for(var i="",a=t||{},u=(o||{}).pretty?s:encodeURIComponent,l=0;l<e.length;l++){var d=e[l];if("string"!==typeof d){var f,p=a[d.name];if(null==p){if(d.optional){d.partial&&(i+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(r(p)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var m=0;m<p.length;m++){if(f=u(p[m]),!n[l].test(f))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(f)+"`");i+=(0===m?d.prefix:d.delimiter)+f}}else{if(f=d.asterisk?c(p):u(p),!n[l].test(f))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+f+'"');i+=d.prefix+f}}else i+=d}return i}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function d(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function f(e,t){return e.keys=t,e}function p(e){return e&&e.sensitive?"":"i"}function m(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=l(c);else{var u=l(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+u+d+")*"),a+=d=c.optional?c.partial?u+"("+d+")?":"(?:"+u+"("+d+"))?":u+"("+d+")"}}var m=l(n.delimiter||"/"),g=a.slice(-m.length)===m;return o||(a=(g?a.slice(0,-m.length):a)+"(?:"+m+"(?=$))?"),a+=i?"$":o&&g?"":"(?="+m+"|$)",f(new RegExp("^"+a,p(n)),t)}function g(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return f(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(g(e[o],t,n).source);return f(new RegExp("(?:"+r.join("|")+")",p(n)),t)}(e,t,n):function(e,t,n){return m(i(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,"a",function(){return r})},function(e,t,n){e.exports=n(495)()},function(e,t,n){var r=n(497);e.exports=g,e.exports.parse=i,e.exports.compile=function(e,t){return u(i(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=m;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,s=0,c="",u=t&&t.delimiter||"/";null!=(n=o.exec(e));){var l=n[0],f=n[1],p=n.index;if(c+=e.slice(s,p),s=p+l.length,f)c+=f[1];else{var m=e[s],g=n[2],h=n[3],v=n[4],y=n[5],_=n[6],b=n[7];c&&(r.push(c),c="");var w=null!=g&&null!=m&&m!==g,C="+"===_||"*"===_,T="?"===_||"*"===_,S=g||u,k=v||y,N=g||("string"===typeof r[r.length-1]?r[r.length-1]:"");r.push({name:h||i++,prefix:g||"",delimiter:S,optional:T,repeat:C,partial:w,asterisk:!!b,pattern:k?d(k):b?".*":a(S,N)})}}return s<e.length&&(c+=e.substr(s)),c&&r.push(c),r}function a(e,t){return!t||t.indexOf(e)>-1?"[^"+l(e)+"]+?":l(t)+"|(?:(?!"+l(t)+")[^"+l(e)+"])+?"}function s(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function u(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"===typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",p(t)));return function(t,o){for(var i="",a=t||{},u=(o||{}).pretty?s:encodeURIComponent,l=0;l<e.length;l++){var d=e[l];if("string"!==typeof d){var f,p=a[d.name];if(null==p){if(d.optional){d.partial&&(i+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(r(p)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var m=0;m<p.length;m++){if(f=u(p[m]),!n[l].test(f))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(f)+"`");i+=(0===m?d.prefix:d.delimiter)+f}}else{if(f=d.asterisk?c(p):u(p),!n[l].test(f))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+f+'"');i+=d.prefix+f}}else i+=d}return i}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function d(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function f(e,t){return e.keys=t,e}function p(e){return e&&e.sensitive?"":"i"}function m(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=l(c);else{var u=l(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+u+d+")*"),a+=d=c.optional?c.partial?u+"("+d+")?":"(?:"+u+"("+d+"))?":u+"("+d+")"}}var m=l(n.delimiter||"/"),g=a.slice(-m.length)===m;return o||(a=(g?a.slice(0,-m.length):a)+"(?:"+m+"(?=$))?"),a+=i?"$":o&&g?"":"(?="+m+"|$)",f(new RegExp("^"+a,p(n)),t)}function g(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return f(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(g(e[o],t,n).source);return f(new RegExp("(?:"+r.join("|")+")",p(n)),t)}(e,t,n):function(e,t,n){return m(i(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,"a",function(){return r})},function(e,t,n){e.exports=n(502)()},function(e,t,n){var r=n(54),o=n(598),i=n(599),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,u,l,d,f,p,m=0,g=!1,h=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=c,r=u;return c=u=void 0,m=t,d=e.apply(r,n)}function _(e){var n=e-p;return void 0===p||n>=t||n<0||h&&e-m>=l}function b(){var e=o();if(_(e))return w(e);f=setTimeout(b,function(e){var n=t-(e-p);return h?s(n,l-(e-m)):n}(e))}function w(e){return f=void 0,v&&c?y(e):(c=u=void 0,d)}function C(){var e=o(),n=_(e);if(c=arguments,u=this,p=e,n){if(void 0===f)return function(e){return m=e,f=setTimeout(b,t),g?y(e):d}(p);if(h)return clearTimeout(f),f=setTimeout(b,t),y(p)}return void 0===f&&(f=setTimeout(b,t)),d}return t=i(t)||0,r(n)&&(g=!!n.leading,l=(h="maxWait"in n)?a(i(n.maxWait)||0,t):l,v="trailing"in n?!!n.trailing:v),C.cancel=function(){void 0!==f&&clearTimeout(f),m=0,c=p=u=f=void 0},C.flush=function(){return void 0===f?d:w(o())},C}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,i=n(655),a=u(n(694)),s=n(216),c=u(n(658));function u(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}if(i.isWeex){try{r=__weex_require__("@weex-module/mtop")}catch(e){console.warn("Mtop require error")}try{o=__weex_require__("@weex-module/windvane")}catch(e){console.warn("Windvane require error")}}else i.isWeb&&("undefined"!=typeof lib&&lib.mtop||n(659));function d(e){var t=e.ret||"";return Array.isArray(t)&&(t=t.join(",")),t.indexOf("SUCCESS")>-1?s.RESPONSE_TYPE.SUCCESS:t.indexOf("TOKEN_EMPTY")>-1||t.indexOf("TOKEN_EXOIRED")>-1?s.RESPONSE_TYPE.TOKEN_EXPIRED:t.indexOf("SESSION_EXPIRED")>-1||t.indexOf("SID_INVALID")>-1||t.indexOf("AUTH_REJECT")>-1||t.indexOf("NEED_LOGIN")>-1?s.RESPONSE_TYPE.SESSION_EXPIRED:s.RESPONSE_TYPE.ERROR}function f(e){return"//tarzan/error/"+(i.isMiniApp?e.miniAppID?"UN_MINIAPP/"+e.miniAppID:"UN_MINIAPP":location.hostname+location.pathname)+"/"+e.api+"/"+e.v}function p(e,t,n){if(!e.disableTracker){var r=f(e);a.default.report({url:r,message:JSON.stringify(t),reverse1:n,type:"mtop"})}}function m(e,t,n){!e.disableTracker&&a.default&&a.default.report&&a.default.report({url:f(e),success:n||"",timing:t||"-1",sampling:100,message:"mtop调用",type:"mtop_perf"})}function g(e){var t;return e.api&&(t=function(e,t,n){var r;if(e){for(var o in r=[],e)e.hasOwnProperty(o)&&(!t||t.indexOf(o)>-1)&&void 0!==e[o]&&""!==e[o]&&r.push(o+"-"+(n?encodeURIComponent(e[o]):e[o]));r.sort()}else r=[];return r.join("_")}(e.data,e.requiredParams,e.encodeParam)),"//fallback.alicdn.com/mtop/"+e.api+"_"+(e.v||"1.0")+"/"+t}var h={request:function(e,t,n,a){function u(){return new Promise(function(t,n){i.isWeex?r?function(e,t,n){if(r.request){i.isWeex&&e.dataType&&/^(original){0,1}jsonp$/.test(e.dataType)&&(e.dataType=e.dataType.replace("jsonp","json"));var o=setTimeout(function(){n({ret:["TIMEOUT::接口超时"],retType:s.RESPONSE_TYPE.ERROR})},e.timeout||2e4);r.request(e,function(e){clearTimeout(o),e.retType=d(e),e&&e.MP_TIME_OUT?n({ret:["TIMEOUT::接口超时"],retType:-1}):t(e)},function(e){clearTimeout(o),e.retType=d(e),n(e)})}}(e,t,n):o&&o.call?function(e,t,n){o&&o.call&&(e.param=e.data||e.param,"POST"===e.type&&(e.post="1"),o.call({class:"MtopWVPlugin",method:"send",data:e},function(e){"string"===typeof e&&(e=JSON.parse(e)),e.retType===s.RESPONSE_TYPE.SUCCESS||e.ret&&e.ret[0].indexOf("SUCCESS")>-1?t&&t(e):n&&n(e)}))}(e,t,n):n("Windvane & Mtop require error"):i.isWeb?lib.mtop.request(e,function(r){r&&r.ret&&r.ret.length&&"WV_ERR::PARAM_PARSE_ERROR"===r.ret[0]?lib.mtop.H5Request(e,t,n):t(r)},n):i.isMiniApp&&(0,c.default)(e).then(t).catch(n)})}void 0===a&&(a=!0),e&&"undefined"===typeof e.preventFallback&&(e.preventFallback=!0);var l=Date.now(),f=function(t,n){u().then(function(n){var r=Date.now()-l;m(e,r,"true"),t&&t(n)}).catch(function(r){var o=Date.now()-l;if(r&&(r.api||r.v)||(r={api:e.api,v:e.v,data:{},ret:["FAIL::"+(JSON.stringify(r)||"")],retType:-1}),void 0===r.retType&&(r.retType=-1),m(e,o,"false"),p(e,r,"0012"),e&&(1==e.ecode||e.preventFallback||i.isMiniApp))return n&&n(r);(function(e,t){return new Promise(function(n,r){"string"==typeof e.data&&(e.data=JSON.parse(e.data));var o=g(e),i=new XMLHttpRequest;i.open("get",o,!0),i.send(null),i.onreadystatechange=function(){if(4==this.readyState&&200==this.status)try{var o=JSON.parse(this.responseText);o&&o.success&&o.result&&!o.result.backup?(p(e,t,"0210"),r(t)):n(o)}catch(n){p(e,t,"0210"),r(t)}else 4==this.readyState&&(p(e,t,"0011"),r(t))}})})(e,r).then(function(e){t&&t(e)}).catch(function(e){n&&n(e)})})};return n=n||t,a?new Promise(function(e,r){f(function(n){t&&t(n),e(n)},function(e){n&&n(e),r(e)})}):"function"===typeof t||"function"===typeof n?f(t,n):void 0},config:function(e,t){i.isWeex||"undefined"!==typeof lib&&lib.mtop&&("string"===typeof e?lib.mtop.config[e]=t:lib.mtop.config=l({},lib.mtop.config,e))},RESPONSE_TYPE:s.RESPONSE_TYPE};t.default=h},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=!1,o=!1;var i,a,s=(i=[],a=20,{push:function(e){i.push(e)},clear:function(){i=[]},flush:function(){if(!(i.length<a)){var e=function(){if("undefined"!==typeof window&&window.__megability_bridge__){if(o)return r;var e=window.__megability_bridge__.syncCall("ability","available",{ability:"ability",api:"batchFinishTrace"});return o=!0,r=e&&0===e.statusCode&&"YES"===e.type}return!1}();"undefined"!==typeof window&&window.__megability_bridge__&&e&&(window.__megability_bridge__.asyncCall("ability","batchFinishTrace",{traceList:i}),i=[])}},modifyMaxNumber:function(e){a=e}});function c(){var e="".concat(Date.now()),t={startTime:"",endTime:"",traceID:e};return{markStartTime:function(){t.startTime="".concat(Date.now())},markEndTime:function(){t.endTime="".concat(Date.now()),s.push(t),s.flush()},traceID:e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=!1,o=!1;var i,a,s=(i=[],a=20,{push:function(e){i.push(e)},clear:function(){i=[]},flush:function(){if(!(i.length<a)){var e=function(){if("undefined"!==typeof window&&window.__megability_bridge__){if(o)return r;var e=window.__megability_bridge__.syncCall("ability","available",{ability:"ability",api:"batchFinishTrace"});return o=!0,r=e&&0===e.statusCode&&"YES"===e.type}return!1}();"undefined"!==typeof window&&window.__megability_bridge__&&e&&(window.__megability_bridge__.asyncCall("ability","batchFinishTrace",{traceList:i}),i=[])}},modifyMaxNumber:function(e){a=e}});function c(){var e="".concat(Date.now()),t={startTime:"",endTime:"",traceID:e};return{markStartTime:function(){t.startTime="".concat(Date.now())},markEndTime:function(){t.endTime="".concat(Date.now()),s.push(t),s.flush()},traceID:e}}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(662);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||(t[e]=r[e]))})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=!1,o=!1;var i,a,s=(i=[],a=20,{push:function(e){i.push(e)},clear:function(){i=[]},flush:function(){if(!(i.length<a)){var e=function(){if("undefined"!==typeof window&&window.__megability_bridge__){if(o)return r;var e=window.__megability_bridge__.syncCall("ability","available",{ability:"ability",api:"batchFinishTrace"});return o=!0,r=e&&0===e.statusCode&&"YES"===e.type}return!1}();"undefined"!==typeof window&&window.__megability_bridge__&&e&&(window.__megability_bridge__.asyncCall("ability","batchFinishTrace",{traceList:i}),i=[])}},modifyMaxNumber:function(e){a=e}});function c(){var e="".concat(Date.now()),t={startTime:"",endTime:"",traceID:e};return{markStartTime:function(){t.startTime="".concat(Date.now())},markEndTime:function(){t.endTime="".concat(Date.now()),s.push(t),s.flush()},traceID:e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=!1,o=!1;var i,a,s=(i=[],a=20,{push:function(e){i.push(e)},clear:function(){i=[]},flush:function(){if(!(i.length<a)){var e=function(){if("undefined"!==typeof window&&window.__megability_bridge__){if(o)return r;var e=window.__megability_bridge__.syncCall("ability","available",{ability:"ability",api:"batchFinishTrace"});return o=!0,r=e&&0===e.statusCode&&"YES"===e.type}return!1}();"undefined"!==typeof window&&window.__megability_bridge__&&e&&(window.__megability_bridge__.asyncCall("ability","batchFinishTrace",{traceList:i}),i=[])}},modifyMaxNumber:function(e){a=e}});function c(){var e="".concat(Date.now()),t={startTime:"",endTime:"",traceID:e};return{markStartTime:function(){t.startTime="".concat(Date.now())},markEndTime:function(){t.endTime="".concat(Date.now()),s.push(t),s.flush()},traceID:e}}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",function(){return o})},function(e,t,n){e.exports=n(516)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){window.locationSpa?window.locationSpa.href=e:window.location.href=e}},,,,,,,function(e,t,n){var r,o,i;o=[t,e],r=function(e,t){"use strict";var n={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function r(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function o(e){try{delete window[e]}catch(t){window[e]=void 0}}function i(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}function a(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=e,s=t.timeout||n.timeout,c=t.jsonpCallback||n.jsonpCallback,u=void 0;return new Promise(function(n,l){var d=t.jsonpCallbackFunction||r(),f=c+"_"+d;window[d]=function(e){n({ok:!0,json:function(){return Promise.resolve(e)}}),u&&clearTimeout(u),i(f),o(d)},a+=-1===a.indexOf("?")?"?":"&";var p=document.createElement("script");p.setAttribute("src",""+a+c+"="+d),t.charset&&p.setAttribute("charset",t.charset),t.nonce&&p.setAttribute("nonce",t.nonce),t.referrerPolicy&&p.setAttribute("referrerPolicy",t.referrerPolicy),t.crossorigin&&p.setAttribute("crossorigin","true"),p.id=f,document.getElementsByTagName("head")[0].appendChild(p),u=setTimeout(function(){l(new Error("JSONP request to "+e+" timed out")),o(d),i(f),window[d]=function(){o(d)}},s),p.onerror=function(){l(new Error("JSONP request to "+e+" failed")),o(d),i(f),u&&clearTimeout(u)}})}t.exports=a},void 0===(i="function"===typeof r?r.apply(t,o):r)||(e.exports=i)},function(e,t){e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(186);function o(){var t,n,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.toStringTag||"@@toStringTag";function c(e,o,i,a){var s=o&&o.prototype instanceof l?o:l,c=Object.create(s.prototype);return r(c,"_invoke",function(e,r,o){var i,a,s,c=0,l=o||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,a=0,s=t,f.n=n,u}};function p(e,r){for(a=e,s=r,n=0;!d&&c&&!o&&n<l.length;n++){var o,i=l[n],p=f.p,m=i[2];e>3?(o=m===r)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=e<2&&p<i[1])?(a=0,f.v=r,f.n=i[1]):p<m&&(o=e<3||i[0]>r||r>m)&&(i[4]=e,i[5]=r,f.n=m,a=0))}if(o||e>1)return u;throw d=!0,r}return function(o,l,m){if(c>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,m),a=l,s=m;(n=a<2?t:s)||!d;){i||(a?a<3?(a>1&&(f.n=-1),p(a,s)):f.n=s:f.v=s);try{if(c=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(d=f.n<0)?s:e.call(r,f))!==u)break}catch(e){i=t,a=1,s=e}finally{c=1}}return{value:n,done:d}}}(e,i,a),!0),c}var u={};function l(){}function d(){}function f(){}n=Object.getPrototypeOf;var p=[][a]?n(n([][a]())):(r(n={},a,function(){return this}),n),m=f.prototype=l.prototype=Object.create(p);function g(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,r(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e}return d.prototype=f,r(m,"constructor",f),r(f,"constructor",d),d.displayName="GeneratorFunction",r(f,s,"GeneratorFunction"),r(m),r(m,s,"Generator"),r(m,a,function(){return this}),r(m,"toString",function(){return"[object Generator]"}),(e.exports=o=function(){return{w:c,m:g}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t,r,o,i){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}e.exports=n=function(e,t,r,o){function i(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r,o,i)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(185),o=n(188);e.exports=function(e,t,n,i,a){return new o(r().w(e,t,n,i),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(184),o=n(186);e.exports=function e(t,n){function i(e,o,a,s){try{var c=t[e](o),u=c.value;return u instanceof r?n.resolve(u.v).then(function(e){i("next",e,a,s)},function(e){i("throw",e,a,s)}):n.resolve(u).then(function(e){c.value=e,a(c)},function(e){return i("throw",e,a,s)})}catch(e){s(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),o(this,"_invoke",function(e,t,r){function o(){return new n(function(t,n){i(e,r,t,n)})}return a=a?a.then(o,o):o()},!0)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:function(e){return e.week()!==this.week()?"[下]dddLT":"[本]dddLT"},lastDay:"[昨天]LT",lastWeek:function(e){return this.week()!==e.week()?"[上]dddLT":"[本]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s后",past:"%s前",s:"几秒",ss:"%d 秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",w:"1 周",ww:"%d 周",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}})}(n(104))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(191);function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}var c,u,l=0,d={},f=n(512),p=n(513),m=(n(514),"enaliint"),g={pageId:"",refer:"",logMsg:(u=s(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:g.dotStat(15576),g.dmtrackLog("webmessage",{fromuid:m+(g.getAccountId()||g.getLoginId()||window.aliId),touid:m+t.toId,from:1,msg_id:t.opId||"",scene_type:t.sceneType||"",id:t.productId,version:"new",email:g.getCookie("__AE")});case 2:case"end":return e.stop()}},e,void 0)})),function(e){return u.apply(this,arguments)}),logMarket:(c=s(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"1"==n.type?g.dmtrackLog("webmessagemarketing",{fromuid:m+(g.getAccountId()||g.getLoginId()||window.aliId),touid:m+t.toId,from:1,id:t.productId,version:"new",email:p.get("__AE")}):"2"==n.type&&g.dmtrackLog("webmessagemarketing2",{fromuid:m+(g.getAccountId()||g.getLoginId()||window.aliId),touid:m+t.toId,from:1,id:t.productId,version:"new",email:p.get("__AE")});case 1:case"end":return e.stop()}},e,void 0)})),function(e,t){return c.apply(this,arguments)}),dmtrackLog:function(e,t){var n="atm_log_"+ ++l,r=new Image;t=i({},{step:e,pageid:g.pageId,refer:g.refer,randomId:l},t),window[n]=r,r.onload=function(){try{window[n]=null,delete window[n]}catch(e){}this.onload=null},r.src="//gm.mmstat.com/sc.migrate.atm?gmkey=&logtype=2&gokey="+encodeURIComponent(g.genQuery(t))},atmLog:function(e,t){var n="//atmgateway-client.alibaba.com/atmgateway/http/"+e+".do",r="atm_log_"+ ++l,o=new Image;window[r]=o,o.onload=function(){try{window[r]=null,delete window[r]}catch(e){}this.onload=null},o.src=n+"?"+g.genQuery(t)},dotStat:function(e){window.dmtrack&&window.dmtrack.dotstat(e)},genQuery:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.entries(e).map(function(e){var n,r,i=o(e,2),a=i[0],s=i[1];return Array.isArray(s)?s.map(function(e){return g.genQuery(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t+a,e))}).join("&"):g.isObject(s)?g.genQuery(s,t+(a+".")):(n=t+""+a,null!==(r=s)?n+"="+encodeURIComponent(r):"")}).join("&")},isObject:function(e){return"object"===("undefined"===typeof e?"undefined":r(e))&&null!==e},getDecMemberId:function(e){return new Promise(function(t,n){if(/^enaliint/.test(e))t(e);else if(e in d)t(d[e]);else{var r="//"+a.WWATMSERVER_DOMAIN+"/GetDecEnemberId.do?";f(r+"enemberId="+e).then(function(e){return e.json}).then(function(n){d[e]=n.result,t(n.result)}).catch(function(e){n(e)})}})},getCookie:function(e){return p.get(e)},getAccountId:function(){var e=p.get("xman_us_f"),t="";if(e){var n=e.match(/x_user=([^&"]+)/);if(n){var r=n[1];if(r){var o=r.split("|");t=o[o.length-1]||""}}}return t},getLoginId:function(){var e=p.get("ali_apache_track"),t="";return"string"===typeof e&&(e.match(/mid=([^&"]+)/),t=RegExp.$1),t}};t.default=g,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WWATMSERVER_DOMAIN=t.MAIN_DOMAIN=void 0;var r=n(511);t.MAIN_DOMAIN=(0,r.transferDomain)("alibaba.com"),t.WWATMSERVER_DOMAIN=(0,r.transferDomain)("wwatmserver.alibaba.com")},function(e,t,n){var r=n(20).default,o=n(520);e.exports=function(e){var t=o(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(145),o=n(527),i=n(528),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(537),o=n(542);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(560);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(566);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(9))},function(e,t,n){var r=n(576),o=n(592),i=n(594),a=n(595),s=n(596);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(93),o=n(54);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(203),o=n(201),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(610);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(612),o=n(613),i=n(73),a=n(205),s=n(616),c=n(617),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),d=!n&&!l&&a(e),f=!n&&!l&&!d&&c(e),p=n||l||d||f,m=p?r(e.length,String):[],g=m.length;for(var h in e)!t&&!u.call(e,h)||p&&("length"==h||d&&("offset"==h||"parent"==h)||f&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||s(h,g))||m.push(h);return m}},function(e,t,n){(function(e){var r=n(25),o=n(615),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c}).call(this,n(105)(e))},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(199),o=n(206);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(211),o=n(212),i=n(152),a=n(209),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(207)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(211),o=n(73);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"asyncCall",function(){return asyncCall}),__webpack_require__.d(__webpack_exports__,"syncCall",function(){return syncCall});var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59),_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(58),_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(171),_time_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(166),_type_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(36),hook="undefined"!==typeof __uniapi_hook__?window.__uniapi_hook__:function(){return[!1]};if("undefined"!==typeof window&&!window.__megability_bridge__&&window.__windvane__&&window.__windvane__.windVaneCoreJs)try{var strJS=window.__windvane__.windVaneCoreJs();eval(strJS)}catch(e){console.error("The system browser initialization bridge is abnormal.")}function getBridge(){return"undefined"!==typeof window&&window.__megability_bridge__?window.__megability_bridge__:{asyncCall:function(e,t,n,r){console.warn("asyncCall: Mega is not supported on the runtime.",e,t,n),r&&r(_type_js__WEBPACK_IMPORTED_MODULE_4__.a)},syncCall:function(e,t,n){return console.warn("syncCall: Mega is not supported on the runtime.",e,t,n),_type_js__WEBPACK_IMPORTED_MODULE_4__.a}}}function asyncCall(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=Object(_time_js__WEBPACK_IMPORTED_MODULE_3__.a)(),i=o.traceID,a=Object(_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__.a)({},n),{__mega_context__:Object(_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__.a)({},n.__mega_context__||{}),{trace:{traceID:i}})});o.markStartTime();var s=function(e){o.markEndTime(),r&&r(e)},c=Object(_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_2__.a)(hook(e,t,a,s),2),u=c[0],l=c[1],d=void 0===l?_type_js__WEBPACK_IMPORTED_MODULE_4__.a:l;u?Promise.resolve(d).then(s):getBridge().asyncCall(e,t,a,s)}function syncCall(e,t,n){var r=Object(_time_js__WEBPACK_IMPORTED_MODULE_3__.a)(),o=r.traceID,i=Object(_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__.a)({},n),{__mega_context__:Object(_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__.a)({},n.__mega_context__||{}),{trace:{traceID:o}})});r.markStartTime();var a=Object(_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_2__.a)(hook(e,t,i),2),s=a[0],c=a[1],u=void 0===c?_type_js__WEBPACK_IMPORTED_MODULE_4__.a:c;if(s)return r.markEndTime(),u;var l=getBridge().syncCall(e,t,i);return r.markEndTime(),l}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"asyncCall",function(){return asyncCall}),__webpack_require__.d(__webpack_exports__,"syncCall",function(){return syncCall});var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(62),_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(61),_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(172),_time_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(167),_type_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(37),hook="undefined"!==typeof __uniapi_hook__?window.__uniapi_hook__:function(){return[!1]};if("undefined"!==typeof window&&!window.__megability_bridge__&&window.__windvane__&&window.__windvane__.windVaneCoreJs)try{var strJS=window.__windvane__.windVaneCoreJs();eval(strJS)}catch(e){console.error("The system browser initialization bridge is abnormal.")}function getBridge(){return"undefined"!==typeof window&&window.__megability_bridge__?window.__megability_bridge__:{asyncCall:function(e,t,n,r){console.warn("asyncCall: Mega is not supported on the runtime.",e,t,n),r&&r(_type_js__WEBPACK_IMPORTED_MODULE_4__.a)},syncCall:function(e,t,n){return console.warn("syncCall: Mega is not supported on the runtime.",e,t,n),_type_js__WEBPACK_IMPORTED_MODULE_4__.a}}}function asyncCall(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=Object(_time_js__WEBPACK_IMPORTED_MODULE_3__.a)(),i=o.traceID,a=Object(_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__.a)({},n),{__mega_context__:Object(_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__.a)({},n.__mega_context__||{}),{trace:{traceID:i}})});o.markStartTime();var s=function(e){o.markEndTime(),r&&r(e)},c=Object(_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_2__.a)(hook(e,t,a,s),2),u=c[0],l=c[1],d=void 0===l?_type_js__WEBPACK_IMPORTED_MODULE_4__.a:l;u?Promise.resolve(d).then(s):getBridge().asyncCall(e,t,a,s)}function syncCall(e,t,n){var r=Object(_time_js__WEBPACK_IMPORTED_MODULE_3__.a)(),o=r.traceID,i=Object(_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__.a)({},n),{__mega_context__:Object(_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__.a)({},n.__mega_context__||{}),{trace:{traceID:o}})});r.markStartTime();var a=Object(_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_2__.a)(hook(e,t,i),2),s=a[0],c=a[1],u=void 0===c?_type_js__WEBPACK_IMPORTED_MODULE_4__.a:c;if(s)return r.markEndTime(),u;var l=getBridge().syncCall(e,t,i);return r.markEndTime(),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=function(e){return"[object Object]"=={}.toString.call(e)},t.getCommonError=function(e,t){return{api:e.api,v:e.v,data:{},ret:["FAIL::"+(t||"")],retType:-1}},t.RESPONSE_TYPE=void 0;t.RESPONSE_TYPE={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"asyncCall",function(){return asyncCall}),__webpack_require__.d(__webpack_exports__,"syncCall",function(){return syncCall});var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(65),_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(64),_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(173),_time_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(169),_type_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(38),hook="undefined"!==typeof __uniapi_hook__?window.__uniapi_hook__:function(){return[!1]};if("undefined"!==typeof window&&!window.__megability_bridge__&&window.__windvane__&&window.__windvane__.windVaneCoreJs)try{var strJS=window.__windvane__.windVaneCoreJs();eval(strJS)}catch(e){console.error("The system browser initialization bridge is abnormal.")}function getBridge(){return"undefined"!==typeof window&&window.__megability_bridge__?window.__megability_bridge__:{asyncCall:function(e,t,n,r){console.warn("asyncCall: Mega is not supported on the runtime.",e,t,n),r&&r(_type_js__WEBPACK_IMPORTED_MODULE_4__.a)},syncCall:function(e,t,n){return console.warn("syncCall: Mega is not supported on the runtime.",e,t,n),_type_js__WEBPACK_IMPORTED_MODULE_4__.a}}}function asyncCall(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=Object(_time_js__WEBPACK_IMPORTED_MODULE_3__.a)(),i=o.traceID,a=Object(_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__.a)({},n),{__mega_context__:Object(_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__.a)({},n.__mega_context__||{}),{trace:{traceID:i}})});o.markStartTime();var s=function(e){o.markEndTime(),r&&r(e)},c=Object(_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_2__.a)(hook(e,t,a,s),2),u=c[0],l=c[1],d=void 0===l?_type_js__WEBPACK_IMPORTED_MODULE_4__.a:l;u?Promise.resolve(d).then(s):getBridge().asyncCall(e,t,a,s)}function syncCall(e,t,n){var r=Object(_time_js__WEBPACK_IMPORTED_MODULE_3__.a)(),o=r.traceID,i=Object(_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__.a)({},n),{__mega_context__:Object(_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__.a)({},n.__mega_context__||{}),{trace:{traceID:o}})});r.markStartTime();var a=Object(_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_2__.a)(hook(e,t,i),2),s=a[0],c=a[1],u=void 0===c?_type_js__WEBPACK_IMPORTED_MODULE_4__.a:c;if(s)return r.markEndTime(),u;var l=getBridge().syncCall(e,t,i);return r.markEndTime(),l}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"asyncCall",function(){return asyncCall}),__webpack_require__.d(__webpack_exports__,"syncCall",function(){return syncCall});var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(68),_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67),_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(174),_time_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(170),_type_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(39),hook="undefined"!==typeof __uniapi_hook__?window.__uniapi_hook__:function(){return[!1]};if("undefined"!==typeof window&&!window.__megability_bridge__&&window.__windvane__&&window.__windvane__.windVaneCoreJs)try{var strJS=window.__windvane__.windVaneCoreJs();eval(strJS)}catch(e){console.error("The system browser initialization bridge is abnormal.")}function getBridge(){return"undefined"!==typeof window&&window.__megability_bridge__?window.__megability_bridge__:{asyncCall:function(e,t,n,r){console.warn("asyncCall: Mega is not supported on the runtime.",e,t,n),r&&r(_type_js__WEBPACK_IMPORTED_MODULE_4__.a)},syncCall:function(e,t,n){return console.warn("syncCall: Mega is not supported on the runtime.",e,t,n),_type_js__WEBPACK_IMPORTED_MODULE_4__.a}}}function asyncCall(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=Object(_time_js__WEBPACK_IMPORTED_MODULE_3__.a)(),i=o.traceID,a=Object(_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__.a)({},n),{__mega_context__:Object(_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__.a)({},n.__mega_context__||{}),{trace:{traceID:i}})});o.markStartTime();var s=function(e){o.markEndTime(),r&&r(e)},c=Object(_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_2__.a)(hook(e,t,a,s),2),u=c[0],l=c[1],d=void 0===l?_type_js__WEBPACK_IMPORTED_MODULE_4__.a:l;u?Promise.resolve(d).then(s):getBridge().asyncCall(e,t,a,s)}function syncCall(e,t,n){var r=Object(_time_js__WEBPACK_IMPORTED_MODULE_3__.a)(),o=r.traceID,i=Object(_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__.a)({},n),{__mega_context__:Object(_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_0__.a)({},n.__mega_context__||{}),{trace:{traceID:o}})});r.markStartTime();var a=Object(_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_2__.a)(hook(e,t,i),2),s=a[0],c=a[1],u=void 0===c?_type_js__WEBPACK_IMPORTED_MODULE_4__.a:c;if(s)return r.markEndTime(),u;var l=getBridge().syncCall(e,t,i);return r.markEndTime(),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=t.invoke=void 0;t.on=function(e,t){var n=window.imsdk;n?n.on(e,function(e){return t(null===e||void 0===e?void 0:e.result)}):console.error("==== sdk 不存在！====")},t.invoke=function(e,t,n){var r=window.imsdk;return r?r.invoke(e,t,n).then(function(e){return e.result}):Promise.reject(new Error("==== sdk 不存在！===="))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(688);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))});var o=n(221);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var i=n(94);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))})},function(e,t,n){"use strict";var r=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.wssLog=t.normalizeArg=t.isSignal=t.isSelfConv=t.getWsUrl=t.getMessageId=t.checkIfNeedDegradeSaas=void 0;var o=r(n(1)),i=r(n(35)),a=n(94),s=r(n(33)),c=n(55),u=n(72),l=n(156),d=(t.getWsUrl=function(){var e={onlineNew:window.isOverseaMember?"wss://wss-imakamai.alibaba.com":"wss://wss-icbu.dingtalk.com",online:"wss://wss-cntaobao.dingtalk.com",pre:"wss://pre-wss-cntaobao.dingtalk.com"};return"pre"===window.env?e.pre:e.onlineNew},t.wssLog={error:function(){for(var e={},t=0;t<arguments.length;t++)e["arg"+t]=(0,c.safetyStringify)(arguments[t]);(0,s.default)({ext:arguments[0],bizData:e})},info:function(){if("cost"===arguments[0]){var e=arguments[3];e||(e="/openws")}}},t.getMessageId=function(e){return"".concat(e,".PNM")},t.checkIfNeedDegradeSaas=function(e){var t=setTimeout(function(){var n=i.default.getAuthService().isLogin();n||((0,a.turnOffSaasGray)(),e&&e()),clearTimeout(t);var r=new CustomEvent("im-loading-timeout",{detail:{timeout:!n}});window.dispatchEvent(r)},l.CONST.LOADING_TIMEOUT)},t.isSignal=function(e){return[9508,9509].indexOf(e)>=0});t.normalizeArg=function(e){var t,n=Object.assign({},e,{contactLoginId:e.contact.loginId,contactLoginIdEncrypt:e.contact.loginIdEncrypt,contactAccountId:e.contact.accountId,contactAccountIdEncrypt:e.contact.accountIdEncrypt,receiveLoginId:e.owner.loginId,receiveAccountId:e.owner.accountId,name:e.contact.name,fullPortrait:e.contact.fullPortrait});d(e.subType)&&Object.assign(n,{meetingCode:null===(t=e.extInfo.icbuData.chatEvent.extParam)||void 0===t?void 0:t.meetingCode,bizId:e.extInfo.icbuData.chatEvent.bizId});return n},t.isSelfConv=function(e){var t=e.split("#")[0].split("-");return new Promise(function(){var e=(0,o.default)(regeneratorRuntime.mark(function e(n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,(0,u.getAliIdAsync)();case 1:r=e.sent,o=t[0]===r||t[1]===r,n(o);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},function(e,t,n){(function(t){var r,o="undefined"!==typeof t?t:"undefined"!==typeof window?window:{},i=n(479);"undefined"!==typeof document?r=document:(r=o["__GLOBAL_DOCUMENT_CACHE@4"])||(r=o["__GLOBAL_DOCUMENT_CACHE@4"]=i),e.exports=r}).call(this,n(9))},function(e,t,n){"use strict";e.exports=n(482)},function(e,t){e.exports=function(e,t){return(t="number"==typeof t?t:1/0)?function e(n,r){return n.reduce(function(n,o){return Array.isArray(o)&&r<t?n.concat(e(o,r+1)):n.concat(o)},[])}(e,1):Array.isArray(e)?e.map(function(e){return e}):e}},function(e,t,n){"use strict";var r=n(493),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(m){var o=p(n);o&&o!==m&&e(t,o,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=c(t),g=c(n),h=0;h<a.length;++h){var v=a[h];if(!i[v]&&(!r||!r[v])&&(!g||!g[v])&&(!s||!s[v])){var y=f(n,v);try{u(t,v,y)}catch(e){}}}}return t}},function(e,t,n){"use strict";var r=n(500),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(m){var o=p(n);o&&o!==m&&e(t,o,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=c(t),g=c(n),h=0;h<a.length;++h){var v=a[h];if(!i[v]&&(!r||!r[v])&&(!g||!g[v])&&(!s||!s[v])){var y=f(n,v);try{u(t,v,y)}catch(e){}}}}return t}},function(e,t,n){"use strict";const r=n(564),o=Symbol("max"),i=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),d=Symbol("lruList"),f=Symbol("cache"),p=Symbol("updateAgeOnGet"),m=()=>1;const g=(e,t,n)=>{const r=e[f].get(t);if(r){const t=r.value;if(h(e,t)){if(y(e,r),!e[s])return}else n&&(e[p]&&(r.value.now=Date.now()),e[d].unshiftNode(r));return t.value}},h=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[c]&&n>e[c]},v=e=>{if(e[i]>e[o])for(let t=e[d].tail;e[i]>e[o]&&null!==t;){const n=t.prev;y(e,t),t=n}},y=(e,t)=>{if(t){const n=t.value;e[u]&&e[u](n.key,n.value),e[i]-=n.length,e[f].delete(n.key),e[d].removeNode(t)}};class _{constructor(e,t,n,r,o){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=o||0}}const b=(e,t,n,r)=>{let o=n.value;h(e,o)&&(y(e,n),e[s]||(o=void 0)),o&&t.call(r,o.value,o.key,e)};e.exports=class{constructor(e){if("number"===typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!==typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;const t=e.length||m;if(this[a]="function"!==typeof t?m:t,this[s]=e.stale||!1,e.maxAge&&"number"!==typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,v(this)}get max(){return this[o]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,v(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!==typeof e&&(e=m),e!==this[a]&&(this[a]=e,this[i]=0,this[d].forEach(e=>{e.length=this[a](e.value,e.key),this[i]+=e.length})),v(this)}get lengthCalculator(){return this[a]}get length(){return this[i]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;null!==n;){const r=n.prev;b(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[d].head;null!==n;){const r=n.next;b(this,e,n,t),n=r}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[u]&&this[d]&&this[d].length&&this[d].forEach(e=>this[u](e.key,e.value)),this[f]=new Map,this[d]=new r,this[i]=0}dump(){return this[d].map(e=>!h(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,n){if((n=n||this[c])&&"number"!==typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,s=this[a](t,e);if(this[f].has(e)){if(s>this[o])return y(this,this[f].get(e)),!1;const a=this[f].get(e).value;return this[u]&&(this[l]||this[u](e,a.value)),a.now=r,a.maxAge=n,a.value=t,this[i]+=s-a.length,a.length=s,this.get(e),v(this),!0}const p=new _(e,t,s,r,n);return p.length>this[o]?(this[u]&&this[u](e,t),!1):(this[i]+=p.length,this[d].unshift(p),this[f].set(e,this[d].head),v(this),!0)}has(e){if(!this[f].has(e))return!1;const t=this[f].get(e).value;return!h(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[d].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[f].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],o=r.e||0;if(0===o)this.set(r.k,r.v);else{const e=o-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[f].forEach((e,t)=>g(this,t,!1))}}},function(e,t,n){var r=n(196),o=0;e.exports=function(e){var t=++o;return r(e)+t}},function(e,t,n){var r;!function(o,i){"use strict";var a="function",s="undefined",c="object",u="string",l="major",d="model",f="name",p="type",m="vendor",g="version",h="architecture",v="console",y="mobile",_="tablet",b="smarttv",w="wearable",C="embedded",T="Amazon",S="Apple",k="ASUS",N="BlackBerry",M="Browser",E="Chrome",O="Firefox",x="Google",A="Honor",I="Huawei",P="LG",R="Microsoft",D="Motorola",U="Nvidia",j="OnePlus",L="Opera",F="OPPO",B="Samsung",q="Sharp",G="Sony",V="Xiaomi",W="Zebra",H="Facebook",Y="Chromium OS",z="Mac OS",J=" Browser",$=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},K=function(e,t){return typeof e===u&&-1!==X(t).indexOf(X(e))},X=function(e){return e.toLowerCase()},Q=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,500)},Z=function(e,t){for(var n,r,o,s,u,l,d=0;d<t.length&&!u;){var f=t[d],p=t[d+1];for(n=r=0;n<f.length&&!u&&f[n];)if(u=f[n++].exec(e))for(o=0;o<p.length;o++)l=u[++r],typeof(s=p[o])===c&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):i:this[s[0]]=l?s[1].call(this,l,s[2]):i:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):i):this[s]=l||i;d+=2}},ee=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(K(t[n][r],e))return"?"===n?i:n}else if(K(t[n],e))return"?"===n?i:n;return t.hasOwnProperty("*")?t["*"]:e},te={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ne={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,g],[/opios[\/ ]+([\w\.]+)/i],[g,[f,L+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[f,L+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[f,L]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[f,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[g,[f,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,g],[/quark(?:pc)?\/([-\w\.]+)/i],[g,[f,"Quark"]],[/\bddg\/([\w\.]+)/i],[g,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[f,"UC"+M]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[f,"Smart Lenovo "+M]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+M],g],[/\bfocus\/([\w\.]+)/i],[g,[f,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[f,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[f,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[f,"MIUI"+J]],[/fxios\/([\w\.-]+)/i],[g,[f,O]],[/\bqihoobrowser\/?([\w\.]*)/i],[g,[f,"360"]],[/\b(qq)\/([\w\.]+)/i],[[f,/(.+)/,"$1Browser"],g],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1"+J],g],[/samsungbrowser\/([\w\.]+)/i],[g,[f,B+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[g,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[f,g],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[f],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[g,f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,H],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[f,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,E+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[f,"Android "+M]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[g,ee,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],g],[/(wolvic|librewolf)\/([\w\.]+)/i],[f,g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[f,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[f,[g,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[f,[g,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[h,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[h,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[h,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[h,/ower/,"",X]],[/ sun4\w[;\)]/i],[[h,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[h,X]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[m,B],[p,_]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[m,B],[p,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[m,S],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[m,S],[p,_]],[/(macintosh);/i],[d,[m,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[m,q],[p,y]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[d,[m,A],[p,_]],[/honor([-\w ]+)[;\)]/i],[d,[m,A],[p,y]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[d,[m,I],[p,_]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[m,I],[p,y]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[d,/_/g," "],[m,V],[p,_]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[d,/_/g," "],[m,V],[p,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[m,F],[p,y]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[d,[m,ee,{OnePlus:["304","403","203"],"*":F}],[p,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[m,"Vivo"],[p,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[m,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[m,D],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[m,D],[p,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[m,P],[p,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[m,P],[p,y]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[d,[m,"Lenovo"],[p,_]],[/(nokia) (t[12][01])/i],[m,d,[p,_]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[d,/_/g," "],[p,y],[m,"Nokia"]],[/(pixel (c|tablet))\b/i],[d,[m,x],[p,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[m,x],[p,y]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[m,G],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[m,G],[p,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[m,j],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[m,T],[p,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[m,T],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[d,m,[p,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[m,N],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[m,k],[p,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[m,k],[p,y]],[/(nexus 9)/i],[d,[m,"HTC"],[p,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[d,/_/g," "],[p,y]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[m,"TCL"],[p,_]],[/(itel) ((\w+))/i],[[m,X],d,[p,ee,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[m,"Acer"],[p,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[m,"Meizu"],[p,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[m,"Ulefone"],[p,y]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[d,[m,"Energizer"],[p,y]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[d,[m,"Cat"],[p,y]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[d,[m,"Smartfren"],[p,y]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[m,"Nothing"],[p,y]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[d,[m,"Archos"],[p,_]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[d,[m,"Archos"],[p,y]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[m,d,[p,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[m,d,[p,y]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,d,[p,_]],[/(surface duo)/i],[d,[m,R],[p,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[m,"Fairphone"],[p,y]],[/(u304aa)/i],[d,[m,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[d,[m,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[d,[m,"RCA"],[p,_]],[/\b(venue[\d ]{2,7}) b/i],[d,[m,"Dell"],[p,_]],[/\b(q(?:mv|ta)\w+) b/i],[d,[m,"Verizon"],[p,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[m,"Barnes & Noble"],[p,_]],[/\b(tm\d{3}\w+) b/i],[d,[m,"NuVision"],[p,_]],[/\b(k88) b/i],[d,[m,"ZTE"],[p,_]],[/\b(nx\d{3}j) b/i],[d,[m,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[d,[m,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[d,[m,"Swiss"],[p,_]],[/\b((zeki)?tb.*\b) b/i],[d,[m,"Zeki"],[p,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],d,[p,_]],[/\b(ns-?\w{0,9}) b/i],[d,[m,"Insignia"],[p,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[m,"NextBook"],[p,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],d,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],d,[p,y]],[/\b(ph-1) /i],[d,[m,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[m,"Envizen"],[p,_]],[/\b(trio[-\w\. ]+) b/i],[d,[m,"MachSpeed"],[p,_]],[/\btu_(1491) b/i],[d,[m,"Rotor"],[p,_]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[d,[m,U],[p,_]],[/(sprint) (\w+)/i],[m,d,[p,y]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[m,R],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[m,W],[p,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[m,W],[p,y]],[/smart-tv.+(samsung)/i],[m,[p,b]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[m,B],[p,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,P],[p,b]],[/(apple) ?tv/i],[m,[d,S+" TV"],[p,b]],[/crkey/i],[[d,E+"cast"],[m,x],[p,b]],[/droid.+aft(\w+)( bui|\))/i],[d,[m,T],[p,b]],[/(shield \w+ tv)/i],[d,[m,U],[p,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[m,q],[p,b]],[/(bravia[\w ]+)( bui|\))/i],[d,[m,G],[p,b]],[/(mi(tv|box)-?\w+) bui/i],[d,[m,V],[p,b]],[/Hbbtv.*(technisat) (.*);/i],[m,d,[p,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,Q],[d,Q],[p,b]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[d,[p,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,d,[p,v]],[/droid.+; (shield)( bui|\))/i],[d,[m,U],[p,v]],[/(playstation \w+)/i],[d,[m,G],[p,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[m,R],[p,v]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[d,[m,B],[p,w]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[m,d,[p,w]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[d,[m,F],[p,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[m,S],[p,w]],[/(opwwe\d{3})/i],[d,[m,j],[p,w]],[/(moto 360)/i],[d,[m,D],[p,w]],[/(smartwatch 3)/i],[d,[m,G],[p,w]],[/(g watch r)/i],[d,[m,P],[p,w]],[/droid.+; (wt63?0{2,3})\)/i],[d,[m,W],[p,w]],[/droid.+; (glass) \d/i],[d,[m,x],[p,w]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,d,[p,w]],[/; (quest( \d| pro)?)/i],[d,[m,H],[p,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[p,C]],[/(aeobc)\b/i],[d,[m,T],[p,C]],[/(homepod).+mac os/i],[d,[m,S],[p,C]],[/windows iot/i],[[p,C]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[p,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[d,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[f,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[f,g],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,g],[/ladybird\//i],[[f,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,g],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[f,[g,ee,te]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,ee,te],[f,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,z],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,f],[/(ubuntu) ([\w\.]+) like android/i],[[f,/(.+)/,"$1 Touch"],g],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[f,g],[/\(bb(10);/i],[g,[f,N]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[g,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[f,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[f,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,Y],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,g],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,g]]},re=function(e,t){if(typeof e===c&&(t=e,e=i),!(this instanceof re))return new re(e,t).getResult();var n=typeof o!==s&&o.navigator?o.navigator:i,r=e||(n&&n.userAgent?n.userAgent:""),v=n&&n.userAgentData?n.userAgentData:i,b=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(ne,t):ne,w=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[f]=i,t[g]=i,Z.call(t,r,b.browser),t[l]=typeof(e=t[g])===u?e.replace(/[^\d\.]/g,"").split(".")[0]:i,w&&n&&n.brave&&typeof n.brave.isBrave==a&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[h]=i,Z.call(e,r,b.cpu),e},this.getDevice=function(){var e={};return e[m]=i,e[d]=i,e[p]=i,Z.call(e,r,b.device),w&&!e[p]&&v&&v.mobile&&(e[p]=y),w&&"Macintosh"==e[d]&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[p]=_),e},this.getEngine=function(){var e={};return e[f]=i,e[g]=i,Z.call(e,r,b.engine),e},this.getOS=function(){var e={};return e[f]=i,e[g]=i,Z.call(e,r,b.os),w&&!e[f]&&v&&v.platform&&"Unknown"!=v.platform&&(e[f]=v.platform.replace(/chrome os/i,Y).replace(/macos/i,z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===u&&e.length>500?Q(e,500):e,this},this.setUA(r),this};re.VERSION="0.7.41",re.BROWSER=$([f,g,l]),re.CPU=$([h]),re.DEVICE=$([d,m,p,v,y,b,_,w,C]),re.ENGINE=re.OS=$([f,g]),typeof t!==s?(typeof e!==s&&e.exports&&(t=e.exports=re),t.UAParser=re):n(654)?(r=function(){return re}.call(t,n,t,e))===i||(e.exports=r):typeof o!==s&&(o.UAParser=re);var oe=typeof o!==s&&(o.jQuery||o.Zepto);if(oe&&!oe.ua){var ie=new re;oe.ua=ie.getResult(),oe.ua.get=function(){return ie.getUA()},oe.ua.set=function(e){ie.setUA(e);var t=ie.getResult();for(var n in t)oe.ua[n]=t[n]}}}("object"===typeof window?window:this)},function(e,t,n){"use strict";function r(){let e={};return"undefined"!==typeof __wormhole__&&(e.feloader=__wormhole__.feloader,e.system=__wormhole__.system,e.data=__wormhole__.data,e.http=__wormhole__.http,e.rewrite=__wormhole__.rewrite,e.redirect=__wormhole__.redirect,"undefined"!==typeof __wormhole_extend__&&(e.hsfClient=__wormhole_extend__.hsfClient,e.mtopEvent=__wormhole_extend__.mtopEvent,e.logger=__wormhole_extend__.logger,e.performance=__wormhole_extend__.performance,e.sleep=__wormhole_extend__.sleep,e.eagleeye=__wormhole_extend__.eagleeye)),e}let o={};"undefined"!==typeof __wormhole__?(o=r(),o.getContext=()=>r()):o.getContext=()=>{},e.exports=o},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",function(){return i});var o="undefined"!==typeof window&&"onload"in window,i="undefined"!==typeof e&&!(!e.versions||!e.versions.node),a="undefined"!==typeof WXEnvironment&&"Web"!==WXEnvironment.platform,s="undefined"!==typeof my&&null!==my&&"undefined"!==typeof my.alert,c="undefined"!==typeof tt&&null!==tt&&"undefined"!==typeof tt.showToast,u=("undefined"!==typeof swan&&null!==swan&&swan.showToast,"undefined"!==typeof ks&&null!==ks&&ks.showToast,!c&&"undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||wx.miniProgram),"undefined"!==typeof r&&null!==r&&r.callNative,s&&o&&my.isFRM,"object"===typeof navigator?navigator.userAgent||navigator.swuserAgent:"");/.+AliApp\((\w+)\/((?:\d+\.)+\d+)\).* .*(WindVane)(?:\/((?:\d+\.)+\d+))?.*/.test(u)&&o&&"undefined"!==typeof WindVane&&WindVane.call}).call(this,n(7),n(9))},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",function(){return i});var o="undefined"!==typeof window&&"onload"in window,i="undefined"!==typeof e&&!(!e.versions||!e.versions.node),a="undefined"!==typeof WXEnvironment&&"Web"!==WXEnvironment.platform,s="undefined"!==typeof my&&null!==my&&"undefined"!==typeof my.alert,c="undefined"!==typeof tt&&null!==tt&&"undefined"!==typeof tt.showToast,u=("undefined"!==typeof swan&&null!==swan&&swan.showToast,"undefined"!==typeof ks&&null!==ks&&ks.showToast,!c&&"undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||wx.miniProgram),"undefined"!==typeof r&&null!==r&&r.callNative,s&&o&&my.isFRM,"object"===typeof navigator?navigator.userAgent||navigator.swuserAgent:"");/.+AliApp\((\w+)\/((?:\d+\.)+\d+)\).* .*(WindVane)(?:\/((?:\d+\.)+\d+))?.*/.test(u)&&o&&"undefined"!==typeof WindVane&&WindVane.call}).call(this,n(7),n(9))},function(e,t,n){"use strict";function r(){let e={};return"undefined"!==typeof __wormhole__&&(e.feloader=__wormhole__.feloader,e.system=__wormhole__.system,e.data=__wormhole__.data,e.http=__wormhole__.http,e.rewrite=__wormhole__.rewrite,e.redirect=__wormhole__.redirect,"undefined"!==typeof __wormhole_extend__&&(e.hsfClient=__wormhole_extend__.hsfClient,e.mtopEvent=__wormhole_extend__.mtopEvent,e.logger=__wormhole_extend__.logger,e.performance=__wormhole_extend__.performance,e.sleep=__wormhole_extend__.sleep,e.eagleeye=__wormhole_extend__.eagleeye)),e}let o={};"undefined"!==typeof __wormhole__?(o=r(),o.getContext=()=>r()):o.getContext=()=>{},e.exports=o},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",function(){return i});var o="undefined"!==typeof window&&"onload"in window,i="undefined"!==typeof e&&!(!e.versions||!e.versions.node),a="undefined"!==typeof WXEnvironment&&"Web"!==WXEnvironment.platform,s="undefined"!==typeof my&&null!==my&&"undefined"!==typeof my.alert,c="undefined"!==typeof tt&&null!==tt&&"undefined"!==typeof tt.showToast,u=("undefined"!==typeof swan&&null!==swan&&swan.showToast,"undefined"!==typeof ks&&null!==ks&&ks.showToast,!c&&"undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||wx.miniProgram),"undefined"!==typeof r&&null!==r&&r.callNative,s&&o&&my.isFRM,"object"===typeof navigator?navigator.userAgent||navigator.swuserAgent:"");/.+AliApp\((\w+)\/((?:\d+\.)+\d+)\).* .*(WindVane)(?:\/((?:\d+\.)+\d+))?.*/.test(u)&&o&&"undefined"!==typeof WindVane&&WindVane.call}).call(this,n(7),n(9))},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",function(){return i});var o="undefined"!==typeof window&&"onload"in window,i="undefined"!==typeof e&&!(!e.versions||!e.versions.node),a="undefined"!==typeof WXEnvironment&&"Web"!==WXEnvironment.platform,s="undefined"!==typeof my&&null!==my&&"undefined"!==typeof my.alert,c="undefined"!==typeof tt&&null!==tt&&"undefined"!==typeof tt.showToast,u=("undefined"!==typeof swan&&null!==swan&&swan.showToast,"undefined"!==typeof ks&&null!==ks&&ks.showToast,!c&&"undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||wx.miniProgram),"undefined"!==typeof r&&null!==r&&r.callNative,s&&o&&my.isFRM,"object"===typeof navigator?navigator.userAgent||navigator.swuserAgent:"");/.+AliApp\((\w+)\/((?:\d+\.)+\d+)\).* .*(WindVane)(?:\/((?:\d+\.)+\d+))?.*/.test(u)&&o&&"undefined"!==typeof WindVane&&WindVane.call}).call(this,n(7),n(9))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(664);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||(t[e]=r[e]))})},function(e,t,n){"use strict";(function(t){class n extends Error{constructor(e){super(n._prepareSuperMessage(e)),Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(this,n)}static _prepareSuperMessage(e){try{return JSON.stringify(e)}catch{return String(e)}}}const r=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],o=Symbol(".toJSON called"),i=({from:e,seen:n,to_:a,forceEnumerable:s,maxDepth:c,depth:u})=>{const l=a||(Array.isArray(e)?[]:{});if(n.push(e),u>=c)return l;if("function"===typeof e.toJSON&&!0!==e[o])return(e=>{e[o]=!0;const t=e.toJSON();return delete e[o],t})(e);for(const[r,o]of Object.entries(e))"function"===typeof t&&t.isBuffer(o)?l[r]="[object Buffer]":"function"!==typeof o&&(o&&"object"===typeof o?n.includes(e[r])?l[r]="[Circular]":(u++,l[r]=i({from:e[r],seen:n.slice(),forceEnumerable:s,maxDepth:c,depth:u})):l[r]=o);for(const{property:t,enumerable:n}of r)"string"===typeof e[t]&&Object.defineProperty(l,t,{value:e[t],enumerable:!!s||n,configurable:!0,writable:!0});return l};e.exports={serializeError:(e,t={})=>{const{maxDepth:n=Number.POSITIVE_INFINITY}=t;return"object"===typeof e&&null!==e?i({from:e,seen:[],forceEnumerable:!0,maxDepth:n,depth:0}):"function"===typeof e?`[Function: ${e.name||"anonymous"}]`:e},deserializeError:(e,t={})=>{const{maxDepth:r=Number.POSITIVE_INFINITY}=t;if(e instanceof Error)return e;if("object"===typeof e&&null!==e&&!Array.isArray(e)){const t=new Error;return i({from:e,seen:[],to_:t,maxDepth:r,depth:0}),t}return new n(e)}}}).call(this,n(669).Buffer)},function(e,t,n){var r=n(195),o=0;e.exports=function(e){var t=++o;return r(e)+t}},function(e,t,n){(function(t){var n="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",i=/^\[object .+?Constructor\]$/,a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,c=a||s||Function("return this")();function u(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!==t)return function(e,t,n,r){var o=e.length,i=n+(r?1:-1);for(;r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,f,n);var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function l(e,t,n){for(var r=-1,o=e?e.length:0;++r<o;)if(n(t,e[r]))return!0;return!1}function d(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function f(e){return e!==e}function p(e,t){return e.has(t)}function m(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var g,h=Array.prototype,v=Function.prototype,y=Object.prototype,_=c["__core-js_shared__"],b=(g=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",w=v.toString,C=y.hasOwnProperty,T=y.toString,S=RegExp("^"+w.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=c.Symbol,N=y.propertyIsEnumerable,M=h.splice,E=k?k.isConcatSpreadable:void 0,O=Math.max,x=G(c,"Map"),A=G(c,"Set"),I=G(Object,"create");function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function D(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function U(e){var t=-1,n=e?e.length:0;for(this.__data__=new D;++t<n;)this.add(e[t])}function j(e,t){for(var n=e.length;n--;)if(z(e[n][0],t))return n;return-1}function L(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=V),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?L(s,t-1,n,r,o):d(o,s):r||(o[o.length]=s)}return o}function F(e){if(!Q(e)||(t=e,b&&b in t))return!1;var t,n=X(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?S:i;return n.test(function(e){if(null!=e){try{return w.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}P.prototype.clear=function(){this.__data__=I?I(null):{}},P.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},P.prototype.get=function(e){var t=this.__data__;if(I){var r=t[e];return r===n?void 0:r}return C.call(t,e)?t[e]:void 0},P.prototype.has=function(e){var t=this.__data__;return I?void 0!==t[e]:C.call(t,e)},P.prototype.set=function(e,t){return this.__data__[e]=I&&void 0===t?n:t,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(e){var t=this.__data__,n=j(t,e);return!(n<0)&&(n==t.length-1?t.pop():M.call(t,n,1),!0)},R.prototype.get=function(e){var t=this.__data__,n=j(t,e);return n<0?void 0:t[n][1]},R.prototype.has=function(e){return j(this.__data__,e)>-1},R.prototype.set=function(e,t){var n=this.__data__,r=j(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},D.prototype.clear=function(){this.__data__={hash:new P,map:new(x||R),string:new P}},D.prototype.delete=function(e){return q(this,e).delete(e)},D.prototype.get=function(e){return q(this,e).get(e)},D.prototype.has=function(e){return q(this,e).has(e)},D.prototype.set=function(e,t){return q(this,e).set(e,t),this},U.prototype.add=U.prototype.push=function(e){return this.__data__.set(e,n),this},U.prototype.has=function(e){return this.__data__.has(e)};var B=A&&1/m(new A([,-0]))[1]==1/0?function(e){return new A(e)}:function(){};function q(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function G(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return F(n)?n:void 0}function V(e){return J(e)||function(e){return K(e)&&C.call(e,"callee")&&(!N.call(e,"callee")||T.call(e)==o)}(e)||!!(E&&e&&e[E])}var W,H,Y=(W=function(e){var t,n,r=(n=(t=e)?t.length:0)?t[n-1]:void 0;return K(r)&&(r=void 0),function(e,t,n){var r=-1,o=u,i=e.length,a=!0,s=[],c=s;if(n)a=!1,o=l;else if(i>=200){var d=t?null:B(e);if(d)return m(d);a=!1,o=p,c=new U}else c=t?[]:s;e:for(;++r<i;){var f=e[r],g=t?t(f):f;if(f=n||0!==f?f:0,a&&g===g){for(var h=c.length;h--;)if(c[h]===g)continue e;t&&c.push(g),s.push(f)}else o(c,g,n)||(c!==s&&c.push(g),s.push(f))}return s}(L(e,1,K,!0),void 0,r)},H=O(void 0===H?W.length-1:H,0),function(){for(var e=arguments,t=-1,n=O(e.length-H,0),r=Array(n);++t<n;)r[t]=e[H+t];t=-1;for(var o=Array(H+1);++t<H;)o[t]=e[t];return o[H]=r,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(W,this,o)});function z(e,t){return e===t||e!==e&&t!==t}var J=Array.isArray;function $(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!X(e)}function K(e){return function(e){return!!e&&"object"==typeof e}(e)&&$(e)}function X(e){var t=Q(e)?T.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function Q(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=Y}).call(this,n(9))},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){(function(t){var n="[object Symbol]",r="object"==typeof t&&t&&t.Object===Object&&t,o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")(),a=Object.prototype,s=0,c=a.toString,u=i.Symbol,l=u?u.prototype:void 0,d=l?l.toString:void 0;function f(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&c.call(e)==n}(e))return d?d.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}e.exports=function(e){var t,n=++s;return(null==(t=e)?"":f(t))+n}}).call(this,n(9))},function(e,t,n){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function r(e,o,i){return r=n()?Reflect.construct:function(e,n,r){var o=[null];o.push.apply(o,n);var i=new(Function.bind.apply(e,o));return r&&t(i,r.prototype),i},r.apply(null,arguments)}function o(e){return i(e)||a(e)||s(e)||u()}function i(e){if(Array.isArray(e))return c(e)}function a(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=Object.hasOwnProperty,d=Object.setPrototypeOf,f=Object.isFrozen,p=Object.getPrototypeOf,m=Object.getOwnPropertyDescriptor,g=Object.freeze,h=Object.seal,v=Object.create,y="undefined"!==typeof Reflect&&Reflect,_=y.apply,b=y.construct;_||(_=function(e,t,n){return e.apply(t,n)}),g||(g=function(e){return e}),h||(h=function(e){return e}),b||(b=function(e,t){return r(e,o(t))});var w=I(Array.prototype.forEach),C=I(Array.prototype.pop),T=I(Array.prototype.push),S=I(String.prototype.toLowerCase),k=I(String.prototype.toString),N=I(String.prototype.match),M=I(String.prototype.replace),E=I(String.prototype.indexOf),O=I(String.prototype.trim),x=I(RegExp.prototype.test),A=P(TypeError);function I(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return _(e,t,r)}}function P(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(e,n)}}function R(e,t,n){var r;n=null!==(r=n)&&void 0!==r?r:S,d&&d(e,null);for(var o=t.length;o--;){var i=t[o];if("string"===typeof i){var a=n(i);a!==i&&(f(t)||(t[o]=a),i=a)}e[i]=!0}return e}function D(e){var t,n=v(null);for(t in e)!0===_(l,e,[t])&&(n[t]=e[t]);return n}function U(e,t){for(;null!==e;){var n=m(e,t);if(n){if(n.get)return I(n.get);if("function"===typeof n.value)return I(n.value)}e=p(e)}function r(e){return console.warn("fallback value for",e),null}return r}var j=g(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=g(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),F=g(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),B=g(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),q=g(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),G=g(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),V=g(["#text"]),W=g(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),H=g(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Y=g(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),z=g(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),J=h(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$=h(/<%[\w\W]*|[\w\W]*%>/gm),K=h(/\${[\w\W]*}/gm),X=h(/^data-[\-\w.\u00B7-\uFFFF]+$/),Q=h(/^aria-[\-\w]+$/),Z=h(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ee=h(/^(?:\w+script|data):/i),te=h(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ne=h(/^html$/i),re=h(/^[a-z][.\w]*(-[.\w]+)+$/i),oe=function(){return"undefined"===typeof window?null:window},ie=function(t,n){if("object"!==e(t)||"function"!==typeof t.createPolicy)return null;var r=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(r=n.currentScript.getAttribute(o));var i="dompurify"+(r?"#"+r:"");try{return t.createPolicy(i,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function ae(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe(),n=function(e){return ae(e)};if(n.version="2.5.8",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,i=t.document,a=t.DocumentFragment,s=t.HTMLTemplateElement,c=t.Node,u=t.Element,l=t.NodeFilter,d=t.NamedNodeMap,f=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,p=t.HTMLFormElement,m=t.DOMParser,h=t.trustedTypes,v=u.prototype,y=U(v,"cloneNode"),_=U(v,"nextSibling"),b=U(v,"childNodes"),I=U(v,"parentNode");if("function"===typeof s){var P=i.createElement("template");P.content&&P.content.ownerDocument&&(i=P.content.ownerDocument)}var se=ie(h,r),ce=se?se.createHTML(""):"",ue=i,le=ue.implementation,de=ue.createNodeIterator,fe=ue.createDocumentFragment,pe=ue.getElementsByTagName,me=r.importNode,ge={};try{ge=D(i).documentMode?i.documentMode:{}}catch(e){}var he={};n.isSupported="function"===typeof I&&le&&void 0!==le.createHTMLDocument&&9!==ge;var ve,ye,_e=J,be=$,we=K,Ce=X,Te=Q,Se=ee,ke=te,Ne=re,Me=Z,Ee=null,Oe=R({},[].concat(o(j),o(L),o(F),o(q),o(V))),xe=null,Ae=R({},[].concat(o(W),o(H),o(Y),o(z))),Ie=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Pe=null,Re=null,De=!0,Ue=!0,je=!1,Le=!0,Fe=!1,Be=!0,qe=!1,Ge=!1,Ve=!1,We=!1,He=!1,Ye=!1,ze=!0,Je=!1,$e="user-content-",Ke=!0,Xe=!1,Qe={},Ze=null,et=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),tt=null,nt=R({},["audio","video","img","source","image","track"]),rt=null,ot=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),it="http://www.w3.org/1998/Math/MathML",at="http://www.w3.org/2000/svg",st="http://www.w3.org/1999/xhtml",ct=st,ut=!1,lt=null,dt=R({},[it,at,st],k),ft=["application/xhtml+xml","text/html"],pt="text/html",mt=null,gt=i.createElement("form"),ht=function(e){return e instanceof RegExp||e instanceof Function},vt=function(t){mt&&mt===t||(t&&"object"===e(t)||(t={}),t=D(t),ve=ve=-1===ft.indexOf(t.PARSER_MEDIA_TYPE)?pt:t.PARSER_MEDIA_TYPE,ye="application/xhtml+xml"===ve?k:S,Ee="ALLOWED_TAGS"in t?R({},t.ALLOWED_TAGS,ye):Oe,xe="ALLOWED_ATTR"in t?R({},t.ALLOWED_ATTR,ye):Ae,lt="ALLOWED_NAMESPACES"in t?R({},t.ALLOWED_NAMESPACES,k):dt,rt="ADD_URI_SAFE_ATTR"in t?R(D(ot),t.ADD_URI_SAFE_ATTR,ye):ot,tt="ADD_DATA_URI_TAGS"in t?R(D(nt),t.ADD_DATA_URI_TAGS,ye):nt,Ze="FORBID_CONTENTS"in t?R({},t.FORBID_CONTENTS,ye):et,Pe="FORBID_TAGS"in t?R({},t.FORBID_TAGS,ye):{},Re="FORBID_ATTR"in t?R({},t.FORBID_ATTR,ye):{},Qe="USE_PROFILES"in t&&t.USE_PROFILES,De=!1!==t.ALLOW_ARIA_ATTR,Ue=!1!==t.ALLOW_DATA_ATTR,je=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Le=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Fe=t.SAFE_FOR_TEMPLATES||!1,Be=!1!==t.SAFE_FOR_XML,qe=t.WHOLE_DOCUMENT||!1,We=t.RETURN_DOM||!1,He=t.RETURN_DOM_FRAGMENT||!1,Ye=t.RETURN_TRUSTED_TYPE||!1,Ve=t.FORCE_BODY||!1,ze=!1!==t.SANITIZE_DOM,Je=t.SANITIZE_NAMED_PROPS||!1,Ke=!1!==t.KEEP_CONTENT,Xe=t.IN_PLACE||!1,Me=t.ALLOWED_URI_REGEXP||Me,ct=t.NAMESPACE||st,Ie=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&ht(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ie.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ht(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ie.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ie.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Fe&&(Ue=!1),He&&(We=!0),Qe&&(Ee=R({},o(V)),xe=[],!0===Qe.html&&(R(Ee,j),R(xe,W)),!0===Qe.svg&&(R(Ee,L),R(xe,H),R(xe,z)),!0===Qe.svgFilters&&(R(Ee,F),R(xe,H),R(xe,z)),!0===Qe.mathMl&&(R(Ee,q),R(xe,Y),R(xe,z))),t.ADD_TAGS&&(Ee===Oe&&(Ee=D(Ee)),R(Ee,t.ADD_TAGS,ye)),t.ADD_ATTR&&(xe===Ae&&(xe=D(xe)),R(xe,t.ADD_ATTR,ye)),t.ADD_URI_SAFE_ATTR&&R(rt,t.ADD_URI_SAFE_ATTR,ye),t.FORBID_CONTENTS&&(Ze===et&&(Ze=D(Ze)),R(Ze,t.FORBID_CONTENTS,ye)),Ke&&(Ee["#text"]=!0),qe&&R(Ee,["html","head","body"]),Ee.table&&(R(Ee,["tbody"]),delete Pe.tbody),g&&g(t),mt=t)},yt=R({},["mi","mo","mn","ms","mtext"]),_t=R({},["annotation-xml"]),bt=R({},["title","style","font","a","script"]),wt=R({},L);R(wt,F),R(wt,B);var Ct=R({},q);R(Ct,G);var Tt=function(e){var t=I(e);t&&t.tagName||(t={namespaceURI:ct,tagName:"template"});var n=S(e.tagName),r=S(t.tagName);return!!lt[e.namespaceURI]&&(e.namespaceURI===at?t.namespaceURI===st?"svg"===n:t.namespaceURI===it?"svg"===n&&("annotation-xml"===r||yt[r]):Boolean(wt[n]):e.namespaceURI===it?t.namespaceURI===st?"math"===n:t.namespaceURI===at?"math"===n&&_t[r]:Boolean(Ct[n]):e.namespaceURI===st?!(t.namespaceURI===at&&!_t[r])&&!(t.namespaceURI===it&&!yt[r])&&!Ct[n]&&(bt[n]||!wt[n]):!("application/xhtml+xml"!==ve||!lt[e.namespaceURI]))},St=function(e){T(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ce}catch(t){e.remove()}}},kt=function(e,t){try{T(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){T(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!xe[e])if(We||He)try{St(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Nt=function(e){var t,n;if(Ve)e="<remove></remove>"+e;else{var r=N(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===ve&&ct===st&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=se?se.createHTML(e):e;if(ct===st)try{t=(new m).parseFromString(o,ve)}catch(e){}if(!t||!t.documentElement){t=le.createDocument(ct,"template",null);try{t.documentElement.innerHTML=ut?ce:o}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),ct===st?pe.call(t,qe?"html":"body")[0]:qe?t.documentElement:a},Mt=function(e){return de.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null,!1)},Et=function(e){return e instanceof p&&("string"!==typeof e.nodeName||"string"!==typeof e.textContent||"function"!==typeof e.removeChild||!(e.attributes instanceof f)||"function"!==typeof e.removeAttribute||"function"!==typeof e.setAttribute||"string"!==typeof e.namespaceURI||"function"!==typeof e.insertBefore||"function"!==typeof e.hasChildNodes)},Ot=function(t){return"object"===e(c)?t instanceof c:t&&"object"===e(t)&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName},xt=function(e,t,r){he[e]&&w(he[e],function(e){e.call(n,t,r,mt)})},At=function(e){var t;if(xt("beforeSanitizeElements",e,null),Et(e))return St(e),!0;if(x(/[\u0080-\uFFFF]/,e.nodeName))return St(e),!0;var r=ye(e.nodeName);if(xt("uponSanitizeElement",e,{tagName:r,allowedTags:Ee}),e.hasChildNodes()&&!Ot(e.firstElementChild)&&(!Ot(e.content)||!Ot(e.content.firstElementChild))&&x(/<[/\w]/g,e.innerHTML)&&x(/<[/\w]/g,e.textContent))return St(e),!0;if("select"===r&&x(/<template/i,e.innerHTML))return St(e),!0;if(7===e.nodeType)return St(e),!0;if(Be&&8===e.nodeType&&x(/<[/\w]/g,e.data))return St(e),!0;if(!Ee[r]||Pe[r]){if(!Pe[r]&&Pt(r)){if(Ie.tagNameCheck instanceof RegExp&&x(Ie.tagNameCheck,r))return!1;if(Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(r))return!1}if(Ke&&!Ze[r]){var o=I(e)||e.parentNode,i=b(e)||e.childNodes;if(i&&o)for(var a=i.length-1;a>=0;--a){var s=y(i[a],!0);s.__removalCount=(e.__removalCount||0)+1,o.insertBefore(s,_(e))}}return St(e),!0}return e instanceof u&&!Tt(e)?(St(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!x(/<\/no(script|embed|frames)/i,e.innerHTML)?(Fe&&3===e.nodeType&&(t=e.textContent,t=M(t,_e," "),t=M(t,be," "),t=M(t,we," "),e.textContent!==t&&(T(n.removed,{element:e.cloneNode()}),e.textContent=t)),xt("afterSanitizeElements",e,null),!1):(St(e),!0)},It=function(e,t,n){if(ze&&("id"===t||"name"===t)&&(n in i||n in gt))return!1;if(Ue&&!Re[t]&&x(Ce,t));else if(De&&x(Te,t));else if(!xe[t]||Re[t]){if(!(Pt(e)&&(Ie.tagNameCheck instanceof RegExp&&x(Ie.tagNameCheck,e)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(e))&&(Ie.attributeNameCheck instanceof RegExp&&x(Ie.attributeNameCheck,t)||Ie.attributeNameCheck instanceof Function&&Ie.attributeNameCheck(t))||"is"===t&&Ie.allowCustomizedBuiltInElements&&(Ie.tagNameCheck instanceof RegExp&&x(Ie.tagNameCheck,n)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(n))))return!1}else if(rt[t]);else if(x(Me,M(n,ke,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==E(n,"data:")||!tt[e])if(je&&!x(Se,M(n,ke,"")));else if(n)return!1;return!0},Pt=function(e){return"annotation-xml"!==e&&N(e,Ne)},Rt=function(t){var r,o,i,a;xt("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s&&!Et(t)){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xe};for(a=s.length;a--;){var u=r=s[a],l=u.name,d=u.namespaceURI;if(o="value"===l?r.value:O(r.value),i=ye(l),c.attrName=i,c.attrValue=o,c.keepAttr=!0,c.forceKeepAttr=void 0,xt("uponSanitizeAttribute",t,c),o=c.attrValue,!c.forceKeepAttr&&(kt(l,t),c.keepAttr))if(Le||!x(/\/>/i,o)){Fe&&(o=M(o,_e," "),o=M(o,be," "),o=M(o,we," "));var f=ye(t.nodeName);if(It(f,i,o))if(!Je||"id"!==i&&"name"!==i||(kt(l,t),o=$e+o),Be&&x(/((--!?|])>)|<\/(style|title)/i,o))kt(l,t);else{if(se&&"object"===e(h)&&"function"===typeof h.getAttributeType)if(d);else switch(h.getAttributeType(f,i)){case"TrustedHTML":o=se.createHTML(o);break;case"TrustedScriptURL":o=se.createScriptURL(o)}try{d?t.setAttributeNS(d,l,o):t.setAttribute(l,o),Et(t)?St(t):C(n.removed)}catch(e){}}}else kt(l,t)}xt("afterSanitizeAttributes",t,null)}},Dt=function e(t){var n,r=Mt(t);for(xt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)xt("uponSanitizeShadowNode",n,null),At(n),Rt(n),n.content instanceof a&&e(n.content);xt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(o){var i,s,u,l,d,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ut=!o)&&(o="\x3c!--\x3e"),"string"!==typeof o&&!Ot(o)){if("function"!==typeof o.toString)throw A("toString is not a function");if("string"!==typeof(o=o.toString()))throw A("dirty is not a string, aborting")}if(!n.isSupported){if("object"===e(t.toStaticHTML)||"function"===typeof t.toStaticHTML){if("string"===typeof o)return t.toStaticHTML(o);if(Ot(o))return t.toStaticHTML(o.outerHTML)}return o}if(Ge||vt(f),n.removed=[],"string"===typeof o&&(Xe=!1),Xe){if(o.nodeName){var p=ye(o.nodeName);if(!Ee[p]||Pe[p])throw A("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof c)1===(s=(i=Nt("\x3c!----\x3e")).ownerDocument.importNode(o,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?i=s:i.appendChild(s);else{if(!We&&!Fe&&!qe&&-1===o.indexOf("<"))return se&&Ye?se.createHTML(o):o;if(!(i=Nt(o)))return We?null:Ye?ce:""}i&&Ve&&St(i.firstChild);for(var m=Mt(Xe?o:i);u=m.nextNode();)3===u.nodeType&&u===l||(At(u),Rt(u),u.content instanceof a&&Dt(u.content),l=u);if(l=null,Xe)return o;if(We){if(He)for(d=fe.call(i.ownerDocument);i.firstChild;)d.appendChild(i.firstChild);else d=i;return(xe.shadowroot||xe.shadowrootmod)&&(d=me.call(r,d,!0)),d}var g=qe?i.outerHTML:i.innerHTML;return qe&&Ee["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&x(ne,i.ownerDocument.doctype.name)&&(g="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+g),Fe&&(g=M(g,_e," "),g=M(g,be," "),g=M(g,we," ")),se&&Ye?se.createHTML(g):g},n.setConfig=function(e){vt(e),Ge=!0},n.clearConfig=function(){mt=null,Ge=!1},n.isValidAttribute=function(e,t,n){mt||vt({});var r=ye(e),o=ye(t);return It(r,o,n)},n.addHook=function(e,t){"function"===typeof t&&(he[e]=he[e]||[],T(he[e],t))},n.removeHook=function(e){if(he[e])return C(he[e])},n.removeHooks=function(e){he[e]&&(he[e]=[])},n.removeAllHooks=function(){he={}},n}return ae()}()},function(e){e.exports=JSON.parse('{"name":"@ali/icbu-im-sdk","version":"5.0.105","description":"跨端ICBU业务层SDK","files":["demo/","dist/","lib/","es/","build/","builder/"],"main":"lib/index.js","module":"es/index.js","buildDir":"lib","types":"lib/types/src/index.d.ts","scripts":{"start":"build-scripts build","build":"build-scripts build && tnpm run build:pc","build:pc":"rm -rf builder/ && mkdir builder && ./node_modules/webpack/bin/webpack.js --config ./webpack.config-pc.js","test":"jest","prepublishOnly":"npm run build","f2elint-scan":"f2elint scan","f2elint-fix":"f2elint fix"},"dependencies":{"@ali/dd-im-paas-jssdk":"2.1.0-beta.22","@ali/ding-filetypes":"^1.0.12","@ali/icbu-domain-transfer":"^0.1.0","@ali/imagespace-upload-sdk":"^1.0.5","@ali/universal-goldlog":"^9.2.0","@ali/universal-mtop":"^5.2.2","@alife/indexedDB-manager":"^1.0.3","debug":"^4.1.1","dompurify":"^2.3.4","events":"^3.2.0","immer":"^8.0.0","js-base64":"^3.5.2","lodash.eq":"^4.0.0","lodash.get":"^4.4.2","lodash.set":"^4.3.2","lodash.unionwith":"^4.6.0","lodash.uniqueid":"^4.0.1","lru-cache":"^6.0.0","universal-env":"^3.2.2"},"devDependencies":{"@iceworks/spec":"^1.0.0","@types/jest":"^28.1.8","babel-jest":"^28.1.3","build-plugin-component":"^1.0.0","build-scripts":"^1.1.1","copy-webpack-plugin":"^4.6.0","f2elint":"^2.2.1","fake-indexeddb":"^4.0.1","ignore-loader":"^0.1.2","jest":"^28.1.3","jest-environment-jsdom":"^28.1.3","prettier":"^3.0.0","ts-jest":"^28.0.8","webpack-cli":"^4.10.0"},"repository":{"type":"git","url":"git@gitlab.alibaba-inc.com:icbu-im/universal-sdk.git"},"keywords":["ICBU","IM"],"publishConfig":{"registry":"https://registry.anpm.alibaba-inc.com"},"author":"yougen.zhuangyg","license":"ISC","husky":{"hooks":{"pre-commit":"f2elint commit-file-scan","commit-msg":"f2elint commit-msg-scan"}},"homepage":"https://unpkg.alibaba-inc.com/@ali/icbu-im-sdk@5.0.105/build/index.html","build_meta":{"platform":"o2_space","operator":"xiuying.xy","operator_nick":"乐隐","app_id":"223429","iteration_id":"16248957","task_id":"144805460","branch_name":"def_releases_202509031018033_icbu-im_universal-sdk/5.0.105","commit_id":"f236ced7d0bba53afe441e79212b1ac74c2f99fb","build_id":"46614178","emp_id":"297656","app_name":"icbu-im/universal-sdk","pub_env":"publish","repo_name":"git@gitlab.alibaba-inc.com:icbu-im/universal-sdk.git","build_start_time":"2025-09-03T07:10:02.000Z","build_end_time":"2025-09-03T07:11:13.000Z"},"__npminstall_done":true,"_from":"@ali/icbu-im-sdk@5.0.105","_resolved":"https://registry.anpm.alibaba-inc.com/@ali/icbu-im-sdk/-/icbu-im-sdk-5.0.105.tgz"}')},function(e,t,n){(function(r){t.log=function(...e){return"object"===typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production"}).DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(686)(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(7))},,function(e,t,n){var r=n(139),o=n(140),i=n(247),a=n(142),s=n(143),c=n(248),u=n(249);function l(){"use strict";var t=o(),n=t.m(l),d=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function f(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))}var p={throw:1,return:2,break:3,continue:3};function m(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,p[e],t)},delegateYield:function(e,o,i){return t.resultName=o,n(r.d,u(e),i)},finish:function(e){return n(r.f,e)}},n=function(e,n,o){r.p=t.prev,r.n=t.next;try{return e(n,o)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(e.exports=l=function(){return{wrap:function(e,n,r,o){return t.w(m(e),n,r,o&&o.reverse())},isGeneratorFunction:f,mark:t.m,awrap:function(e,t){return new r(e,t)},AsyncIterator:s,async:function(e,t,n,r,o){return(f(t)?a:i)(m(e),t,n,r,o)},keys:c,values:u}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=l,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(142);e.exports=function(e,t,n,o,i){var a=r(e,t,n,o,i);return a.next().then(function(e){return e.done?e.value:a.next()})},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(20).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(r(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.r(t);var r=n(102);const o="cn"===window.schema,i={host:o?"cn-qingdao.log.aliyuncs.com":"us-east-1.log.aliyuncs.com",project:o?"im-log-cn-fe":"im-log-us-fe",logstore:o?"im-log-store-cn":"im-us-logstore",time:10,count:10};var a=new class{constructor(e){this.options=e;const{project:t,host:n,logstore:r}=e;this.url=`http://${t}.${n}/logstores/${r}/track.gif?APIVersion=0.6.0`}send(e){}}(i);const s=new r.default("track");s.color("#872657");t.default={error(e,t){t="[object Object]"===Object.prototype.toString.call(t)?c(t):c({params:t}),s.log(e,JSON.stringify(t)),a.send({name:e,params:t})},info(e,t){t="[object Object]"===Object.prototype.toString.call(t)?c(t):c({params:t}),s.log(e,JSON.stringify(t)),a.send({name:e,params:t})}};function c(e={}){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(475);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,,function(e,t,n){"use strict";function r(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}n.r(t),n.d(t,"__DO_NOT_USE__ActionTypes",function(){return a}),n.d(t,"applyMiddleware",function(){return m}),n.d(t,"bindActionCreators",function(){return f}),n.d(t,"combineReducers",function(){return l}),n.d(t,"compose",function(){return p}),n.d(t,"createStore",function(){return c}),n.d(t,"isAction",function(){return g}),n.d(t,"isPlainObject",function(){return s}),n.d(t,"legacy_createStore",function(){return u});var o=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),i=()=>Math.random().toString(36).substring(7).split("").join("."),a={INIT:`@@redux/INIT${i()}`,REPLACE:`@@redux/REPLACE${i()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${i()}`};function s(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function c(e,t,n){if("function"!==typeof e)throw new Error(r(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(r(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(r(1));return n(c)(e,t)}let i=e,u=t,l=new Map,d=l,f=0,p=!1;function m(){d===l&&(d=new Map,l.forEach((e,t)=>{d.set(t,e)}))}function g(){if(p)throw new Error(r(3));return u}function h(e){if("function"!==typeof e)throw new Error(r(4));if(p)throw new Error(r(5));let t=!0;m();const n=f++;return d.set(n,e),function(){if(t){if(p)throw new Error(r(6));t=!1,m(),d.delete(n),l=null}}}function v(e){if(!s(e))throw new Error(r(7));if("undefined"===typeof e.type)throw new Error(r(8));if("string"!==typeof e.type)throw new Error(r(17));if(p)throw new Error(r(9));try{p=!0,u=i(u,e)}finally{p=!1}return(l=d).forEach(e=>{e()}),e}v({type:a.INIT});return{dispatch:v,subscribe:h,getState:g,replaceReducer:function(e){if("function"!==typeof e)throw new Error(r(10));i=e,v({type:a.REPLACE})},[o]:function(){const e=h;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(r(11));function n(){const e=t;e.next&&e.next(g())}n();return{unsubscribe:e(n)}},[o](){return this}}}}}function u(e,t,n){return c(e,t,n)}function l(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const o=t[r];0,"function"===typeof e[o]&&(n[o]=e[o])}const o=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:a.INIT}))throw new Error(r(12));if("undefined"===typeof n(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error(r(13))})}(n)}catch(e){i=e}return function(e={},t){if(i)throw i;let a=!1;const s={};for(let i=0;i<o.length;i++){const c=o[i],u=n[c],l=e[c],d=u(l,t);if("undefined"===typeof d){t&&t.type;throw new Error(r(14))}s[c]=d,a=a||d!==l}return a=a||o.length!==Object.keys(e).length,a?s:e}}function d(e,t){return function(...n){return t(e.apply(this,n))}}function f(e,t){if("function"===typeof e)return d(e,t);if("object"!==typeof e||null===e)throw new Error(r(16));const n={};for(const r in e){const o=e[r];"function"===typeof o&&(n[r]=d(o,t))}return n}function p(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}function m(...e){return t=>(n,o)=>{const i=t(n,o);let a=()=>{throw new Error(r(15))};const s={getState:i.getState,dispatch:(e,...t)=>a(e,...t)},c=e.map(e=>e(s));return a=p(...c)(i.dispatch),{...i,dispatch:a}}}function g(e){return s(e)&&"type"in e&&"string"===typeof e.type}},function(e,t){},function(e,t,n){"use strict";e.exports=n(481)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function C(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case c:case s:case m:return e;default:switch(e=e&&e.$$typeof){case l:case p:case v:case h:case u:return e;default:return t}}case i:return t}}}function T(e){return C(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=h,t.Portal=i,t.Profiler=c,t.StrictMode=s,t.Suspense=m,t.isAsyncMode=function(e){return T(e)||C(e)===d},t.isConcurrentMode=T,t.isContextConsumer=function(e){return C(e)===l},t.isContextProvider=function(e){return C(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return C(e)===p},t.isFragment=function(e){return C(e)===a},t.isLazy=function(e){return C(e)===v},t.isMemo=function(e){return C(e)===h},t.isPortal=function(e){return C(e)===i},t.isProfiler=function(e){return C(e)===c},t.isStrictMode=function(e){return C(e)===s},t.isSuspense=function(e){return C(e)===m},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===c||e===s||e===m||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===u||e.$$typeof===l||e.$$typeof===p||e.$$typeof===_||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=C},function(e,t,n){"use strict";var r=60103,o=60106,i=60107,a=60108,s=60114,c=60109,u=60110,l=60112,d=60113,f=60120,p=60115,m=60116,g=60121,h=60122,v=60117,y=60129,_=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;r=b("react.element"),o=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),s=b("react.profiler"),c=b("react.provider"),u=b("react.context"),l=b("react.forward_ref"),d=b("react.suspense"),f=b("react.suspense_list"),p=b("react.memo"),m=b("react.lazy"),g=b("react.block"),h=b("react.server.block"),v=b("react.fundamental"),y=b("react.debug_trace_mode"),_=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case a:case d:case f:return e;default:switch(e=e&&e.$$typeof){case u:case l:case m:case p:case c:return e;default:return t}}case o:return t}}}var C=c,T=r,S=l,k=i,N=m,M=p,E=o,O=s,x=a,A=d;t.ContextConsumer=u,t.ContextProvider=C,t.Element=T,t.ForwardRef=S,t.Fragment=k,t.Lazy=N,t.Memo=M,t.Portal=E,t.Profiler=O,t.StrictMode=x,t.Suspense=A,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===l},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===p},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===s||e===y||e===a||e===d||e===f||e===_||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===c||e.$$typeof===u||e.$$typeof===l||e.$$typeof===v||e.$$typeof===g||e[0]===h)},t.typeOf=w},function(e,t,n){"use strict";e.exports=function(e){return null!=e&&"object"===typeof e&&!1===Array.isArray(e)}},function(e,t,n){(function(t){var n;n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},e.exports=n}).call(this,n(9))},function(e,t,n){var r=n(184),o=n(185),i=n(486),a=n(187),s=n(188),c=n(487),u=n(488);function l(){"use strict";var t=o(),n=t.m(l),d=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function f(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))}var p={throw:1,return:2,break:3,continue:3};function m(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,p[e],t)},delegateYield:function(e,o,i){return t.resultName=o,n(r.d,u(e),i)},finish:function(e){return n(r.f,e)}},n=function(e,n,o){r.p=t.prev,r.n=t.next;try{return e(n,o)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(e.exports=l=function(){return{wrap:function(e,n,r,o){return t.w(m(e),n,r,o&&o.reverse())},isGeneratorFunction:f,mark:t.m,awrap:function(e,t){return new r(e,t)},AsyncIterator:s,async:function(e,t,n,r,o){return(f(t)?a:i)(m(e),t,n,r,o)},keys:c,values:u}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=l,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(187);e.exports=function(e,t,n,o,i){var a=r(e,t,n,o,i);return a.next().then(function(e){return e.done?e.value:a.next()})},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(489).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(r(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports=n(492)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function C(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case c:case s:case m:return e;default:switch(e=e&&e.$$typeof){case l:case p:case v:case h:case u:return e;default:return t}}case i:return t}}}function T(e){return C(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=h,t.Portal=i,t.Profiler=c,t.StrictMode=s,t.Suspense=m,t.isAsyncMode=function(e){return T(e)||C(e)===d},t.isConcurrentMode=T,t.isContextConsumer=function(e){return C(e)===l},t.isContextProvider=function(e){return C(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return C(e)===p},t.isFragment=function(e){return C(e)===a},t.isLazy=function(e){return C(e)===v},t.isMemo=function(e){return C(e)===h},t.isPortal=function(e){return C(e)===i},t.isProfiler=function(e){return C(e)===c},t.isStrictMode=function(e){return C(e)===s},t.isSuspense=function(e){return C(e)===m},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===c||e===s||e===m||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===u||e.$$typeof===l||e.$$typeof===p||e.$$typeof===_||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=C},function(e,t,n){"use strict";e.exports=n(494)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function C(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case c:case s:case m:return e;default:switch(e=e&&e.$$typeof){case l:case p:case v:case h:case u:return e;default:return t}}case i:return t}}}function T(e){return C(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=h,t.Portal=i,t.Profiler=c,t.StrictMode=s,t.Suspense=m,t.isAsyncMode=function(e){return T(e)||C(e)===d},t.isConcurrentMode=T,t.isContextConsumer=function(e){return C(e)===l},t.isContextProvider=function(e){return C(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return C(e)===p},t.isFragment=function(e){return C(e)===a},t.isLazy=function(e){return C(e)===v},t.isMemo=function(e){return C(e)===h},t.isPortal=function(e){return C(e)===i},t.isProfiler=function(e){return C(e)===c},t.isStrictMode=function(e){return C(e)===s},t.isSuspense=function(e){return C(e)===m},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===c||e===s||e===m||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===u||e.$$typeof===l||e.$$typeof===p||e.$$typeof===_||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=C},function(e,t,n){"use strict";var r=n(496);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports=n(499)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function C(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case c:case s:case m:return e;default:switch(e=e&&e.$$typeof){case l:case p:case v:case h:case u:return e;default:return t}}case i:return t}}}function T(e){return C(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=h,t.Portal=i,t.Profiler=c,t.StrictMode=s,t.Suspense=m,t.isAsyncMode=function(e){return T(e)||C(e)===d},t.isConcurrentMode=T,t.isContextConsumer=function(e){return C(e)===l},t.isContextProvider=function(e){return C(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return C(e)===p},t.isFragment=function(e){return C(e)===a},t.isLazy=function(e){return C(e)===v},t.isMemo=function(e){return C(e)===h},t.isPortal=function(e){return C(e)===i},t.isProfiler=function(e){return C(e)===c},t.isStrictMode=function(e){return C(e)===s},t.isSuspense=function(e){return C(e)===m},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===c||e===s||e===m||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===u||e.$$typeof===l||e.$$typeof===p||e.$$typeof===_||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=C},function(e,t,n){"use strict";e.exports=n(501)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function C(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case c:case s:case m:return e;default:switch(e=e&&e.$$typeof){case l:case p:case v:case h:case u:return e;default:return t}}case i:return t}}}function T(e){return C(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=h,t.Portal=i,t.Profiler=c,t.StrictMode=s,t.Suspense=m,t.isAsyncMode=function(e){return T(e)||C(e)===d},t.isConcurrentMode=T,t.isContextConsumer=function(e){return C(e)===l},t.isContextProvider=function(e){return C(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return C(e)===p},t.isFragment=function(e){return C(e)===a},t.isLazy=function(e){return C(e)===v},t.isMemo=function(e){return C(e)===h},t.isPortal=function(e){return C(e)===i},t.isProfiler=function(e){return C(e)===c},t.isStrictMode=function(e){return C(e)===s},t.isSuspense=function(e){return C(e)===m},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===c||e===s||e===m||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===u||e.$$typeof===l||e.$$typeof===p||e.$$typeof===_||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=C},function(e,t,n){"use strict";var r=n(503);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(505);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Headers",function(){return l}),n.d(t,"Request",function(){return v}),n.d(t,"Response",function(){return _}),n.d(t,"DOMException",function(){return w}),n.d(t,"fetch",function(){return C});var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof e&&e||{},o={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(o.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!==typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function f(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:o.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o.arrayBuffer&&o.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=d(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(o.blob)return this.blob().then(p);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,r,o,i=d(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=f(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),o=r?r[1]:"utf-8",t.readAsText(e,o),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=s(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},l.prototype.delete=function(e){delete this.map[s(e)]},l.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},l.prototype.set=function(e,t){this.map[s(e)]=c(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),u(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),u(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),u(e)},o.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var h=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,o,i=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(n=t.method||this.method||"GET",o=n.toUpperCase(),h.indexOf(o)>-1?o:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var a=/([?&])_=[^&]*/;if(a.test(this.url))this.url=this.url.replace(a,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},g.call(v.prototype),g.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var b=[301,302,303,307,308];_.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})};var w=r.DOMException;try{new w}catch(e){(w=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function C(e,t){return new Promise(function(n,i){var a=new v(e,t);if(a.signal&&a.signal.aborted)return i(new w("Aborted","AbortError"));var u=new XMLHttpRequest;function d(){u.abort()}if(u.onload=function(){var e,t,r={statusText:u.statusText,headers:(e=u.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();try{t.append(r,o)}catch(e){console.warn("Response "+e.message)}}}),t)};0===a.url.indexOf("file://")&&(u.status<200||u.status>599)?r.status=200:r.status=u.status,r.url="responseURL"in u?u.responseURL:r.headers.get("X-Request-URL");var o="response"in u?u.response:u.responseText;setTimeout(function(){n(new _(o,r))},0)},u.onerror=function(){setTimeout(function(){i(new TypeError("Network request failed"))},0)},u.ontimeout=function(){setTimeout(function(){i(new TypeError("Network request timed out"))},0)},u.onabort=function(){setTimeout(function(){i(new w("Aborted","AbortError"))},0)},u.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?u.withCredentials=!0:"omit"===a.credentials&&(u.withCredentials=!1),"responseType"in u&&(o.blob?u.responseType="blob":o.arrayBuffer&&(u.responseType="arraybuffer")),t&&"object"===typeof t.headers&&!(t.headers instanceof l||r.Headers&&t.headers instanceof r.Headers)){var f=[];Object.getOwnPropertyNames(t.headers).forEach(function(e){f.push(s(e)),u.setRequestHeader(e,c(t.headers[e]))}),a.headers.forEach(function(e,t){-1===f.indexOf(t)&&u.setRequestHeader(t,e)})}else a.headers.forEach(function(e,t){u.setRequestHeader(t,e)});a.signal&&(a.signal.addEventListener("abort",d),u.onreadystatechange=function(){4===u.readyState&&a.signal.removeEventListener("abort",d)}),u.send("undefined"===typeof a._bodyInit?null:a._bodyInit)})}C.polyfill=!0,r.fetch||(r.fetch=C,r.Headers=l,r.Request=v,r.Response=_)}.call(this,n(9))},function(e,t,n){"use strict";var r=n(508);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{_handleActions:function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0,i=r.type,a=(0,o.default)(n,function(t){var n=e[i];if(n){var o=n(t,r);if(void 0!==o)return o}});return void 0===a?{}:a}}}};var o=r(n(509))},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"produce",function(){return J}),n.d(t,"setAutoFreeze",function(){return $}),n.d(t,"setUseProxies",function(){return K}),n.d(t,"applyPatches",function(){return X}),n.d(t,"Immer",function(){return Y}),n.d(t,"original",function(){return p}),n.d(t,"isDraft",function(){return d}),n.d(t,"isDraftable",function(){return f}),n.d(t,"nothing",function(){return c}),n.d(t,"immerable",function(){return u});var r,o,i,a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="undefined"!==typeof Symbol?Symbol("immer-nothing"):(i=!0,(o="immer-nothing")in(r={})?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r),u="undefined"!==typeof Symbol?Symbol("immer-draftable"):"__$immer_draftable",l="undefined"!==typeof Symbol?Symbol("immer-state"):"__$immer_state";function d(e){return!!e&&!!e[l]}function f(e){if(!e||"object"!==("undefined"===typeof e?"undefined":a(e)))return!1;if(Array.isArray(e))return!0;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype||(!!e[u]||!!e.constructor[u])}function p(e){if(e&&e[l])return e[l].base}var m=Object.assign||function(e,t){for(var n in t)_(t,n)&&(e[n]=t[n]);return e},g="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:"undefined"!==typeof Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function h(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Array.isArray(e))return e.slice();var n=Object.create(Object.getPrototypeOf(e));return g(e).forEach(function(r){if(r!==l){var o=Object.getOwnPropertyDescriptor(e,r);if(o.get){if(!t)throw new Error("Immer drafts cannot have computed properties");o.value=o.get.call(e)}o.enumerable?n[r]=o.value:Object.defineProperty(n,r,{value:o.value,writable:!0,configurable:!0})}}),n}function v(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(n,e[n],e);else g(e).forEach(function(n){return t(n,e[n],e)})}function y(e,t){return Object.getOwnPropertyDescriptor(e,t).enumerable}function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function b(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var w={},C=[],T=function(){return C[C.length-1]};function S(e,t){var n=Array.isArray(e),r=O(e);v(r,function(t){!function(e,t,n){var r=w[t];r?r.enumerable=n:w[t]=r={configurable:!0,enumerable:n,get:function(){return function(e,t){x(e);var n=N(e)[t];if(!e.finalizing&&n===e.base[t]&&f(n))return E(e),e.copy[t]=S(n,e);return n}(this[l],t)},set:function(e){!function(e,t,n){if(x(e),e.assigned[t]=!0,!e.modified){if(b(N(e)[t],n))return;M(e),E(e)}e.copy[t]=n}(this[l],t,e)}};Object.defineProperty(e,t,r)}(r,t,n||y(e,t))});var o={scope:t?t.scope:T(),modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:r,copy:null,revoke:k,revoked:!1};return function(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0})}(r,l,o),o.scope.push(o),r}function k(){this.revoked=!0}function N(e){return e.copy||e.base}function M(e){e.modified||(e.modified=!0,e.parent&&M(e.parent))}function E(e){e.copy||(e.copy=O(e.base))}function O(e){var t=e&&e[l];if(t){t.finalizing=!0;var n=h(t.draft,!0);return t.finalizing=!1,n}return h(e)}function x(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(N(e)))}function A(e){if(e&&"object"===("undefined"===typeof e?"undefined":a(e))){var t=e[l];if(t){var n=t.base,r=t.draft,o=t.assigned;if(Array.isArray(e)){if(P(t)){if(M(t),o.length=!0,r.length<n.length)for(var i=r.length;i<n.length;i++)o[i]=!1;else for(var s=n.length;s<r.length;s++)o[s]=!0;for(var c=0;c<r.length;c++)void 0===o[c]&&A(r[c])}}else Object.keys(r).forEach(function(e){void 0!==n[e]||_(n,e)?o[e]||A(r[e]):(o[e]=!0,M(t))}),Object.keys(n).forEach(function(e){void 0!==r[e]||_(r,e)||(o[e]=!1,M(t))})}}}function I(e){for(var t=e.base,n=e.draft,r=Object.keys(n),o=r.length-1;o>=0;o--)if(void 0===t[r[o]]&&!_(t,r[o]))return!0;return r.length!==Object.keys(t).length}function P(e){var t=e.draft;if(t.length!==e.base.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var R=Object.freeze({scopes:C,currentScope:T,willFinalize:function(e,t,n){var r=T();r.forEach(function(e){return e.finalizing=!0}),void 0!==e&&e!==t||(n&&A(t),function(e){for(var t=e.length-1;t>=0;t--){var n=e[t];!1===n.modified&&(Array.isArray(n.base)?P(n)&&M(n):I(n)&&M(n))}}(r))},createDraft:S}),D=[],U=function(){return D[D.length-1]};function j(e,t){var n={scope:t?t.scope:U(),modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null},r=Array.isArray(e)?Proxy.revocable([n],F):Proxy.revocable(n,L),o=r.revoke,i=r.proxy;return n.draft=i,n.revoke=o,n.scope.push(n),i}var L={get:function(e,t){if(t===l)return e;var n=e.drafts;if(!e.modified&&_(n,t))return n[t];var r=B(e)[t];if(e.finalized||!f(r))return r;if(e.modified){if(r!==e.base[t])return r;n=e.copy}return n[t]=j(r,e)},has:function(e,t){return t in B(e)},ownKeys:function(e){return Reflect.ownKeys(B(e))},set:function(e,t,n){if(!e.modified){if(n?b(e.base[t],n)||n===e.drafts[t]:b(e.base[t],n)&&t in e.base)return!0;q(e)}return e.assigned[t]=!0,e.copy[t]=n,!0},deleteProperty:function(e,t){(void 0!==e.base[t]||t in e.base)&&(e.assigned[t]=!1,q(e));e.copy&&delete e.copy[t];return!0},getOwnPropertyDescriptor:function(e,t){var n=B(e),r=Reflect.getOwnPropertyDescriptor(n,t);r&&(r.writable=!0,r.configurable=!Array.isArray(n)||"length"!==t);return r},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},F={};function B(e){return e.copy||e.base}function q(e){e.modified||(e.modified=!0,e.copy=m(h(e.base),e.drafts),e.drafts=null,e.parent&&q(e.parent))}v(L,function(e,t){F[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),F.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return L.deleteProperty.call(this,e[0],t)},F.set=function(e,t,n){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return L.set.call(this,e[0],t,n)};var G=Object.freeze({scopes:D,currentScope:U,willFinalize:function(){},createDraft:j});function V(e,t,n,r){Array.isArray(e.base)?function(e,t,n,r){for(var o=e.base,i=e.copy,a=e.assigned,s=Math.min(o.length,i.length),c=0;c<s;c++)if(a[c]&&o[c]!==i[c]){var u=t.concat(c);n.push({op:"replace",path:u,value:i[c]}),r.push({op:"replace",path:u,value:o[c]})}if(s<i.length){for(var l=s;l<i.length;l++)n.push({op:"add",path:t.concat(l),value:i[l]});r.push({op:"replace",path:t.concat("length"),value:o.length})}else if(s<o.length){n.push({op:"replace",path:t.concat("length"),value:i.length});for(var d=s;d<o.length;d++)r.push({op:"add",path:t.concat(d),value:o[d]})}}(e,t,n,r):function(e,t,n,r){var o=e.base,i=e.copy;v(e.assigned,function(e,a){var s=o[e],c=i[e],u=a?e in o?"replace":"add":"remove";if(s!==c||"replace"!==u){var l=t.concat(e);n.push("remove"===u?{op:u,path:l}:{op:u,path:l,value:c}),r.push("add"===u?{op:"remove",path:l}:"remove"===u?{op:"add",path:l,value:s}:{op:"replace",path:l,value:s})}})}(e,t,n,r)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.path;if(0===o.length&&"replace"===r.op)e=r.value;else{for(var i=e,s=0;s<o.length-1;s++)if(!(i=i[o[s]])||"object"!==("undefined"===typeof i?"undefined":a(i)))throw new Error("Cannot apply patch, path doesn't resolve: "+o.join("/"));var c=o[o.length-1];switch(r.op){case"replace":case"add":i[c]=r.value;break;case"remove":if(Array.isArray(i)){if(c!==i.length-1)throw new Error("Only the last index of an array can be removed, index: "+c+", length: "+i.length);i.length-=1}else delete i[c];break;default:throw new Error("Unsupported patch operation: "+r.op)}}}return e}var H={useProxies:"undefined"!==typeof Proxy&&"undefined"!==typeof Reflect,autoFreeze:"undefined"===typeof e&&"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},Y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,H,t),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this)}return s(e,[{key:"produce",value:function(e,t,n){var r=this;if("function"===typeof e&&"function"!==typeof t){var o=t;return t=e,function(){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return r.produce(a,function(e){var r;return(r=t).call.apply(r,[e,e].concat(n))})}}if("function"!==typeof t)throw new Error("if first argument is not a function, the second argument to produce should be a function");if(void 0!==n&&"function"!==typeof n)throw new Error("the third argument of a producer should not be set or a function");var i=void 0;if(f(e)){this.scopes.push([]);var a=this.createDraft(e);try{i=t.call(a,a),this.willFinalize(i,a,!!n);var s=n&&[],u=n&&[];if(void 0===i||i===a)i=this.finalize(a,[],s,u);else{if(a[l].modified)throw new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");f(i)&&(i=this.finalize(i)),n&&(s.push({op:"replace",path:[],value:i}),u.push({op:"replace",path:[],value:e}))}}finally{this.currentScope().forEach(function(e){return e.revoke()}),this.scopes.pop()}n&&n(s,u)}else if(void 0===(i=t(e)))return e;return i===c?void 0:i}},{key:"setAutoFreeze",value:function(e){this.autoFreeze=e}},{key:"setUseProxies",value:function(e){this.useProxies=e,m(this,e?G:R)}},{key:"applyPatches",value:function(e,t){return d(e)?W(e,t):this.produce(e,function(e){return W(e,t)})}},{key:"finalize",value:function(e,t,n,r){var o=this,i=e[l];if(!i)return Object.isFrozen(e)?e:this.finalizeTree(e);if(i.scope!==this.currentScope())return e;if(!i.modified)return i.base;if(!i.finalized){if(i.finalized=!0,this.finalizeTree(i.draft,t,n,r),this.onDelete)if(this.useProxies){var a=i.assigned;for(var s in a)a[s]||this.onDelete(i,s)}else{var c=i.base,u=i.copy;v(c,function(e){_(u,e)||o.onDelete(i,e)})}this.onCopy&&this.onCopy(i),this.autoFreeze&&1===this.scopes.length&&Object.freeze(i.copy),n&&V(i,t,n,r)}return i.copy}},{key:"finalizeTree",value:function(e,t,n,r){var o=this,i=e[l];i&&(this.useProxies||(i.finalizing=!0,i.copy=h(i.draft,!0),i.finalizing=!1),e=i.copy);var a=this.onAssign;return v(e,function s(c,u,l){if(u===l)throw Error("Immer forbids circular references");var p=!!i&&l===e;if(d(u)){if(u=n&&p&&!i.assigned[c]?o.finalize(u,t.concat(c),n,r):o.finalize(u),Array.isArray(l)||y(l,c)?l[c]=u:Object.defineProperty(l,c,{value:u}),p&&u===i.base[c])return}else{if(p&&b(u,i.base[c]))return;f(u)&&!Object.isFrozen(u)&&v(u,s)}p&&a&&a(i,c,u)}),e}}]),e}(),z=new Y,J=z.produce,$=z.setAutoFreeze.bind(z),K=z.setUseProxies.bind(z),X=z.applyPatches.bind(z);t.default=J}.call(this,n(7))},function(e,t,n){var r={"./zh-cn":189,"./zh-cn.js":189};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=510},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferDomain=void 0,t.transferDomain=function(e,t){const n=t||location&&location.hostname;if(n){const t=n.match(/alibaba\.(.*)/);if(t&&t.length>0)return e.replace("com",t[1])}return e}},function(e,t,n){var r,o,i;o=[t,e],r=function(e,t){"use strict";var n={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function r(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function o(e){try{delete window[e]}catch(t){window[e]=void 0}}function i(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}function a(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=e,s=t.timeout||n.timeout,c=t.jsonpCallback||n.jsonpCallback,u=void 0;return new Promise(function(n,l){var d=t.jsonpCallbackFunction||r(),f=c+"_"+d;window[d]=function(e){n({ok:!0,json:function(){return Promise.resolve(e)}}),u&&clearTimeout(u),i(f),o(d)},a+=-1===a.indexOf("?")?"?":"&";var p=document.createElement("script");p.setAttribute("src",""+a+c+"="+d),t.charset&&p.setAttribute("charset",t.charset),t.nonce&&p.setAttribute("nonce",t.nonce),t.referrerPolicy&&p.setAttribute("referrerPolicy",t.referrerPolicy),t.crossorigin&&p.setAttribute("crossorigin","true"),p.id=f,document.getElementsByTagName("head")[0].appendChild(p),u=setTimeout(function(){l(new Error("JSONP request to "+e+" timed out")),o(d),i(f),window[d]=function(){o(d)}},s),p.onerror=function(){l(new Error("JSONP request to "+e+" failed")),o(d),i(f),u&&clearTimeout(u)}})}t.exports=a},void 0===(i="function"===typeof r?r.apply(t,o):r)||(e.exports=i)},function(e,t){var n=t,r=decodeURIComponent,o=encodeURIComponent;function i(e){return"string"===typeof e}function a(e){return i(e)&&""!==e}function s(e){if(!a(e))throw new TypeError("Cookie name must be a non-empty string")}function c(e){return e}n.get=function(e,t){s(e),t="function"===typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(i(e)&&e.length>0)for(var o,a,s,u=t?r:c,l=e.split(/;\s/g),d=0,f=l.length;d<f;d++){if((s=l[d].match(/([^=]+)=/i))instanceof Array)try{o=r(s[1]),a=u(l[d].substring(s[1].length+1))}catch(e){}else o=r(l[d]),a="";o&&(n[o]=a)}return n}(document.cookie,!t.raw);return(t.converter||c)(n[e])},n.set=function(e,t,n){s(e);var r=(n=n||{}).expires,i=n.domain,c=n.path;n.raw||(t=o(String(t)));var u=e+"="+t,l=r;return"number"===typeof l&&(l=new Date).setDate(l.getDate()+r),l instanceof Date&&(u+="; expires="+l.toUTCString()),a(i)&&(u+="; domain="+i),a(c)&&(u+="; path="+c),n.secure&&(u+="; secure"),document.cookie=u,u},n.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return o.request({api:e,v:"1.0",appKey:"21574054",data:t,dataType:"json",ecode:1}).catch(function(e){e.ret&&console.log("==== MTOP ERROR: "+e.ret[0]+" ====")})};var r=n(191),o=n(515);o.config.mainDomain=r.MAIN_DOMAIN,o.config.subDomain="h",o.config.prefix=window.mtopServerDomain||"acs",e.exports=t.default},function(e,t){"undefined"===typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(e,t){function n(e,t){g[e]||(g[e]=!0,console.log(t))}function r(){var e={},t=new p(function(t,n){e.resolve=t,e.reject=n});return e.promise=t,e}function o(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function i(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}function a(){if(window.etSign)window.__etReady=!0;else{window.etReady=function(){window.__etReady=!0};var e=document.createElement("script");e.src="//g.alicdn.com/sd/baxia-entry/index.js",i(e)}}function s(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function c(e){return"[object Object]"=={}.toString.call(e)}function u(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function l(e,t,n){var r=new Date;r.setTime(r.getTime()-864e5);document.cookie=e+"=;path=/;domain=."+t+";expires="+r.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+r.toGMTString()}function d(e,t){for(var n=e.split("."),r=t.split("."),o=0;3>o;o++){var i=Number(n[o]),a=Number(r[o]);if(i>a)return 1;if(a>i)return-1;if(!isNaN(i)&&isNaN(a))return 1;if(isNaN(i)&&!isNaN(a))return-1}return 0}function f(e){this.id=""+(new Date).getTime()+ ++T,this.params=o(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=_.slice(0)}var p=e.Promise,m=(p||{resolve:function(){}}).resolve(),g={},h="DOWNGRADE_BY_WINDVANE",v="DOWNGRADE_BY_IFRAME";String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var y={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},_=[],b={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var r=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),o=t.match(r)||[],i=o[2]||"taobao.com",a=o[1]||"m";"taobao.net"!==i||"x"!==a&&"waptest"!==a&&"daily"!==a?"taobao.net"===i&&"demo"===a?a="demo":"alibaba-inc.com"===i&&"zebra"===a?a="zebra":"waptest"!==a&&"wapa"!==a&&"m"!==a&&(a="m"):a="waptest";var s="h5api";"taobao.net"===i&&"waptest"===a&&(s="acs"),y.mainDomain=i,y.subDomain=a,y.prefix=s})(),function(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(y.WindVaneVersion=n[1]);var r=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);r&&(y.AliAppName=r[1],y.AliAppVersion=r[2]);var o=t.match(/AMapClient\/([\d\.\_]+)/i);o&&(y.AliAppName="AMAP",y.AliAppVersion=o[1])}();var w=/[Android|Adr]/.test(e.navigator.userAgent),C="AP"===y.AliAppName&&d(y.AliAppVersion,"10.1.2")>=0||"KB"===y.AliAppName&&d(y.AliAppVersion,"7.1.62")>=0||w&&"AMAP"===y.AliAppName&&d(y.AliAppVersion,"1.0.1")>=0,T=0;f.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},f.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},f.prototype.__processRequestType=function(r){var o=this,i=this.params,a=this.options;if(!0===y.H5Request&&(a.H5Request=!0),!0===y.WindVaneRequest&&(a.WindVaneRequest=!0),!1===a.H5Request&&!0===a.WindVaneRequest){if(!C&&(!t.windvane||parseFloat(a.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");if(C&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===a.H5Request)a.WindVaneRequest=!1;else if("undefined"==typeof a.WindVaneRequest&&"undefined"==typeof a.H5Request){if(t.windvane&&parseFloat(a.WindVaneVersion)>=5.4?a.WindVaneRequest=!0:(n(h,"[@ali/lib-mtop] The current page does not have the lib.windvane variable, automatically downgraded to H5 request"),a.H5Request=!0),C){if(a.WindVaneRequest=a.H5Request=void 0,e.AlipayJSBridge)if(c(i.data))a.WindVaneRequest=!0;else try{c(JSON.parse(i.data))?a.WindVaneRequest=!0:a.H5Request=!0}catch(e){a.H5Request=!0}else a.H5Request=!0;"AMAP"!==y.AliAppName||i.useNebulaJSbridgeWithAMAP||(a.WindVaneRequest=a.H5Request=void 0,a.H5Request=!0)}window.self!==window.top&&(n(v,"[@ali/lib-mtop] The current page is embedded in an iframe, cannot use WindVane request, automatically downgraded to H5 request"),a.H5Request=!0)}var s=e.navigator.userAgent.toLowerCase();return s.indexOf("youku")>-1&&a.mainDomain.indexOf("youku.com")<0&&(a.WindVaneRequest=!1,a.H5Request=!0),a.mainDomain.indexOf("youku.com")>-1&&s.indexOf("youku")<0&&(a.WindVaneRequest=!1,a.H5Request=!0),r?r().then(function(){var e=a.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===a.WindVaneRequest&&C&&a.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!C||!isNaN(a.retJson.error)||-1!==a.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return C&&c(i.data)&&(i.data=JSON.stringify(i.data)),y.H5Request=!0,o.__sequence([o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest]);"undefined"==typeof a.retJson.api&&"undefined"==typeof a.retJson.v&&(a.retJson.api=i.api,a.retJson.v=i.v,a.retJson.ret=[a.retJson.error+"::"+a.retJson.errorMessage],a.retJson.data={})}}):void 0};var S="_m_h5_c",k="_m_h5_tk";f.prototype.__getTokenFromAlipay=function(){var t=r(),n=this.options,o=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===n.useAlipayJSBridge&&!o&&C&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",function(e){e&&e.token&&(n.token=e.token),t.resolve()},function(){t.resolve()}):t.resolve(),t.promise},f.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&u(S)?e.token=u(S).split(";")[0]:e.token=e.token||u(k),e.token&&(e.token=e.token.split("_")[0]),p.resolve()},f.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},f.prototype.__processToken=function(e){var t=this,n=this.options;return this.params,n.token&&delete n.token,!0!==n.WindVaneRequest?m.then(function(){return t.__getTokenFromAlipay()}).then(function(){return t.__getTokenFromCookie()}).then(e).then(function(){var e=n.retJson,r=e.ret;if(r instanceof Array&&(r=r.join(",")),r.indexOf("TOKEN_EMPTY")>-1||(!0===n.CDR||!0===n.syncCookieMode)&&r.indexOf("ILLEGAL_ACCESS")>-1||r.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes){var o=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(!0===n.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){o=[function(e){var n=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(n).catch(n):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(o)}n.maxRetryTimes>0&&(l(S,n.pageDomain,"*"),l(k,n.mainDomain,n.subDomain),l("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=b.TOKEN_EXPIRED}}):void e()},f.prototype.__processRequestUrl=function(t){var n=this.params,r=this.options;if(r.hostSetting&&r.hostSetting[e.location.hostname]){var o=r.hostSetting[e.location.hostname];o.prefix&&(r.prefix=o.prefix),o.subDomain&&(r.subDomain=o.subDomain),o.mainDomain&&(r.mainDomain=o.mainDomain)}if(!0===r.H5Request){var i="//"+(r.prefix?r.prefix+".":"")+(r.subDomain?r.subDomain+".":"")+r.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",s=n.appKey||("waptest"===r.subDomain?"4272":"12574478"),c=(new Date).getTime(),u=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,o,i,a;return o=2147483648&e,i=2147483648&t,a=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^a^o^i:n|r?1073741824&a?3221225472^a^o^i:1073741824^a^o^i:a^o^i}function r(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(r,o,i),a),c)),n(t(e,s),r)}function o(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(r,o,i),a),c)),n(t(e,s),r)}function i(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e^t^n}(r,o,i),a),c)),n(t(e,s),r)}function a(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(r,o,i),a),c)),n(t(e,s),r)}function s(e){var t,n="",r="";for(t=0;3>=t;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var c,u,l,d,f,p,m,g,h,v;for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e),v=function(e){for(var t,n=e.length,r=n+8,o=16*((r-r%64)/64+1),i=new Array(o-1),a=0,s=0;n>s;)a=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<a,s++;return a=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<a,i[o-2]=n<<3,i[o-1]=n>>>29,i}(e),p=1732584193,m=4023233417,g=2562383102,h=271733878,c=0;c<v.length;c+=16)u=p,l=m,d=g,f=h,p=r(p,m,g,h,v[c+0],7,3614090360),h=r(h,p,m,g,v[c+1],12,3905402710),g=r(g,h,p,m,v[c+2],17,606105819),m=r(m,g,h,p,v[c+3],22,3250441966),p=r(p,m,g,h,v[c+4],7,4118548399),h=r(h,p,m,g,v[c+5],12,1200080426),g=r(g,h,p,m,v[c+6],17,2821735955),m=r(m,g,h,p,v[c+7],22,4249261313),p=r(p,m,g,h,v[c+8],7,1770035416),h=r(h,p,m,g,v[c+9],12,2336552879),g=r(g,h,p,m,v[c+10],17,4294925233),m=r(m,g,h,p,v[c+11],22,2304563134),p=r(p,m,g,h,v[c+12],7,1804603682),h=r(h,p,m,g,v[c+13],12,4254626195),g=r(g,h,p,m,v[c+14],17,2792965006),p=o(p,m=r(m,g,h,p,v[c+15],22,1236535329),g,h,v[c+1],5,4129170786),h=o(h,p,m,g,v[c+6],9,3225465664),g=o(g,h,p,m,v[c+11],14,643717713),m=o(m,g,h,p,v[c+0],20,3921069994),p=o(p,m,g,h,v[c+5],5,3593408605),h=o(h,p,m,g,v[c+10],9,38016083),g=o(g,h,p,m,v[c+15],14,3634488961),m=o(m,g,h,p,v[c+4],20,3889429448),p=o(p,m,g,h,v[c+9],5,568446438),h=o(h,p,m,g,v[c+14],9,3275163606),g=o(g,h,p,m,v[c+3],14,4107603335),m=o(m,g,h,p,v[c+8],20,1163531501),p=o(p,m,g,h,v[c+13],5,2850285829),h=o(h,p,m,g,v[c+2],9,4243563512),g=o(g,h,p,m,v[c+7],14,1735328473),p=i(p,m=o(m,g,h,p,v[c+12],20,2368359562),g,h,v[c+5],4,4294588738),h=i(h,p,m,g,v[c+8],11,2272392833),g=i(g,h,p,m,v[c+11],16,1839030562),m=i(m,g,h,p,v[c+14],23,4259657740),p=i(p,m,g,h,v[c+1],4,2763975236),h=i(h,p,m,g,v[c+4],11,1272893353),g=i(g,h,p,m,v[c+7],16,4139469664),m=i(m,g,h,p,v[c+10],23,3200236656),p=i(p,m,g,h,v[c+13],4,681279174),h=i(h,p,m,g,v[c+0],11,3936430074),g=i(g,h,p,m,v[c+3],16,3572445317),m=i(m,g,h,p,v[c+6],23,76029189),p=i(p,m,g,h,v[c+9],4,3654602809),h=i(h,p,m,g,v[c+12],11,3873151461),g=i(g,h,p,m,v[c+15],16,530742520),p=a(p,m=i(m,g,h,p,v[c+2],23,3299628645),g,h,v[c+0],6,4096336452),h=a(h,p,m,g,v[c+7],10,1126891415),g=a(g,h,p,m,v[c+14],15,2878612391),m=a(m,g,h,p,v[c+5],21,4237533241),p=a(p,m,g,h,v[c+12],6,1700485571),h=a(h,p,m,g,v[c+3],10,2399980690),g=a(g,h,p,m,v[c+10],15,4293915773),m=a(m,g,h,p,v[c+1],21,2240044497),p=a(p,m,g,h,v[c+8],6,1873313359),h=a(h,p,m,g,v[c+15],10,4264355552),g=a(g,h,p,m,v[c+6],15,2734768916),m=a(m,g,h,p,v[c+13],21,1309151649),p=a(p,m,g,h,v[c+4],6,4149444226),h=a(h,p,m,g,v[c+11],10,3174756917),g=a(g,h,p,m,v[c+2],15,718787259),m=a(m,g,h,p,v[c+9],21,3951481745),p=n(p,u),m=n(m,l),g=n(g,d),h=n(h,f);return(s(p)+s(m)+s(g)+s(h)).toLowerCase()}(r.token+"&"+c+"&"+s+"&"+n.data),l={jsv:"2.7.5",appKey:s,t:c,sign:u};r.bxOption&&Object.keys(r.bxOption).forEach(function(e){l["_"+e]=r.bxOption[e]});var d={data:n.data,ua:n.ua};Object.keys(n).forEach(function(e){"undefined"==typeof l[e]&&"undefined"==typeof d[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(l[e]=n[e])}),n.ext_querys&&Object.keys(n.ext_querys).forEach(function(e){l[e]=n.ext_querys[e]}),r.getJSONP?l.type="jsonp":r.getOriginalJSONP?l.type="originaljsonp":(r.getJSON||r.postJSON)&&(l.type="originaljson"),"undefined"!=typeof n.valueType&&("original"===n.valueType?r.getJSONP||r.getOriginalJSONP?l.type="originaljsonp":(r.getJSON||r.postJSON)&&(l.type="originaljson"):"string"===n.valueType&&(r.getJSONP||r.getOriginalJSONP?l.type="jsonp":(r.getJSON||r.postJSON)&&(l.type="json"))),!0===r.useJsonpResultType&&"originaljson"===l.type&&delete l.type,r.dangerouslySetProtocol&&(i=r.dangerouslySetProtocol+":"+i),"5.0"===n.SV&&(i+="5.0/",a()),r.querystring=l,r.postdata=d,r.path=i}t()},f.prototype.__processUnitPrefix=function(e){e()};var N=0;f.prototype.__requestJSONP=function(e){function t(e){if(l&&clearTimeout(l),d.parentNode&&d.parentNode.removeChild(d),"TIMEOUT"===e)window[u]=function(){window[u]=void 0;try{delete window[u]}catch(e){}};else{window[u]=void 0;try{delete window[u]}catch(e){}}}var n=r(),o=this.params,a=this.options,c=o.timeout||2e4,u="mtopjsonp"+(o.jsonpIncPrefix||"")+ ++N,l=setTimeout(function(){e(a.timeoutErrMsg||"TIMEOUT::接口超时"),t("TIMEOUT")},c);a.querystring.callback=u;var d=document.createElement("script"),f=a.path+"?"+s(a.querystring)+"&"+s(a.postdata);return"5.0"===o.SV&&window.etSign&&(f+="&bx_et="+window.etSign(f)),d.src=f,d.async=!0,d.onerror=function(){t("ABORT"),e(a.abortErrMsg||"ABORT::接口异常退出")},window[u]=function(){a.results=Array.prototype.slice.call(arguments),t(),n.resolve()},i(d),n.promise},f.prototype.__requestJSON=function(t){function n(e){d&&clearTimeout(d),"TIMEOUT"===e&&c.abort()}var o=r(),i=this.params,a=this.options,c=new e.XMLHttpRequest,l=i.timeout||2e4,d=setTimeout(function(){t(a.timeoutErrMsg||"TIMEOUT::接口超时"),n("TIMEOUT")},l);a.CDR&&u(S)&&(a.querystring.c=decodeURIComponent(u(S))),c.onreadystatechange=function(){if(4==c.readyState){var e,r,i=c.status;if(i>=200&&300>i||304==i){n(),e=c.responseText,r=c.getAllResponseHeaders()||"";try{(e=/^\s*$/.test(e)?{}:JSON.parse(e)).responseHeaders=r,a.results=[e],o.resolve()}catch(e){t("PARSE_JSON_ERROR::解析JSON失败")}}else n("ABORT"),t(a.abortErrMsg||"ABORT::接口异常退出")}};var f,p,m=a.path+"?"+s(a.querystring);a.getJSON?(f="GET",m+="&"+s(a.postdata)):a.postJSON&&(f="POST",p=s(a.postdata)),"5.0"===i.SV&&window.etSign&&(m+="&bx_et="+window.etSign(m)),c.open(f,m,!0),c.withCredentials=!0,c.setRequestHeader("Accept","application/json"),c.setRequestHeader("Content-type","application/x-www-form-urlencoded");var g=i.ext_headers||i.headers;if(g)for(var h in g)c.setRequestHeader(h,g[h]);return c.send(p),o.promise},f.prototype.__requestWindVane=function(e){function n(e){if(a.results=[e],e&&e.stat&&e.stat.falcoId){var n=function(){},r={mtopStart:b,mtopEnd:Date.now(),falcoId:e.stat.falcoId};t.windvane.call(C,"falcoExtend",r,n,n)}o.resolve()}var o=r(),i=this.params,a=this.options,s=i.data,c=i.api,u=i.v,l=a.postJSON?1:0,d=a.getJSON||a.postJSON||a.getOriginalJSONP?"originaljson":"";"undefined"!=typeof i.valueType&&("original"===i.valueType?d="originaljson":"string"===i.valueType&&(d="")),!0===a.useJsonpResultType&&(d="");var f,p,m="https"===location.protocol?1:0,g=i.isSec||0,h=i.sessionOption||"AutoLoginOnly",v=i.ecode||0,y=i.ext_headers||{},_=i.ext_querys||{};f=2*(p="undefined"!=typeof i.timer?parseInt(i.timer):"undefined"!=typeof i.timeout?parseInt(i.timeout):2e4);var b=Date.now();!0===i.needLogin&&"undefined"==typeof i.sessionOption&&(h="AutoLoginAndManualLogin"),"undefined"!=typeof i.secType&&"undefined"==typeof i.isSec&&(g=i.secType);var w={api:c,v:u,post:String(l),type:d,isHttps:String(m),ecode:String(v),isSec:String(g),param:JSON.parse(s),timer:p,needLogin:!!i.needLogin,sessionOption:h,ext_headers:y,ext_querys:_};i.ttid&&!0===a.dangerouslySetWVTtid&&(w.ttid=i.ttid),Object.assign&&i.dangerouslySetWindvaneParams&&Object.assign(w,i.dangerouslySetWindvaneParams);var C="MtopWVPlugin";return"string"==typeof i.customWindVaneClassName&&(C=i.customWindVaneClassName),t.windvane.call(C,"send",w,n,n,f),o.promise},f.prototype.__requestAlipay=function(t){var n=r(),o=this.params,i=this.options,a={apiName:o.api,apiVersion:o.v,needEcodeSign:"1"===String(o.ecode),headers:o.ext_headers||{},usePost:!!i.postJSON};c(o.data)||(o.data=JSON.parse(o.data)),a.data=o.data,o.ttid&&!0===i.dangerouslySetWVTtid&&(a.ttid=o.ttid),(i.getJSON||i.postJSON||i.getOriginalJSONP)&&(a.type="originaljson"),"undefined"!=typeof o.valueType&&("original"===o.valueType?a.type="originaljson":"string"===o.valueType&&delete a.type),!0===i.useJsonpResultType&&delete a.type,Object.assign&&o.dangerouslySetAlipayParams&&Object.assign(a,o.dangerouslySetAlipayParams);var s="mtop";return"string"==typeof o.customAlipayJSBridgeApi&&(s=o.customAlipayJSBridgeApi),e.AlipayJSBridge.call(s,a,function(e){i.results=[e],n.resolve()}),n.promise},f.prototype.__processRequest=function(e,t){var n=this;return m.then(function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return C?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")}).then(e).then(function(){var e=n.options,t=(n.params,e.results[0]),r=t&&t.ret||[];t.ret=r,r instanceof Array&&(r=r.join(","));var o=t.c;e.CDR&&o&&function(e,t,n){var r=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(r.domain?";domain="+r.domain:"")+(r.path?";path="+r.path:"")+(r.secure?";secure":"")+(r.httponly?";HttpOnly":"")+(r.sameSite?";Samesite="+r.sameSite:"")}(S,o,{domain:e.pageDomain,path:"/",secure:e.secure,sameSite:e.sameSite}),r.indexOf("SUCCESS")>-1?t.retType=b.SUCCESS:t.retType=b.ERROR,e.retJson=t})},f.prototype.__sequence=function(e){var t=this,n=[],o=[];e.forEach(function e(i){if(i instanceof Array)i.forEach(e);else{var a,s=r(),c=r();n.push(function(){return s=r(),(a=i.call(t,function(e){return s.resolve(e),c.promise},function(e){return s.reject(e),c.promise}))&&(a=a.catch(function(e){s.reject(e)})),s.promise}),o.push(function(e){return c.resolve(e),a})}});for(var i,a=m;i=n.shift();)a=a.then(i);for(;i=o.pop();)a=a.then(i);return a};var M=function(e){if(y.EtRequest){if(window.etSign)return window.__etReady=!0,void e();if(window.__etReady)e();else{a();var t,n,r=Number(y.EtLoadTimeout)||5e3,o=!1;window.etReady=function(){window.__etReady=!0,o||(o=!0,e())};var i=function(){t&&clearInterval(t),n&&clearTimeout(n),o||(o=!0,e())};t=setInterval(function(){try{window.etSign&&(window.__etReady=!0,i()),window.etReady&&!window.__etReady&&(window.etReady=function(){window.__etReady=!0,i()})}catch(e){i()}},100),n=setTimeout(function(){i()},r)}}else e()},E=function(e){e()};f.prototype.request=function(n){var r=this;if(this.options=o(n||{},y),!p){var i="当前浏览器不支持Promise，请在windows对象上挂载Promise对象";throw t.mtop={ERROR:i},new Error(i)}var a=p.resolve([M,E]).then(function(e){var t=e[0],n=e[1];return r.__sequence([t,r.__processRequestMethod,r.__processRequestType,r.__processToken,r.__processRequestUrl,r.middlewares,r.__processRequest,n])}).then(function(){var e=r.options.retJson;return e.retType!==b.SUCCESS?p.reject(e):r.options.successCallback?void r.options.successCallback(e):p.resolve(e)}).catch(function(e){var n;return e instanceof Error?(console.error(e.stack),n={ret:[e.message],stack:[e.stack],retJson:b.ERROR}):n="string"==typeof e?{ret:[e],retJson:b.ERROR}:void 0!==e?e:r.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:r.params.api,data:r.params.data,v:r.params.v,retJson:n}),r.options.failureCallback?void r.options.failureCallback(n):p.reject(n)});return this.__processRequestType(),r.options.H5Request&&(r.constructor.__firstProcessor||(r.constructor.__firstProcessor=a),M=function(e){r.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(n.pageDomain=n.pageDomain||function(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(e.location.hostname),n.mainDomain!==n.pageDomain&&(n.maxRetryTimes=4,n.CDR=!0)),this.__requestProcessor=a,a},t.mtop=function(e){return new f(e)},t.mtop.request=function(e,t,n){var r={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new f(e).request(r)},t.mtop.H5Request=function(e,t,n){var r={H5Request:!0,successCallback:t,failureCallback:n||t};return new f(e).request(r)},t.mtop.middlewares=_,t.mtop.config=y,t.mtop.RESPONSE_TYPE=b,t.mtop.CLASS=f}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function r(t,r,o){var i=navigator.userAgent.match(/.*(iPhone|iPad|Android|ios|SymbianOS|Windows Phone).*/i),a=i&&r.h5url?r.h5url:r.url,s=r.dialogSize;o=o||r.attributes;var c=this,u=e.dpr||1,l=document.createElement("div"),d=document.documentElement.getBoundingClientRect(),f=Math.max(d.width,window.innerWidth)/u,p=window.innerHeight/u;l.style.cssText=["-webkit-transform:scale("+u+") translateZ(0)","-ms-transform:scale("+u+") translateZ(0)","transform:scale("+u+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+f+"px","height:"+p+"px","z-index:2147483647","position: fixed","left:0","top:0px","background:"+(f>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var m=document.createElement("div");m.style.cssText=["width:100%","height:52px","background:transparent","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),m.innerText=t;var g=document.createElement("img");g.style.cssText=["display:block","position:absolute","margin-top:15px","right:0","top:0","height:15px","line-height:52px","padding:0 20px","color:#999"].join(";"),g.src="https://gw.alicdn.com/tfs/TB1QZN.CYj1gK0jSZFuXXcrHpXa-200-200.png";var h=document.createElement("iframe");if(h.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),i)m.appendChild(g),l.appendChild(m);else{var v=s&&s.width||"420px",y=s&&s.height||"320px",_=50,b=50,w=24,C=-39;y.indexOf("px")>-1?w-=Number(y.replace("px",""))/2:y.indexOf("%")>-1&&(_-=Number(y.replace("%",""))/2),v.indexOf("px")>-1?C+=Number(v.replace("px",""))/2:v.indexOf("%")>-1&&(b+=Number(v.replace("%",""))/2),g.style.cssText=["position:absolute","width:15px","height:15px","top:"+_+"%","left:"+b+"%","cursor: pointer","border:0","z-index:1","overflow:hidden","margin-top:"+w+"px","margin-left:"+C+"px"].join(";"),l.appendChild(g),h.style.cssText=["position:absolute","top:0px","left:0px","bottom:0px","right:0px","margin:auto","width:"+v,"height:"+y,"border:0","background:#FFF","overflow:hidden","border-radius:18px"].join(";"),o&&o.style&&(h.style.cssText+=o.style,delete o.style)}if(o)try{o.style&&delete o.style,Object.keys(o).forEach(function(e){h.setAttribute(e,o[e])})}catch(e){}l.appendChild(h),l.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(l),h.src=a,g.addEventListener("click",function(){c.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),l.dispatchEvent(e)},!1),this.addEventListener=function(){l.addEventListener.apply(l,arguments)},this.removeEventListener=function(){l.removeEventListener.apply(l,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),l.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-d.top),l.parentNode&&l.parentNode.removeChild(l)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop 初始化失败！");var o=e.Promise,i=t.mtop.CLASS,a=t.mtop.config,s=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push(function(e){var n=this,r=this.options,o=this.params;return e().then(function(){var e=r.retJson,i=e.ret,c=navigator.userAgent.toLowerCase(),u=c.indexOf("safari")>-1&&c.indexOf("chrome")<0&&c.indexOf("qqbrowser")<0;if(i instanceof Array&&(i=i.join(",")),(i.indexOf("SESSION_EXPIRED")>-1||i.indexOf("SID_INVALID")>-1||i.indexOf("AUTH_REJECT")>-1||i.indexOf("NEED_LOGIN")>-1)&&(e.retType=s.SESSION_EXPIRED,!r.WindVaneRequest&&(!0===a.LoginRequest||!0===r.LoginRequest||!0===o.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::缺少lib.login");var l={apiReferer:o.api+":"+o.v};if(!0!==r.safariGoLogin||!u||"taobao.com"===r.pageDomain)return t.login.goLoginAsync(l).then(function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}).catch(function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::用户取消登录"):new Error("LOGIN_FAILURE::用户登录失败")});t.login.goLogin(l)}})}),t.mtop.loginRequest=function(e,t,n){var r={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.antiFloodRequest=function(e,t,n){var r={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.middlewares.push(function(e){var t=this.options;return this.params,!0!==t.H5Request||!0!==a.AntiFlood&&!0!==t.AntiFlood?void e():e().then(function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)})}),t.mtop.antiCreepRequest=function(e,t,n){var r={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.middlewares.push(function(t){var n=this,i=this.options,s=this.params;return!1!==i.AntiCreep&&(i.AntiCreep=!0),!0!==s.forceAntiCreep&&!0!==i.H5Request||!0!==a.AntiCreep&&!0!==i.AntiCreep?void t():t().then(function(){var t=i.retJson,a=t.ret;if(a instanceof Array&&(a=a.join(",")),a.indexOf("CHECKJS_FLAG")>-1&&t.uuid&&t.serid){try{var c=!!window.document._sufei_data2,u=new Image,l="https://fourier.taobao.com/ts?ext=200&uuid="+t.uuid+"&serid="+t.serid+"&sufei="+c;window.location&&location.href&&(l+="&href=="+location.href.substr(0,128)),window.__fyModule&&(l+="&fyModuleLoad="+window.__fyModule.load+"&fyModuleInit="+window.__fyModule.init),window.__umModule&&(l+="&umModuleLoad="+window.__umModule.load+"&umModuleInit="+window.__umModule.init),window.__uabModule&&(l+="&uabModuleLoad="+window.__uabModule.load+"&uabModuleInit="+window.__uabModule.init),window.__ncModule&&(l+="&ncModuleLoad="+window.__ncModule.load+"&ncModuleInit="+window.__ncModule.init),window.__nsModule&&(l+="&nsModuleLoad="+window.__nsModule.load+"&nsModuleInit="+window.__nsModule.init),window.__etModule&&(l+="&etModuleLoad="+window.__etModule.load+"&etModuleInit="+window.__etModule.init),u.src=l,document.body.appendChild(u)}catch(e){console.log(e,"上报异常")}return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}if(a.indexOf("RGV587_RUN_SCRIPT::SM")>-1)return new o(function(e,r){try{var o=n;o.resend=function(){n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(e)},o.resolve=e,o.reject=r,o.timer=setTimeout(function(){clearTimeout(o.timer),o.timer=null,o.resend()},2e3);var i=document.createElement("script");i.src=t.data.url,i.crossOrigin=!0,i.async=!0,i.onerror=function(){o.resend()};var a=!1;i.onload=i.onreadystatechange=function(){a||i.readyState&&!/loaded|complete/.test(i.readyState)||(i.onload=i.onreadystatechange=null,a=!0,window._bxPunishFun&&"function"==typeof window._bxPunishFun&&window._bxPunishFun(o),t.data.async||(clearTimeout(o.timer),o.timer=null,o.resend()))},(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(i)}catch(e){r("SCRIPT_RUN_ERROR::执行失败")}});if((a.indexOf("RGV587_ERROR::SM")>-1||a.indexOf("ASSIST_FLAG")>-1)&&t.data.url){if("object"==typeof i.bxOption&&"new"===i.bxOption["bx-"+t.action]){var d=t.data.url+"&x5referer="+encodeURIComponent(location.href);return location.href=d,new o(function(){})}var f="_m_h5_smt",p=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(f),m=!1;if(!0===i.saveAntiCreepToken&&p)for(var g in p=JSON.parse(p))s[g]&&(m=!0);if(!0===i.saveAntiCreepToken&&p&&!m){for(var g in p)s[g]=p[g];return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}return new o(function(o,a){function c(){l.removeEventListener("close",c),e.removeEventListener("message",u),a("USER_INPUT_CANCEL::用户取消输入")}function u(t){var r;try{r=JSON.parse(t.data)||{}}catch(e){}if(r&&"child"===r.type){var d;l.removeEventListener("close",c),e.removeEventListener("message",u),l.hide();try{for(var p in"string"==typeof(d=JSON.parse(decodeURIComponent(r.content)))&&(d=JSON.parse(d)),d)s[p]=d[p];!0===i.saveAntiCreepToken?(document.cookie=f+"="+JSON.stringify(d)+";",e.location.reload()):n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(o)}catch(e){a("USER_INPUT_FAILURE::用户输入失败")}}}var l=new r("",t.data,t.attributes);l.addEventListener("close",c,!1),e.addEventListener("message",u,!1),t.data.dialogHide||l.show()})}})})}(window,window.lib||(window.lib={})),e.exports=window.lib.mtop},function(e,t,n){"use strict";var r=t,o=decodeURIComponent,i=encodeURIComponent;function a(e){return"string"===typeof e}function s(e){return a(e)&&""!==e}function c(e){if(!s(e))throw new TypeError("Cookie name must be a non-empty string")}function u(e){return e}r.get=function(e,t){c(e),t="function"===typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(a(e)&&e.length>0)for(var r=t?o:u,i=e.split(/;\s/g),s=void 0,c=void 0,l=void 0,d=0,f=i.length;d<f;d++){if((l=i[d].match(/([^=]+)=/i))instanceof Array)try{s=o(l[1]),c=r(i[d].substring(l[1].length+1))}catch(e){}else s=o(i[d]),c="";s&&(n[s]=c)}return n}(document.cookie,!t.raw);return(t.converter||u)(n[e])},r.set=function(e,t,n){c(e);var r=(n=n||{}).expires,o=n.domain,a=n.path;n.raw||(t=i(String(t)));var u=e+"="+t,l=r;return"number"===typeof l&&(l=new Date).setDate(l.getDate()+r),l instanceof Date&&(u+="; expires="+l.toUTCString()),s(o)&&(u+="; domain="+o),s(a)&&(u+="; path="+a),n.secure&&(u+="; secure"),document.cookie=u,u},r.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)}},function(e,t,n){"use strict";var r=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=r(n(518));i.default.publish=(o=i.default.publish,function(){var e=arguments;e[2]?o.apply(i.default,e):setTimeout(function(){o.apply(i.default,e)},0)});t.default=i.default},function(e,t,n){var r=n(519);e.exports=new r},function(e,t){var n=[].slice;function r(){if(!(this instanceof r))return new r;this.nextSubscriptionIndex=0,this.callbacks={}}r.prototype.unregisterAllCallbacks=function(){this.callbacks={}},r.prototype.on=function(e,t){this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push({subscription:t,index:this.nextSubscriptionIndex});var n=this.nextSubscriptionIndex,r=this;return this.nextSubscriptionIndex+=1,function(){r.callbacks[e]=r.callbacks[e].filter(function(e){return e.index!==n})}},r.prototype.publish=function(){var e=arguments[0],t=arguments.length>=2?n.call(arguments,1):[];this.callbacks&&this.callbacks[e]&&this.callbacks[e].forEach(function(e){e.subscription.apply(null,t)})},e.exports=r},function(e,t,n){var r=n(20).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.r(t),n.d(t,"generateTraceId",function(){return l});var r=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var n={},r=t||{},o=e.split(";"),a=r.decode||i,s=0;s<o.length;s++){var u=o[s],l=u.indexOf("=");if(!(l<0)){var d=u.substring(0,l).trim();if(void 0==n[d]){var f=u.substring(l+1,u.length).trim();'"'===f[0]&&(f=f.slice(1,-1)),n[d]=c(f,a)}}}return n},o=function(e,t,n){var r=n||{},o=r.encode||a;if("function"!==typeof o)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");var i=o(t);if(i&&!s.test(i))throw new TypeError("argument val is invalid");var c=e+"="+i;if(null!=r.maxAge){var u=r.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(u)}if(r.domain){if(!s.test(r.domain))throw new TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!s.test(r.path))throw new TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(c+="; HttpOnly");r.secure&&(c+="; Secure");if(r.sameSite){switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c},i=decodeURIComponent,a=encodeURIComponent,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function c(e,t){try{return t(e)}catch(t){return e}}var u={parse:r,serialize:o};function l(e){const t=Date.now(),n=u.parse(document.cookie),{cna:r}=n;return`${r}-${t}${e?"-"+e:""}`}t.default=function(e){let t="";const{getHost:n,getChannel:r}=window.IcbuIM&&window.IcbuIM.IMSDKHelper||{},o=window.IcbuIM&&window.IcbuIM.IMBaaSSDK&&window.IcbuIM.IMBaaSSDK.default,{getLinkVars:i}=window.IcbuIM&&window.IcbuIM.CommonUtil||{};if("string"===typeof e)t=e;else if("object"===typeof e){const{ext:n,bizData:r,resultCode:o,errCode:i,resultMsg:a,errMsg:s}=e;t=n;const c={actionName:n,bizData:r,context:window.navigator.userAgent,resultCode:o||i,resultMsg:a||s};for(const n in e)["ext","bizData","resultCode","errCode","resultMsg","errMsg","clickId"].includes(n)||(t+=`&${n}=${e[n]}`);t+=`&operateContent=${encodeURIComponent(JSON.stringify(c))}`}else console.error("goldlog::params类型错误",e);if(t+=`&uid=${window.aliId||"unknown"}`,n&&(t+=`&host=${n()}`),r&&(t+=`&imChannel=${r()}`),i){const{traceId:e}=i(window.location.search);t+=`&urlTraceId=${e}`}o&&(t+=`&connectionStatus=${o.getAuthService().connectionStatus}`),window.navigator&&(t+=`&hardwareConcurrency=${window.navigator.hardwareConcurrency||0}`),window.__BB&&(t+=`&bbScene=${window.__BB.scene||""}`);let a="";if(a=window.pageId?`page_id=${window.pageId}&ext=${encodeURIComponent(t)}`:`ext=${encodeURIComponent(t)}`,window.goldlog&&window.goldlog.record)setTimeout(()=>{window.goldlog.record(`${e&&e.clickId||"/sc.ma.im"}`,"CLK",a,"GET")},0);else{(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:[`${e&&e.clickId||"/sc.ma.im"}`,"CLK",a,"GET"]})}}},function(e,t,n){var r=n(524),o=n(562);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(144),o=n(525),i=n(530),a=n(195);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(144),o=n(109),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(9))},function(e,t,n){var r=n(145),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(531),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)}),t});e.exports=a},function(e,t,n){var r=n(532);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(533);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){var r=n(534),o=n(555),i=n(557),a=n(558),s=n(559);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(535),o=n(547),i=n(554);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(536),o=n(543),i=n(544),a=n(545),s=n(546);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(111);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t,n){var r=n(538),o=n(539),i=n(112),a=n(541),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},function(e,t,n){var r=n(193),o=n(112);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r,o=n(540),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(110)["__core-js_shared__"];e.exports=r},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(111),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(111),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(111);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(548),o=n(549),i=n(551),a=n(552),s=n(553);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(113),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(113);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(113);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(113);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(194)(n(110),"Map");e.exports=r},function(e,t,n){var r=n(114);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(114);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(114);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(114);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(145),o=n(561),i=n(144),a=n(109),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(109);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t){e.exports=function(e){throw new TypeError('"'+e+'" is read-only')},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var n=0,o=arguments.length;n<o;n++)t.push(arguments[n]);return t}function o(e,t,n){var r=t===e.head?new s(n,null,t,e):new s(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function i(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,r){if(!(this instanceof s))return new s(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,o=this.head;null!==o;)n.push(e.call(t,o.value,this)),o=o.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,o=this.tail;null!==o;)n.push(e.call(t,o.value,this)),o=o.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var o=0;null!==r;o++)n=e(n,r.value,o),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var o=this.length-1;null!==r;o--)n=e(n,r.value,o),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)n.push(i.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)n.push(i.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;var a=[];for(r=0;i&&r<t;r++)a.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(r=0;r<n.length;r++)i=o(this,i,n[r]);return a},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(565)(r)}catch(e){}},function(e,t,n){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t,n){var r=n(115),o=n(567),i=n(73),a=n(116),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(115),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(571),o=n(597);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(73),o=n(572),i=n(573),a=n(196);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(73),o=n(116),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,n){var r=n(574),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)}),t});e.exports=a},function(e,t,n){var r=n(575);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(198);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){var r=n(577),o=n(118),i=n(146);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(578),o=n(583),i=n(584),a=n(585),s=n(586);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(117);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t,n){var r=n(199),o=n(580),i=n(54),a=n(200),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},function(e,t,n){var r,o=n(581),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(25)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(117),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(117),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(117);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(119),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(119);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(119);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(119);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(120);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(120);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(120);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(120);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(116);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){var r=n(25);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(600),o=n(54),i=n(116),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){var r=n(601),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){var r=n(603),o=n(609),i=n(202),a=n(611),s=n(621),c=n(624),u=n(625),l=n(626),d=n(628),f=n(629),p=n(630),m=n(153),g=n(635),h=n(636),v=n(642),y=n(73),_=n(205),b=n(644),w=n(54),C=n(646),T=n(147),S=n(151),k="[object Arguments]",N="[object Function]",M="[object Object]",E={};E[k]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object DataView]"]=E["[object Boolean]"]=E["[object Date]"]=E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Map]"]=E["[object Number]"]=E[M]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object Symbol]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Error]"]=E[N]=E["[object WeakMap]"]=!1,e.exports=function e(t,n,O,x,A,I){var P,R=1&n,D=2&n,U=4&n;if(O&&(P=A?O(t,x,A,I):O(t)),void 0!==P)return P;if(!w(t))return t;var j=y(t);if(j){if(P=g(t),!R)return u(t,P)}else{var L=m(t),F=L==N||"[object GeneratorFunction]"==L;if(_(t))return c(t,R);if(L==M||L==k||F&&!A){if(P=D||F?{}:v(t),!R)return D?d(t,s(P,t)):l(t,a(P,t))}else{if(!E[L])return A?t:{};P=h(t,L,R)}}I||(I=new r);var B=I.get(t);if(B)return B;I.set(t,P),C(t)?t.forEach(function(r){P.add(e(r,n,O,r,t,I))}):b(t)&&t.forEach(function(r,o){P.set(o,e(r,n,O,o,t,I))});var q=j?void 0:(U?D?p:f:D?S:T)(t);return o(q||t,function(r,o){q&&(r=t[o=r]),i(P,o,e(r,n,O,o,t,I))}),P}},function(e,t,n){var r=n(118),o=n(604),i=n(605),a=n(606),s=n(607),c=n(608);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},function(e,t,n){var r=n(118);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(118),o=n(146),i=n(198);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(53),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){var r=n(121),o=n(147);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(614),o=n(74),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,n){var r=n(93),o=n(74);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(618),o=n(148),i=n(149),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(93),o=n(206),i=n(74),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(150),o=n(620),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(207)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(121),o=n(151);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(54),o=n(150),i=n(623),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(25),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(105)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(121),o=n(152);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t,n){var r=n(121),o=n(210);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(213),o=n(152),i=n(147);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(213),o=n(210),i=n(151);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(53)(n(25),"DataView");e.exports=r},function(e,t,n){var r=n(53)(n(25),"Promise");e.exports=r},function(e,t,n){var r=n(53)(n(25),"Set");e.exports=r},function(e,t,n){var r=n(53)(n(25),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(154),o=n(638),i=n(639),a=n(640),s=n(641);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},function(e,t,n){var r=n(25).Uint8Array;e.exports=r},function(e,t,n){var r=n(154);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(115),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(154);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(643),o=n(212),i=n(150);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(54),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(645),o=n(148),i=n(149),a=i&&i.isMap,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(153),o=n(74);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(647),o=n(148),i=n(149),a=i&&i.isSet,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(153),o=n(74);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},function(e,t,n){"use strict";var r=n(649);function o(e,t,n){e.byteLength;for(var r=0,o=n.length;r<o;r++){var i=n.charCodeAt(r);if(i<128)e.setUint8(t++,i>>>0&127);else if(i<2048)e.setUint8(t++,i>>>6&31|192),e.setUint8(t++,i>>>0&63|128);else if(i<65536)e.setUint8(t++,i>>>12&15|224),e.setUint8(t++,i>>>6&63|128),e.setUint8(t++,i>>>0&63|128);else{if(!(i<1114112))throw new Error("bad codepoint "+i);e.setUint8(t++,i>>>18&7|240),e.setUint8(t++,i>>>12&63|128),e.setUint8(t++,i>>>6&63|128),e.setUint8(t++,i>>>0&63|128)}}}function i(e,t,n){var o="",i=e.buffer.slice(t,t+n);if(void 0!==i){if("undefined"!==typeof TextDecoder)try{o=new TextDecoder("utf-8",{fatal:!0}).decode(i)}catch(e){}if(""===o)try{o=new r.TextDecoder("utf-8",{fatal:!0}).decode(i)}catch(e){}}return o||i}function a(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t+=1;else if(o<2048)t+=2;else if(o<65536)t+=3;else{if(!(o<1114112))throw new Error("bad codepoint "+o);t+=4}}return t}function s(e,t,n){this.offset=t||0,this.view=e,this.bytes=n}function c(e,t,n){var r=typeof e;if("string"===r){if((i=a(e))<32)return t.setUint8(n,160|i),o(t,n+1,e),1+i;if(i<65536)return t.setUint8(n,218),t.setUint16(n+1,i),o(t,n+3,e),3+i;if(i<4294967296)return t.setUint8(n,219),t.setUint32(n+1,i),o(t,n+5,e),5+i}if(e instanceof ArrayBuffer){if((i=e.byteLength)<65536)return t.setUint8(n,216),t.setUint16(n+1,i),new Uint8Array(t.buffer).set(new Uint8Array(e),n+3),3+i;if(i<4294967296)return t.setUint8(n,217),t.setUint32(n+1,i),new Uint8Array(t.buffer).set(new Uint8Array(e),n+5),5+i}if("number"===r){if((e|0)!==e)return t.setUint8(n,203),t.setFloat64(n+1,e),9;if(e>=0){if(e<128)return t.setUint8(n,e),1;if(e<256)return t.setUint8(n,204),t.setUint8(n+1,e),2;if(e<65536)return t.setUint8(n,205),t.setUint16(n+1,e),3;if(e<4294967296)return t.setUint8(n,206),t.setUint32(n+1,e),5;throw new Error("Number too big 0x"+e.toString(16))}if(e>=-32)return t.setInt8(n,e),1;if(e>=-128)return t.setUint8(n,208),t.setInt8(n+1,e),2;if(e>=-32768)return t.setUint8(n,209),t.setInt16(n+1,e),3;if(e>=-2147483648)return t.setUint8(n,210),t.setInt32(n+1,e),5;throw new Error("Number too small -0x"+(-e).toString(16).substr(1))}if("undefined"===r)return t.setUint8(n,196),1;if(null===e)return t.setUint8(n,192),1;if("boolean"===r)return t.setUint8(n,e?195:194),1;if("object"===r){var i,s=0,u=Array.isArray(e);if(u)i=e.length;else{var l=Object.keys(e);i=l.length}if(i<16?(t.setUint8(n,i|(u?144:128)),s=1):i<65536?(t.setUint8(n,u?220:222),t.setUint16(n+1,i),s=3):i<4294967296&&(t.setUint8(n,u?221:223),t.setUint32(n+1,i),s=5),u)for(var d=0;d<i;d++)s+=c(e[d],t,n+s);else for(d=0;d<i;d++){var f=l[d];s+=c(f,t,n+s),s+=c(e[f],t,n+s)}return s}throw new Error("Unknown type "+r)}function u(e){var t=typeof e;if("string"===t){if((n=a(e))<32)return 1+n;if(n<65536)return 3+n;if(n<4294967296)return 5+n}if(e instanceof ArrayBuffer){if((n=e.byteLength)<65536)return 3+n;if(n<4294967296)return 5+n}if("number"===t){if((e|0)!==e)return 9;if(e>=0){if(e<128)return 1;if(e<256)return 2;if(e<65536)return 3;if(e<4294967296)return 5;if(e<0x10000000000000000)return 9;throw new Error("Number too big 0x"+e.toString(16))}if(e>=-32)return 1;if(e>=-128)return 2;if(e>=-32768)return 3;if(e>=-2147483648)return 5;if(e>=-0x8000000000000000)return 9;throw new Error("Number too small -0x"+e.toString(16).substr(1))}if("boolean"===t||"undefined"===t||null===e)return 1;if("object"===t){var n,r=0;if(Array.isArray(e)){n=e.length;for(var o=0;o<n;o++)r+=u(e[o])}else{var i=Object.keys(e);n=i.length;for(o=0;o<n;o++){var s=i[o];r+=u(s)+u(e[s])}}if(n<16)return 1+r;if(n<65536)return 3+r;if(n<4294967296)return 5+r;throw new Error("Array or object too long 0x"+n.toString(16))}throw new Error("Unknown type "+t)}t.inspect=function(e){if(void 0===e)return"undefined";var t,n;e instanceof ArrayBuffer?(n="ArrayBuffer",t=new DataView(e)):e instanceof DataView&&(n="DataView",t=e);if(!t)return JSON.stringify(e);for(var r=[],o=0;o<e.byteLength;o++){if(o>20){r.push("...");break}var i=t.getUint8(o).toString(16);1===i.length&&(i="0"+i),r.push(i)}return"<"+n+" "+r.join(" ")+">"},t.utf8Write=o,t.utf8Read=i,t.utf8ByteCount=a,t.encode=function(e){var t=new ArrayBuffer(u(e));return c(e,new DataView(t),0),t},t.decode=function(e){var t=e.buffer,n=new s(new DataView(t),0,e),r=n.parse();if(n.offset!==t.byteLength)throw new Error(t.byteLength-n.offset+" trailing bytes");return r},s.prototype.map=function(e){for(var t={},n=0;n<e;n++){t[this.parse()]=this.parse()}return t},s.prototype.buf=function(e){var t=new ArrayBuffer(e);return new Uint8Array(t).set(new Uint8Array(this.view.buffer,this.offset,e),0),this.offset+=e,t},s.prototype.raw=function(e){var t=i(this.view,this.offset,e);return this.offset+=e,t},s.prototype.array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this.parse();return t},s.prototype.parse=function(){var e,t,n=this.view.getUint8(this.offset);if(160===(224&n))return t=31&n,this.offset++,this.raw(t);if(128===(240&n))return t=15&n,this.offset++,this.map(t);if(144===(240&n))return t=15&n,this.offset++,this.array(t);if(0===(128&n))return this.offset++,n;if(224===(224&n))return e=this.view.getInt8(this.offset),this.offset++,e;switch(n){case 218:return t=this.view.getUint16(this.offset+1),this.offset+=3,this.raw(t);case 219:return t=this.view.getUint32(this.offset+1),this.offset+=5,this.raw(t);case 192:return this.offset++,null;case 194:return this.offset++,!1;case 195:return this.offset++,!0;case 196:return void this.offset++;case 204:return e=this.view.getUint8(this.offset+1),this.offset+=2,e;case 205:return e=this.view.getUint16(this.offset+1),this.offset+=3,e;case 206:return e=this.view.getUint32(this.offset+1),this.offset+=5,e;case 208:return e=this.view.getInt8(this.offset+1),this.offset+=2,e;case 209:return e=this.view.getInt16(this.offset+1),this.offset+=3,e;case 210:return e=this.view.getInt32(this.offset+1),this.offset+=5,e;case 211:return e=this.view.getBigInt64?this.view.getBigInt64(this.offset+1):4294967296*this.view.getInt32(this.offset+1)+this.view.getUint32(this.offset+5),this.offset+=9,e;case 222:return t=this.view.getUint16(this.offset+1),this.offset+=3,this.map(t);case 223:return t=this.view.getUint32(this.offset+1),this.offset+=5,this.map(t);case 220:return t=this.view.getUint16(this.offset+1),this.offset+=3,this.array(t);case 221:return t=this.view.getUint32(this.offset+1),this.offset+=5,this.array(t);case 216:return t=this.view.getUint16(this.offset+1),this.offset+=3,this.buf(t);case 217:return t=this.view.getUint32(this.offset+1),this.offset+=5,this.buf(t);case 202:return e=this.view.getFloat32(this.offset+1),this.offset+=5,e;case 203:return e=this.view.getFloat64(this.offset+1),this.offset+=9,e;case 207:var r=this.bytes;return this.offset++,4294967296*(16777216*r[this.offset++]+(r[this.offset++]<<16)+(r[this.offset++]<<8)+r[this.offset++])+16777216*r[this.offset++]+(r[this.offset++]<<16)+(r[this.offset++]<<8)+r[this.offset++]}throw new Error("Unknown type 0x"+n.toString(16))};var l=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),d=String.fromCharCode,f=function(e){var t=e.length,n=t%4,r=(t>0?l[e.charAt(0)]<<18:0)|(t>1?l[e.charAt(1)]<<12:0)|(t>2?l[e.charAt(2)]<<6:0)|(t>3?l[e.charAt(3)]:0),o=[d(r>>>16),d(r>>>8&255),d(255&r)];return o.length-=[0,0,2,1][n],o.join("")},p="undefined"!==typeof window&&window.atob?function(e){return window.atob(e)}:"undefined"!==typeof self&&"function"===typeof self.atob?function(e){return self.atob(e)}:function(e){return e.replace(/[\s\S]{1,4}/g,f)};t.decodeFromB64=function(e){for(var n=p(e),r=n.length,o=new Uint8Array(r),i=0;i<r;i++){var a=n.charCodeAt(i);o[i]=a}return t.decode(o)}},function(e,t,n){var r=n(650);e.exports={TextEncoder:r.TextEncoder,TextDecoder:r.TextDecoder}},function(e,t,n){!function(t){"use strict";function n(e,t,n){return t<=e&&e<=n}Math.floor;function r(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}var o=-1;function i(e){this.tokens=[].slice.call(e),this.tokens.reverse()}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():o},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.pop());else this.tokens.push(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.shift());else this.tokens.unshift(e)}};var a=-1;function s(e,t){if(e)throw TypeError("Decoder error");return t||65533}function c(e){return e=String(e).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(u,e)?u[e]:null}var u={};[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"}].forEach(function(e){e.encodings.forEach(function(e){e.labels.forEach(function(t){u[t]=e})})});var l={},d={},f="utf-8";function p(e,t){if(!(this instanceof p))throw TypeError("Called as a function. Did you forget 'new'?");e=void 0!==e?String(e):f,t=r(t),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var n=c(e);if(null===n||"replacement"===n.name)throw RangeError("Unknown encoding: "+e);if(!d[n.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js?");var o=this;return o._encoding=n,Boolean(t.fatal)&&(o._error_mode="fatal"),Boolean(t.ignoreBOM)&&(o._ignoreBOM=!0),Object.defineProperty||(this.encoding=o._encoding.name.toLowerCase(),this.fatal="fatal"===o._error_mode,this.ignoreBOM=o._ignoreBOM),o}function m(e,n){if(!(this instanceof m))throw TypeError("Called as a function. Did you forget 'new'?");n=r(n),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(n.fatal)?"fatal":"replacement";var o=this;if(Boolean(n.NONSTANDARD_allowLegacyEncoding)){var i=c(e=void 0!==e?String(e):f);if(null===i||"replacement"===i.name)throw RangeError("Unknown encoding: "+e);if(!l[i.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js?");o._encoding=i}else o._encoding=c("utf-8"),void 0!==e&&"console"in t&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=o._encoding.name.toLowerCase()),o}function g(e){var t=e.fatal,r=0,i=0,c=0,u=128,l=191;this.handler=function(e,d){if(d===o&&0!==c)return c=0,s(t);if(d===o)return a;if(0===c){if(n(d,0,127))return d;if(n(d,194,223))c=1,r=31&d;else if(n(d,224,239))224===d&&(u=160),237===d&&(l=159),c=2,r=15&d;else{if(!n(d,240,244))return s(t);240===d&&(u=144),244===d&&(l=143),c=3,r=7&d}return null}if(!n(d,u,l))return r=c=i=0,u=128,l=191,e.prepend(d),s(t);if(u=128,l=191,r=r<<6|63&d,(i+=1)!==c)return null;var f=r;return r=c=i=0,f}}function h(e){e.fatal;this.handler=function(e,t){if(t===o)return a;if(n(t,0,127))return t;var r,i;n(t,128,2047)?(r=1,i=192):n(t,2048,65535)?(r=2,i=224):n(t,65536,1114111)&&(r=3,i=240);for(var s=[(t>>6*r)+i];r>0;){var c=t>>6*(r-1);s.push(128|63&c),r-=1}return s}}Object.defineProperty&&(Object.defineProperty(p.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(p.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(p.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),p.prototype.decode=function(e,t){var n;n="object"===typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=r(t),this._do_not_flush||(this._decoder=d[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(t.stream);for(var s,c=new i(n),u=[];;){var l=c.read();if(l===o)break;if((s=this._decoder.handler(c,l))===a)break;null!==s&&(Array.isArray(s)?u.push.apply(u,s):u.push(s))}if(!this._do_not_flush){do{if((s=this._decoder.handler(c,c.read()))===a)break;null!==s&&(Array.isArray(s)?u.push.apply(u,s):u.push(s))}while(!c.endOfStream());this._decoder=null}return function(e){var t,n;return t=["UTF-8","UTF-16LE","UTF-16BE"],n=this._encoding.name,-1===t.indexOf(n)||this._ignoreBOM||this._BOMseen||(e.length>0&&65279===e[0]?(this._BOMseen=!0,e.shift()):e.length>0&&(this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(e)}.call(this,u)},Object.defineProperty&&Object.defineProperty(m.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),m.prototype.encode=function(e,t){e=e?String(e):"",t=r(t),this._do_not_flush||(this._encoder=l[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(t.stream);for(var n,s=new i(function(e){for(var t=String(e),n=t.length,r=0,o=[];r<n;){var i=t.charCodeAt(r);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)o.push(65533);else{var a=e.charCodeAt(r+1);if(56320<=a&&a<=57343){var s=1023&i,c=1023&a;o.push(65536+(s<<10)+c),r+=1}else o.push(65533)}r+=1}return o}(e)),c=[];;){var u=s.read();if(u===o)break;if((n=this._encoder.handler(s,u))===a)break;Array.isArray(n)?c.push.apply(c,n):c.push(n)}if(!this._do_not_flush){for(;(n=this._encoder.handler(s,s.read()))!==a;)Array.isArray(n)?c.push.apply(c,n):c.push(n);this._encoder=null}return new Uint8Array(c)},l["UTF-8"]=function(e){return new h(e)},d["UTF-8"]=function(e){return new g(e)},t.TextEncoder||(t.TextEncoder=m),t.TextDecoder||(t.TextDecoder=p),e.exports&&(e.exports={TextEncoder:t.TextEncoder,TextDecoder:t.TextDecoder})}(this||{})},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<64;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),o=r.length,i="";for(n=0;n<o;n+=3)i+=e[r[n]>>2],i+=e[(3&r[n])<<4|r[n+1]>>4],i+=e[(15&r[n+1])<<2|r[n+2]>>6],i+=e[63&r[n+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){var t,r,o,i,a,s=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),d=new Uint8Array(l);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],o=n[e.charCodeAt(t+1)],i=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],d[u++]=r<<2|o>>4,d[u++]=(15&o)<<4|i>>2,d[u++]=(3&i)<<6|63&a;return l}}()},function(e,t){var n={},r={"-1":"FILE_UNKNOWN",0:"IMAGE_JPG",1:"IMAGE_GIF",2:"IMAGE_PNG",3:"IMAGE_BMP",4:"AUDIO_AMR",5:"AUDIO_MP3",6:"VIDEO_MP4",7:"AUDIO_WAV",8:"NORMAL_FILE",9:"OFFICE_DOC",10:"OFFICE_DOCX",11:"OFFICE_XLS",12:"OFFICE_XLSX",13:"OFFICE_PPT",14:"OFFICE_PPTX",15:"NORMAL_ZIP",16:"NORMAL_PDF",17:"NORMAL_RAR",18:"NORMAL_PSD",19:"NORMAL_AI",20:"NORMAL_TXT",21:"VIDEO_AVI",22:"VIDEO_RMVB",23:"VIDEO_RM",24:"VIDEO_MPG",25:"VIDEO_WMV",26:"VIDEO_MKV",27:"VIDEO_VOB",28:"NORMAL_TFSPRIVATE",29:"IMAGE_WEBP",30:"AUDIO_OPUS",31:"AUDIO_OGG"};Object.keys(r).forEach(function(e){var t=r[e].split("_")[1].toLowerCase();n[t]=parseInt(e)}),n.jpeg=0;var o=["jpg","jpeg","bmp","png","gif","doc","docx","xlsx","xls","pdf","ppt","pptx","zip","rar","txt","mp4","psd","ai","avi","webp","adoc","axls","c4d","ogg"],i={VALID_TYPES:o,getTypeByName:function(e){return e.split(".").pop().toLowerCase()},getIdByType:function(e){if(void 0===n[e])e="file";return n[e]},getCateTypeById:function(e){if(void 0===r[e])e="8";return r[e]},getTypeById:function(e){if(void 0===r[e])e="8";return r[e].split("_")[1].toLowerCase()},getCateTypeByType:function(e){return i.getCateTypeById(i.getIdByType((e||"").toLowerCase()))},isValid:function(e){return-1!==o.indexOf(e)},isImg:function(e){return"IMAGE"===i.getCateTypeByType(e).split("_")[0]},getFileIconByType:function(e){switch(i.getCateTypeByType(e)){case"ALI_ADOC":return"adoc-icon";case"ALI_AXLS":return"axls-icon";case"OFFICE_DOC":case"OFFICE_DOCX":return"word-icon";case"OFFICE_PPT":case"OFFICE_PPTX":return"ppt-icon";case"NORMAL_PDF":return"pdf-icon";case"OFFICE_XLS":case"OFFICE_XLSX":return"excl-icon";case"NORMAL_ZIP":return"zip-icon";case"NORMAL_RAR":return"rar-icon";case"NORMAL_PSD":return"psd-icon";case"NORMAL_AI":return"ai-icon";case"NORMAL_TXT":return"txt-icon";case"NORMAL_KEY":return"key-icon";case"NORMAL_PAGES":return"pages-icon";case"NORMAL_SKETCH":return"sketch-icon";case"NORMAL_NUMBERS":return"numbers-icon";case"NORMAL_C4D":return"c4d-icon";case"VIDEO_AVI":case"VIDEO_RMVB":case"VIDEO_RM":case"VIDEO_MPG":case"VIDEO_WMV":case"VIDEO_MKV":case"VIDEO_VOB":case"VIDEO_MP4":case"VIDEO_3GP":case"VIDEO_ASF":case"VIDEO_DV":case"VIDEO_FLV":case"VIDEO_F4V":case"VIDEO_GIF":case"VIDEO_M2T":case"VIDEO_M3U8":case"VIDEO_M4V":case"VIDEO_MJ2":case"VIDEO_MOV":case"VIDEO_MPE":case"VIDEO_MPEG":case"VIDEO_MTS":case"VIDEO_OGG":case"VIDEO_QT":case"VIDEO_TS":case"VIDEO_WEBM":return"video-icon";case"IMAGE_JPG":case"IMAGE_GIF":case"IMAGE_PNG":case"IMAGE_BMP":case"IMAGE_WEBP":case"IMAGE_JPEG":case"IMAGE_TIF":case"IMAGE_TIFF":return"pic-icon";case"AUDIO_ACC":case"AUDIO_AC3":case"AUDIO_ACM":case"AUDIO_APE":case"AUDIO_CAF":case"AUDIO_FLAC":case"AUDIO_M4A":case"AUDIO_RA":case"AUDIO_WMA":case"AUDIO_AIFF":case"AUDIO_AMR":case"AUDIO_MP3":case"AUDIO_WAV":case"AUDIO_OGG":case"AUDIO_OPUS":return"audio-icon";case"APP_DMG":case"APP_APK":case"APP_EXE":case"APP_MSI":case"APP_IPA":return"app-icon";default:return"default-icon"}}};e.exports=i},function(e,t,n){var r;!function(){var o={starts_with_slashes:/^\/+/,ends_with_slashes:/\/+$/,pluses:/\+/g,query_separator:/[&;]/,uri_parser:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*)(?::([^:@]*))?)?@)?(\[[0-9a-fA-F:.]+\]|[^:\/?#]*)(?::(\d+|(?=:)))?(:)?)((((?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/};function i(e){return e&&(e=e.toString().replace(o.pluses,"%20"),e=decodeURIComponent(e)),e}function a(e){var t,n,r,a,s,c,u,l=[];if("undefined"===typeof e||null===e||""===e)return l;for(0===e.indexOf("?")&&(e=e.substring(1)),t=0,u=(n=e.toString().split(o.query_separator)).length;t<u;t++)0!==(a=(r=n[t]).indexOf("="))&&(s=i(r.substring(0,a)),c=i(r.substring(a+1)),l.push(-1===a?[r,null]:[s,c]));return l}function s(e){this.uriParts=function(e){var t=o.uri_parser.exec(e||""),n={};return["source","protocol","authority","userInfo","user","password","host","port","isColonUri","relative","path","directory","file","query","anchor"].forEach(function(e,r){n[e]=t[r]||""}),n}(e),this.queryPairs=a(this.uriParts.query),this.hasAuthorityPrefixUserPref=null}Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,r;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!==typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),r=0;r<i;){var a;r in o&&(a=o[r],e.call(n,a,r,o)),r++}}),["protocol","userInfo","host","port","path","anchor"].forEach(function(e){s.prototype[e]=function(t){return"undefined"!==typeof t&&(this.uriParts[e]=t),this.uriParts[e]}}),s.prototype.hasAuthorityPrefix=function(e){return"undefined"!==typeof e&&(this.hasAuthorityPrefixUserPref=e),null===this.hasAuthorityPrefixUserPref?-1!==this.uriParts.source.indexOf("//"):this.hasAuthorityPrefixUserPref},s.prototype.isColonUri=function(e){if("undefined"===typeof e)return!!this.uriParts.isColonUri;this.uriParts.isColonUri=!!e},s.prototype.query=function(e){var t,n,r,o="";for("undefined"!==typeof e&&(this.queryPairs=a(e)),t=0,r=this.queryPairs.length;t<r;t++)n=this.queryPairs[t],o.length>0&&(o+="&"),null===n[1]?o+=n[0]:(o+=n[0],o+="=","undefined"!==typeof n[1]&&(o+=encodeURIComponent(n[1])));return o.length>0?"?"+o:o},s.prototype.getQueryParamValue=function(e){var t,n,r;for(n=0,r=this.queryPairs.length;n<r;n++)if(e===(t=this.queryPairs[n])[0])return t[1]},s.prototype.getQueryParamValues=function(e){var t,n,r,o=[];for(t=0,r=this.queryPairs.length;t<r;t++)e===(n=this.queryPairs[t])[0]&&o.push(n[1]);return o},s.prototype.deleteQueryParam=function(e,t){var n,r,o,a,s,c=[];for(n=0,s=this.queryPairs.length;n<s;n++)o=i((r=this.queryPairs[n])[0])===i(e),a=r[1]===t,(1!==arguments.length||o)&&(2!==arguments.length||o&&a)||c.push(r);return this.queryPairs=c,this},s.prototype.addQueryParam=function(e,t,n){return 3===arguments.length&&-1!==n?(n=Math.min(n,this.queryPairs.length),this.queryPairs.splice(n,0,[e,t])):arguments.length>0&&this.queryPairs.push([e,t]),this},s.prototype.hasQueryParam=function(e){var t,n=this.queryPairs.length;for(t=0;t<n;t++)if(this.queryPairs[t][0]==e)return!0;return!1},s.prototype.replaceQueryParam=function(e,t,n){var r,o,a=-1,s=this.queryPairs.length;if(3===arguments.length){for(r=0;r<s;r++)if(i((o=this.queryPairs[r])[0])===i(e)&&decodeURIComponent(o[1])===i(n)){a=r;break}a>=0&&this.deleteQueryParam(e,i(n)).addQueryParam(e,t,a)}else{for(r=0;r<s;r++)if(i((o=this.queryPairs[r])[0])===i(e)){a=r;break}this.deleteQueryParam(e),this.addQueryParam(e,t,a)}return this},["protocol","hasAuthorityPrefix","isColonUri","userInfo","host","port","path","query","anchor"].forEach(function(e){var t="set"+e.charAt(0).toUpperCase()+e.slice(1);s.prototype[t]=function(t){return this[e](t),this}}),s.prototype.scheme=function(){var e="";return this.protocol()?(e+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1&&(e+=":"),e+="//"):this.hasAuthorityPrefix()&&this.host()&&(e+="//"),e},s.prototype.origin=function(){var e=this.scheme();return this.userInfo()&&this.host()&&(e+=this.userInfo(),this.userInfo().indexOf("@")!==this.userInfo().length-1&&(e+="@")),this.host()&&(e+=this.host(),(this.port()||this.path()&&this.path().substr(0,1).match(/[0-9]/))&&(e+=":"+this.port())),e},s.prototype.addTrailingSlash=function(){var e=this.path()||"";return"/"!==e.substr(-1)&&this.path(e+"/"),this},s.prototype.toString=function(){var e,t=this.origin();return this.isColonUri()?this.path()&&(t+=":"+this.path()):this.path()?(e=this.path(),o.ends_with_slashes.test(t)||o.starts_with_slashes.test(e)?(t&&t.replace(o.ends_with_slashes,"/"),e=e.replace(o.starts_with_slashes,"/")):t+="/",t+=e):this.host()&&(this.query().toString()||this.anchor())&&(t+="/"),this.query().toString()&&(t+=this.query().toString()),this.anchor()&&(0!==this.anchor().indexOf("#")&&(t+="#"),t+=this.anchor()),t},s.prototype.clone=function(){return new s(this.toString())},void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(656);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||(t[e]=r[e]))})},function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"isWeb",function(){return o}),n.d(t,"isNode",function(){return i}),n.d(t,"isWeex",function(){return a}),n.d(t,"isKraken",function(){return s}),n.d(t,"isMiniApp",function(){return c}),n.d(t,"isByteDanceMicroApp",function(){return u}),n.d(t,"isBaiduSmartProgram",function(){return l}),n.d(t,"isKuaiShouMiniProgram",function(){return d}),n.d(t,"isWeChatMiniProgram",function(){return f}),n.d(t,"isQuickApp",function(){return p}),n.d(t,"isPHA",function(){return m}),n.d(t,"isFRM",function(){return g}),n.d(t,"isWindVane",function(){return v});var o="undefined"!==typeof window&&"onload"in window,i="undefined"!==typeof e&&!(!e.versions||!e.versions.node),a="undefined"!==typeof WXEnvironment&&"Web"!==WXEnvironment.platform,s="undefined"!==typeof __kraken__,c="undefined"!==typeof my&&null!==my&&"undefined"!==typeof my.alert,u="undefined"!==typeof tt&&null!==tt&&"undefined"!==typeof tt.showToast,l="undefined"!==typeof swan&&null!==swan&&"undefined"!==typeof swan.showToast,d="undefined"!==typeof ks&&null!==ks&&"undefined"!==typeof ks.showToast,f=!u&&"undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||"undefined"!==typeof wx.miniProgram),p="undefined"!==typeof r&&null!==r&&"undefined"!==typeof r.callNative&&!a,m=o&&"object"===typeof pha,g=c&&o&&my.isFRM,h="object"===typeof navigator?navigator.userAgent||navigator.swuserAgent:"",v=/.+AliApp\((\w+)\/((?:\d+\.)+\d+)\).* .*(WindVane)(?:\/((?:\d+\.)+\d+))?.*/.test(h)&&o&&"undefined"!==typeof WindVane&&"undefined"!==typeof WindVane.call;t.default={isWeb:o,isNode:i,isWeex:a,isKraken:s,isMiniApp:c,isByteDanceMicroApp:u,isBaiduSmartProgram:l,isKuaiShouMiniProgram:d,isWeChatMiniProgram:f,isQuickApp:p,isPHA:m,isWindVane:v,isFRM:g}}.call(this,n(7),n(9))},function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"isWeb",function(){return o}),n.d(t,"isNode",function(){return i}),n.d(t,"isWeex",function(){return a}),n.d(t,"isKraken",function(){return s}),n.d(t,"isMiniApp",function(){return c}),n.d(t,"isByteDanceMicroApp",function(){return u}),n.d(t,"isBaiduSmartProgram",function(){return l}),n.d(t,"isKuaiShouMiniProgram",function(){return d}),n.d(t,"isWeChatMiniProgram",function(){return f}),n.d(t,"isQuickApp",function(){return p}),n.d(t,"isPHA",function(){return m}),n.d(t,"isFRM",function(){return g}),n.d(t,"isWindVane",function(){return v});var o="undefined"!==typeof window&&"onload"in window,i="undefined"!==typeof e&&!(!e.versions||!e.versions.node),a="undefined"!==typeof WXEnvironment&&"Web"!==WXEnvironment.platform,s="undefined"!==typeof __kraken__,c="undefined"!==typeof my&&null!==my&&"undefined"!==typeof my.alert,u="undefined"!==typeof tt&&null!==tt&&"undefined"!==typeof tt.showToast,l="undefined"!==typeof swan&&null!==swan&&"undefined"!==typeof swan.showToast,d="undefined"!==typeof ks&&null!==ks&&"undefined"!==typeof ks.showToast,f=!u&&"undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||"undefined"!==typeof wx.miniProgram),p="undefined"!==typeof r&&null!==r&&"undefined"!==typeof r.callNative&&!a,m=o&&"object"===typeof pha,g=c&&o&&my.isFRM,h="object"===typeof navigator?navigator.userAgent||navigator.swuserAgent:"",v=/.+AliApp\((\w+)\/((?:\d+\.)+\d+)\).* .*(WindVane)(?:\/((?:\d+\.)+\d+))?.*/.test(h)&&o&&"undefined"!==typeof WindVane&&"undefined"!==typeof WindVane.call;t.default={isWeb:o,isNode:i,isWeex:a,isKraken:s,isMiniApp:c,isByteDanceMicroApp:u,isBaiduSmartProgram:l,isKuaiShouMiniProgram:d,isWeChatMiniProgram:f,isQuickApp:p,isPHA:m,isWindVane:v,isFRM:g}}.call(this,n(7),n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,n){var i=Object.assign({},e,{apiName:e.api,apiVersion:e.v,needEcodeSign:"1"===String(e.ecode)});(0,o.isObject)(e.data)||(i.data=JSON.parse(e.data)),Object.assign&&e.dangerouslySetAlipayParams&&Object.assign(i,e.dangerouslySetAlipayParams),"alipay"===e.miniAppType||"alipay"===function(){r||(r=my.getSystemInfoSync());return r}().app?("POST"===e.type&&(i.usePost=!0),(e.originaljsonp||e.json)&&(i.type="originaljson"),"undefined"!==typeof e.valueType&&("original"===e.valueType?i.type="originaljson":"string"===e.valueType&&delete i.type),!0===e.useJsonpResultType&&delete i.type,my.call("mtop",i,function(e){if(Array.isArray(e.ret)){var r=!0;for(var o in e.ret)/^SUCCESS::/.test(e.ret[o])||(r=!1);r?t(e):n(e)}else n(e)})):(i.method=e.type,i.success=function(e){t(e)},i.fail=function(e){n(e)},my.sendMtop(i))})};var r,o=n(216)},function(e,t){!function(e,t){function n(e,t){g[e]||(g[e]=!0,console.log(t))}function r(){var e={},t=new p(function(t,n){e.resolve=t,e.reject=n});return e.promise=t,e}function o(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function i(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}function a(){if(window.etSign)window.__etReady=!0;else{window.etReady=function(){window.__etReady=!0};var e=document.createElement("script");e.src="//g.alicdn.com/sd/baxia-entry/index.js",i(e)}}function s(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function c(e){return"[object Object]"=={}.toString.call(e)}function u(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function l(e,t,n){var r=new Date;r.setTime(r.getTime()-864e5);document.cookie=e+"=;path=/;domain=."+t+";expires="+r.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+r.toGMTString()}function d(e,t){for(var n=e.split("."),r=t.split("."),o=0;3>o;o++){var i=Number(n[o]),a=Number(r[o]);if(i>a)return 1;if(a>i)return-1;if(!isNaN(i)&&isNaN(a))return 1;if(isNaN(i)&&!isNaN(a))return-1}return 0}function f(e){this.id=""+(new Date).getTime()+ ++T,this.params=o(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=_.slice(0)}var p=e.Promise,m=(p||{resolve:function(){}}).resolve(),g={},h="DOWNGRADE_BY_WINDVANE",v="DOWNGRADE_BY_IFRAME";String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var y={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},_=[],b={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var r=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),o=t.match(r)||[],i=o[2]||"taobao.com",a=o[1]||"m";"taobao.net"!==i||"x"!==a&&"waptest"!==a&&"daily"!==a?"taobao.net"===i&&"demo"===a?a="demo":"alibaba-inc.com"===i&&"zebra"===a?a="zebra":"waptest"!==a&&"wapa"!==a&&"m"!==a&&(a="m"):a="waptest";var s="h5api";"taobao.net"===i&&"waptest"===a&&(s="acs"),y.mainDomain=i,y.subDomain=a,y.prefix=s})(),function(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(y.WindVaneVersion=n[1]);var r=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);r&&(y.AliAppName=r[1],y.AliAppVersion=r[2]);var o=t.match(/AMapClient\/([\d\.\_]+)/i);o&&(y.AliAppName="AMAP",y.AliAppVersion=o[1])}();var w=/[Android|Adr]/.test(e.navigator.userAgent),C="AP"===y.AliAppName&&d(y.AliAppVersion,"10.1.2")>=0||"KB"===y.AliAppName&&d(y.AliAppVersion,"7.1.62")>=0||w&&"AMAP"===y.AliAppName&&d(y.AliAppVersion,"1.0.1")>=0,T=0;f.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},f.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},f.prototype.__processRequestType=function(r){var o=this,i=this.params,a=this.options;if(!0===y.H5Request&&(a.H5Request=!0),!0===y.WindVaneRequest&&(a.WindVaneRequest=!0),!1===a.H5Request&&!0===a.WindVaneRequest){if(!C&&(!t.windvane||parseFloat(a.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");if(C&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===a.H5Request)a.WindVaneRequest=!1;else if("undefined"==typeof a.WindVaneRequest&&"undefined"==typeof a.H5Request){if(t.windvane&&parseFloat(a.WindVaneVersion)>=5.4?a.WindVaneRequest=!0:(n(h,"[@ali/lib-mtop] The current page does not have the lib.windvane variable, automatically downgraded to H5 request"),a.H5Request=!0),C){if(a.WindVaneRequest=a.H5Request=void 0,e.AlipayJSBridge)if(c(i.data))a.WindVaneRequest=!0;else try{c(JSON.parse(i.data))?a.WindVaneRequest=!0:a.H5Request=!0}catch(e){a.H5Request=!0}else a.H5Request=!0;"AMAP"!==y.AliAppName||i.useNebulaJSbridgeWithAMAP||(a.WindVaneRequest=a.H5Request=void 0,a.H5Request=!0)}window.self!==window.top&&(n(v,"[@ali/lib-mtop] The current page is embedded in an iframe, cannot use WindVane request, automatically downgraded to H5 request"),a.H5Request=!0)}var s=e.navigator.userAgent.toLowerCase();return s.indexOf("youku")>-1&&a.mainDomain.indexOf("youku.com")<0&&(a.WindVaneRequest=!1,a.H5Request=!0),a.mainDomain.indexOf("youku.com")>-1&&s.indexOf("youku")<0&&(a.WindVaneRequest=!1,a.H5Request=!0),r?r().then(function(){var e=a.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===a.WindVaneRequest&&C&&a.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!C||!isNaN(a.retJson.error)||-1!==a.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return C&&c(i.data)&&(i.data=JSON.stringify(i.data)),y.H5Request=!0,o.__sequence([o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest]);"undefined"==typeof a.retJson.api&&"undefined"==typeof a.retJson.v&&(a.retJson.api=i.api,a.retJson.v=i.v,a.retJson.ret=[a.retJson.error+"::"+a.retJson.errorMessage],a.retJson.data={})}}):void 0};var S="_m_h5_c",k="_m_h5_tk";f.prototype.__getTokenFromAlipay=function(){var t=r(),n=this.options,o=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===n.useAlipayJSBridge&&!o&&C&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",function(e){e&&e.token&&(n.token=e.token),t.resolve()},function(){t.resolve()}):t.resolve(),t.promise},f.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&u(S)?e.token=u(S).split(";")[0]:e.token=e.token||u(k),e.token&&(e.token=e.token.split("_")[0]),p.resolve()},f.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},f.prototype.__processToken=function(e){var t=this,n=this.options;return this.params,n.token&&delete n.token,!0!==n.WindVaneRequest?m.then(function(){return t.__getTokenFromAlipay()}).then(function(){return t.__getTokenFromCookie()}).then(e).then(function(){var e=n.retJson,r=e.ret;if(r instanceof Array&&(r=r.join(",")),r.indexOf("TOKEN_EMPTY")>-1||(!0===n.CDR||!0===n.syncCookieMode)&&r.indexOf("ILLEGAL_ACCESS")>-1||r.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes){var o=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(!0===n.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){o=[function(e){var n=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(n).catch(n):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(o)}n.maxRetryTimes>0&&(l(S,n.pageDomain,"*"),l(k,n.mainDomain,n.subDomain),l("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=b.TOKEN_EXPIRED}}):void e()},f.prototype.__processRequestUrl=function(t){var n=this.params,r=this.options;if(r.hostSetting&&r.hostSetting[e.location.hostname]){var o=r.hostSetting[e.location.hostname];o.prefix&&(r.prefix=o.prefix),o.subDomain&&(r.subDomain=o.subDomain),o.mainDomain&&(r.mainDomain=o.mainDomain)}if(!0===r.H5Request){var i="//"+(r.prefix?r.prefix+".":"")+(r.subDomain?r.subDomain+".":"")+r.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",s=n.appKey||("waptest"===r.subDomain?"4272":"12574478"),c=(new Date).getTime(),u=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,o,i,a;return o=2147483648&e,i=2147483648&t,a=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^a^o^i:n|r?1073741824&a?3221225472^a^o^i:1073741824^a^o^i:a^o^i}function r(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(r,o,i),a),c)),n(t(e,s),r)}function o(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(r,o,i),a),c)),n(t(e,s),r)}function i(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e^t^n}(r,o,i),a),c)),n(t(e,s),r)}function a(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(r,o,i),a),c)),n(t(e,s),r)}function s(e){var t,n="",r="";for(t=0;3>=t;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var c,u,l,d,f,p,m,g,h,v;for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e),v=function(e){for(var t,n=e.length,r=n+8,o=16*((r-r%64)/64+1),i=new Array(o-1),a=0,s=0;n>s;)a=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<a,s++;return a=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<a,i[o-2]=n<<3,i[o-1]=n>>>29,i}(e),p=1732584193,m=4023233417,g=2562383102,h=271733878,c=0;c<v.length;c+=16)u=p,l=m,d=g,f=h,p=r(p,m,g,h,v[c+0],7,3614090360),h=r(h,p,m,g,v[c+1],12,3905402710),g=r(g,h,p,m,v[c+2],17,606105819),m=r(m,g,h,p,v[c+3],22,3250441966),p=r(p,m,g,h,v[c+4],7,4118548399),h=r(h,p,m,g,v[c+5],12,1200080426),g=r(g,h,p,m,v[c+6],17,2821735955),m=r(m,g,h,p,v[c+7],22,4249261313),p=r(p,m,g,h,v[c+8],7,1770035416),h=r(h,p,m,g,v[c+9],12,2336552879),g=r(g,h,p,m,v[c+10],17,4294925233),m=r(m,g,h,p,v[c+11],22,2304563134),p=r(p,m,g,h,v[c+12],7,1804603682),h=r(h,p,m,g,v[c+13],12,4254626195),g=r(g,h,p,m,v[c+14],17,2792965006),p=o(p,m=r(m,g,h,p,v[c+15],22,1236535329),g,h,v[c+1],5,4129170786),h=o(h,p,m,g,v[c+6],9,3225465664),g=o(g,h,p,m,v[c+11],14,643717713),m=o(m,g,h,p,v[c+0],20,3921069994),p=o(p,m,g,h,v[c+5],5,3593408605),h=o(h,p,m,g,v[c+10],9,38016083),g=o(g,h,p,m,v[c+15],14,3634488961),m=o(m,g,h,p,v[c+4],20,3889429448),p=o(p,m,g,h,v[c+9],5,568446438),h=o(h,p,m,g,v[c+14],9,3275163606),g=o(g,h,p,m,v[c+3],14,4107603335),m=o(m,g,h,p,v[c+8],20,1163531501),p=o(p,m,g,h,v[c+13],5,2850285829),h=o(h,p,m,g,v[c+2],9,4243563512),g=o(g,h,p,m,v[c+7],14,1735328473),p=i(p,m=o(m,g,h,p,v[c+12],20,2368359562),g,h,v[c+5],4,4294588738),h=i(h,p,m,g,v[c+8],11,2272392833),g=i(g,h,p,m,v[c+11],16,1839030562),m=i(m,g,h,p,v[c+14],23,4259657740),p=i(p,m,g,h,v[c+1],4,2763975236),h=i(h,p,m,g,v[c+4],11,1272893353),g=i(g,h,p,m,v[c+7],16,4139469664),m=i(m,g,h,p,v[c+10],23,3200236656),p=i(p,m,g,h,v[c+13],4,681279174),h=i(h,p,m,g,v[c+0],11,3936430074),g=i(g,h,p,m,v[c+3],16,3572445317),m=i(m,g,h,p,v[c+6],23,76029189),p=i(p,m,g,h,v[c+9],4,3654602809),h=i(h,p,m,g,v[c+12],11,3873151461),g=i(g,h,p,m,v[c+15],16,530742520),p=a(p,m=i(m,g,h,p,v[c+2],23,3299628645),g,h,v[c+0],6,4096336452),h=a(h,p,m,g,v[c+7],10,1126891415),g=a(g,h,p,m,v[c+14],15,2878612391),m=a(m,g,h,p,v[c+5],21,4237533241),p=a(p,m,g,h,v[c+12],6,1700485571),h=a(h,p,m,g,v[c+3],10,2399980690),g=a(g,h,p,m,v[c+10],15,4293915773),m=a(m,g,h,p,v[c+1],21,2240044497),p=a(p,m,g,h,v[c+8],6,1873313359),h=a(h,p,m,g,v[c+15],10,4264355552),g=a(g,h,p,m,v[c+6],15,2734768916),m=a(m,g,h,p,v[c+13],21,1309151649),p=a(p,m,g,h,v[c+4],6,4149444226),h=a(h,p,m,g,v[c+11],10,3174756917),g=a(g,h,p,m,v[c+2],15,718787259),m=a(m,g,h,p,v[c+9],21,3951481745),p=n(p,u),m=n(m,l),g=n(g,d),h=n(h,f);return(s(p)+s(m)+s(g)+s(h)).toLowerCase()}(r.token+"&"+c+"&"+s+"&"+n.data),l={jsv:"2.7.5",appKey:s,t:c,sign:u};r.bxOption&&Object.keys(r.bxOption).forEach(function(e){l["_"+e]=r.bxOption[e]});var d={data:n.data,ua:n.ua};Object.keys(n).forEach(function(e){"undefined"==typeof l[e]&&"undefined"==typeof d[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(l[e]=n[e])}),n.ext_querys&&Object.keys(n.ext_querys).forEach(function(e){l[e]=n.ext_querys[e]}),r.getJSONP?l.type="jsonp":r.getOriginalJSONP?l.type="originaljsonp":(r.getJSON||r.postJSON)&&(l.type="originaljson"),"undefined"!=typeof n.valueType&&("original"===n.valueType?r.getJSONP||r.getOriginalJSONP?l.type="originaljsonp":(r.getJSON||r.postJSON)&&(l.type="originaljson"):"string"===n.valueType&&(r.getJSONP||r.getOriginalJSONP?l.type="jsonp":(r.getJSON||r.postJSON)&&(l.type="json"))),!0===r.useJsonpResultType&&"originaljson"===l.type&&delete l.type,r.dangerouslySetProtocol&&(i=r.dangerouslySetProtocol+":"+i),"5.0"===n.SV&&(i+="5.0/",a()),r.querystring=l,r.postdata=d,r.path=i}t()},f.prototype.__processUnitPrefix=function(e){e()};var N=0;f.prototype.__requestJSONP=function(e){function t(e){if(l&&clearTimeout(l),d.parentNode&&d.parentNode.removeChild(d),"TIMEOUT"===e)window[u]=function(){window[u]=void 0;try{delete window[u]}catch(e){}};else{window[u]=void 0;try{delete window[u]}catch(e){}}}var n=r(),o=this.params,a=this.options,c=o.timeout||2e4,u="mtopjsonp"+(o.jsonpIncPrefix||"")+ ++N,l=setTimeout(function(){e(a.timeoutErrMsg||"TIMEOUT::接口超时"),t("TIMEOUT")},c);a.querystring.callback=u;var d=document.createElement("script"),f=a.path+"?"+s(a.querystring)+"&"+s(a.postdata);return"5.0"===o.SV&&window.etSign&&(f+="&bx_et="+window.etSign(f)),d.src=f,d.async=!0,d.onerror=function(){t("ABORT"),e(a.abortErrMsg||"ABORT::接口异常退出")},window[u]=function(){a.results=Array.prototype.slice.call(arguments),t(),n.resolve()},i(d),n.promise},f.prototype.__requestJSON=function(t){function n(e){d&&clearTimeout(d),"TIMEOUT"===e&&c.abort()}var o=r(),i=this.params,a=this.options,c=new e.XMLHttpRequest,l=i.timeout||2e4,d=setTimeout(function(){t(a.timeoutErrMsg||"TIMEOUT::接口超时"),n("TIMEOUT")},l);a.CDR&&u(S)&&(a.querystring.c=decodeURIComponent(u(S))),c.onreadystatechange=function(){if(4==c.readyState){var e,r,i=c.status;if(i>=200&&300>i||304==i){n(),e=c.responseText,r=c.getAllResponseHeaders()||"";try{(e=/^\s*$/.test(e)?{}:JSON.parse(e)).responseHeaders=r,a.results=[e],o.resolve()}catch(e){t("PARSE_JSON_ERROR::解析JSON失败")}}else n("ABORT"),t(a.abortErrMsg||"ABORT::接口异常退出")}};var f,p,m=a.path+"?"+s(a.querystring);a.getJSON?(f="GET",m+="&"+s(a.postdata)):a.postJSON&&(f="POST",p=s(a.postdata)),"5.0"===i.SV&&window.etSign&&(m+="&bx_et="+window.etSign(m)),c.open(f,m,!0),c.withCredentials=!0,c.setRequestHeader("Accept","application/json"),c.setRequestHeader("Content-type","application/x-www-form-urlencoded");var g=i.ext_headers||i.headers;if(g)for(var h in g)c.setRequestHeader(h,g[h]);return c.send(p),o.promise},f.prototype.__requestWindVane=function(e){function n(e){if(a.results=[e],e&&e.stat&&e.stat.falcoId){var n=function(){},r={mtopStart:b,mtopEnd:Date.now(),falcoId:e.stat.falcoId};t.windvane.call(C,"falcoExtend",r,n,n)}o.resolve()}var o=r(),i=this.params,a=this.options,s=i.data,c=i.api,u=i.v,l=a.postJSON?1:0,d=a.getJSON||a.postJSON||a.getOriginalJSONP?"originaljson":"";"undefined"!=typeof i.valueType&&("original"===i.valueType?d="originaljson":"string"===i.valueType&&(d="")),!0===a.useJsonpResultType&&(d="");var f,p,m="https"===location.protocol?1:0,g=i.isSec||0,h=i.sessionOption||"AutoLoginOnly",v=i.ecode||0,y=i.ext_headers||{},_=i.ext_querys||{};f=2*(p="undefined"!=typeof i.timer?parseInt(i.timer):"undefined"!=typeof i.timeout?parseInt(i.timeout):2e4);var b=Date.now();!0===i.needLogin&&"undefined"==typeof i.sessionOption&&(h="AutoLoginAndManualLogin"),"undefined"!=typeof i.secType&&"undefined"==typeof i.isSec&&(g=i.secType);var w={api:c,v:u,post:String(l),type:d,isHttps:String(m),ecode:String(v),isSec:String(g),param:JSON.parse(s),timer:p,needLogin:!!i.needLogin,sessionOption:h,ext_headers:y,ext_querys:_};i.ttid&&!0===a.dangerouslySetWVTtid&&(w.ttid=i.ttid),Object.assign&&i.dangerouslySetWindvaneParams&&Object.assign(w,i.dangerouslySetWindvaneParams);var C="MtopWVPlugin";return"string"==typeof i.customWindVaneClassName&&(C=i.customWindVaneClassName),t.windvane.call(C,"send",w,n,n,f),o.promise},f.prototype.__requestAlipay=function(t){var n=r(),o=this.params,i=this.options,a={apiName:o.api,apiVersion:o.v,needEcodeSign:"1"===String(o.ecode),headers:o.ext_headers||{},usePost:!!i.postJSON};c(o.data)||(o.data=JSON.parse(o.data)),a.data=o.data,o.ttid&&!0===i.dangerouslySetWVTtid&&(a.ttid=o.ttid),(i.getJSON||i.postJSON||i.getOriginalJSONP)&&(a.type="originaljson"),"undefined"!=typeof o.valueType&&("original"===o.valueType?a.type="originaljson":"string"===o.valueType&&delete a.type),!0===i.useJsonpResultType&&delete a.type,Object.assign&&o.dangerouslySetAlipayParams&&Object.assign(a,o.dangerouslySetAlipayParams);var s="mtop";return"string"==typeof o.customAlipayJSBridgeApi&&(s=o.customAlipayJSBridgeApi),e.AlipayJSBridge.call(s,a,function(e){i.results=[e],n.resolve()}),n.promise},f.prototype.__processRequest=function(e,t){var n=this;return m.then(function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return C?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")}).then(e).then(function(){var e=n.options,t=(n.params,e.results[0]),r=t&&t.ret||[];t.ret=r,r instanceof Array&&(r=r.join(","));var o=t.c;e.CDR&&o&&function(e,t,n){var r=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(r.domain?";domain="+r.domain:"")+(r.path?";path="+r.path:"")+(r.secure?";secure":"")+(r.httponly?";HttpOnly":"")+(r.sameSite?";Samesite="+r.sameSite:"")}(S,o,{domain:e.pageDomain,path:"/",secure:e.secure,sameSite:e.sameSite}),r.indexOf("SUCCESS")>-1?t.retType=b.SUCCESS:t.retType=b.ERROR,e.retJson=t})},f.prototype.__sequence=function(e){var t=this,n=[],o=[];e.forEach(function e(i){if(i instanceof Array)i.forEach(e);else{var a,s=r(),c=r();n.push(function(){return s=r(),(a=i.call(t,function(e){return s.resolve(e),c.promise},function(e){return s.reject(e),c.promise}))&&(a=a.catch(function(e){s.reject(e)})),s.promise}),o.push(function(e){return c.resolve(e),a})}});for(var i,a=m;i=n.shift();)a=a.then(i);for(;i=o.pop();)a=a.then(i);return a};var M=function(e){if(y.EtRequest){if(window.etSign)return window.__etReady=!0,void e();if(window.__etReady)e();else{a();var t,n,r=Number(y.EtLoadTimeout)||5e3,o=!1;window.etReady=function(){window.__etReady=!0,o||(o=!0,e())};var i=function(){t&&clearInterval(t),n&&clearTimeout(n),o||(o=!0,e())};t=setInterval(function(){try{window.etSign&&(window.__etReady=!0,i()),window.etReady&&!window.__etReady&&(window.etReady=function(){window.__etReady=!0,i()})}catch(e){i()}},100),n=setTimeout(function(){i()},r)}}else e()},E=function(e){e()};f.prototype.request=function(n){var r=this;if(this.options=o(n||{},y),!p){var i="当前浏览器不支持Promise，请在windows对象上挂载Promise对象";throw t.mtop={ERROR:i},new Error(i)}var a=p.resolve([M,E]).then(function(e){var t=e[0],n=e[1];return r.__sequence([t,r.__processRequestMethod,r.__processRequestType,r.__processToken,r.__processRequestUrl,r.middlewares,r.__processRequest,n])}).then(function(){var e=r.options.retJson;return e.retType!==b.SUCCESS?p.reject(e):r.options.successCallback?void r.options.successCallback(e):p.resolve(e)}).catch(function(e){var n;return e instanceof Error?(console.error(e.stack),n={ret:[e.message],stack:[e.stack],retJson:b.ERROR}):n="string"==typeof e?{ret:[e],retJson:b.ERROR}:void 0!==e?e:r.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:r.params.api,data:r.params.data,v:r.params.v,retJson:n}),r.options.failureCallback?void r.options.failureCallback(n):p.reject(n)});return this.__processRequestType(),r.options.H5Request&&(r.constructor.__firstProcessor||(r.constructor.__firstProcessor=a),M=function(e){r.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(n.pageDomain=n.pageDomain||function(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(e.location.hostname),n.mainDomain!==n.pageDomain&&(n.maxRetryTimes=4,n.CDR=!0)),this.__requestProcessor=a,a},t.mtop=function(e){return new f(e)},t.mtop.request=function(e,t,n){var r={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new f(e).request(r)},t.mtop.H5Request=function(e,t,n){var r={H5Request:!0,successCallback:t,failureCallback:n||t};return new f(e).request(r)},t.mtop.middlewares=_,t.mtop.config=y,t.mtop.RESPONSE_TYPE=b,t.mtop.CLASS=f}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function r(t,r,o){var i=navigator.userAgent.match(/.*(iPhone|iPad|Android|ios|SymbianOS|Windows Phone).*/i),a=i&&r.h5url?r.h5url:r.url,s=r.dialogSize;o=o||r.attributes;var c=this,u=e.dpr||1,l=document.createElement("div"),d=document.documentElement.getBoundingClientRect(),f=Math.max(d.width,window.innerWidth)/u,p=window.innerHeight/u;l.style.cssText=["-webkit-transform:scale("+u+") translateZ(0)","-ms-transform:scale("+u+") translateZ(0)","transform:scale("+u+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+f+"px","height:"+p+"px","z-index:2147483647","position: fixed","left:0","top:0px","background:"+(f>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var m=document.createElement("div");m.style.cssText=["width:100%","height:52px","background:transparent","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),m.innerText=t;var g=document.createElement("img");g.style.cssText=["display:block","position:absolute","margin-top:15px","right:0","top:0","height:15px","line-height:52px","padding:0 20px","color:#999"].join(";"),g.src="https://gw.alicdn.com/tfs/TB1QZN.CYj1gK0jSZFuXXcrHpXa-200-200.png";var h=document.createElement("iframe");if(h.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),i)m.appendChild(g),l.appendChild(m);else{var v=s&&s.width||"420px",y=s&&s.height||"320px",_=50,b=50,w=24,C=-39;y.indexOf("px")>-1?w-=Number(y.replace("px",""))/2:y.indexOf("%")>-1&&(_-=Number(y.replace("%",""))/2),v.indexOf("px")>-1?C+=Number(v.replace("px",""))/2:v.indexOf("%")>-1&&(b+=Number(v.replace("%",""))/2),g.style.cssText=["position:absolute","width:15px","height:15px","top:"+_+"%","left:"+b+"%","cursor: pointer","border:0","z-index:1","overflow:hidden","margin-top:"+w+"px","margin-left:"+C+"px"].join(";"),l.appendChild(g),h.style.cssText=["position:absolute","top:0px","left:0px","bottom:0px","right:0px","margin:auto","width:"+v,"height:"+y,"border:0","background:#FFF","overflow:hidden","border-radius:18px"].join(";"),o&&o.style&&(h.style.cssText+=o.style,delete o.style)}if(o)try{o.style&&delete o.style,Object.keys(o).forEach(function(e){h.setAttribute(e,o[e])})}catch(e){}l.appendChild(h),l.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(l),h.src=a,g.addEventListener("click",function(){c.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),l.dispatchEvent(e)},!1),this.addEventListener=function(){l.addEventListener.apply(l,arguments)},this.removeEventListener=function(){l.removeEventListener.apply(l,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),l.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-d.top),l.parentNode&&l.parentNode.removeChild(l)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop 初始化失败！");var o=e.Promise,i=t.mtop.CLASS,a=t.mtop.config,s=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push(function(e){var n=this,r=this.options,o=this.params;return e().then(function(){var e=r.retJson,i=e.ret,c=navigator.userAgent.toLowerCase(),u=c.indexOf("safari")>-1&&c.indexOf("chrome")<0&&c.indexOf("qqbrowser")<0;if(i instanceof Array&&(i=i.join(",")),(i.indexOf("SESSION_EXPIRED")>-1||i.indexOf("SID_INVALID")>-1||i.indexOf("AUTH_REJECT")>-1||i.indexOf("NEED_LOGIN")>-1)&&(e.retType=s.SESSION_EXPIRED,!r.WindVaneRequest&&(!0===a.LoginRequest||!0===r.LoginRequest||!0===o.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::缺少lib.login");var l={apiReferer:o.api+":"+o.v};if(!0!==r.safariGoLogin||!u||"taobao.com"===r.pageDomain)return t.login.goLoginAsync(l).then(function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}).catch(function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::用户取消登录"):new Error("LOGIN_FAILURE::用户登录失败")});t.login.goLogin(l)}})}),t.mtop.loginRequest=function(e,t,n){var r={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.antiFloodRequest=function(e,t,n){var r={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.middlewares.push(function(e){var t=this.options;return this.params,!0!==t.H5Request||!0!==a.AntiFlood&&!0!==t.AntiFlood?void e():e().then(function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)})}),t.mtop.antiCreepRequest=function(e,t,n){var r={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.middlewares.push(function(t){var n=this,i=this.options,s=this.params;return!1!==i.AntiCreep&&(i.AntiCreep=!0),!0!==s.forceAntiCreep&&!0!==i.H5Request||!0!==a.AntiCreep&&!0!==i.AntiCreep?void t():t().then(function(){var t=i.retJson,a=t.ret;if(a instanceof Array&&(a=a.join(",")),a.indexOf("CHECKJS_FLAG")>-1&&t.uuid&&t.serid){try{var c=!!window.document._sufei_data2,u=new Image,l="https://fourier.taobao.com/ts?ext=200&uuid="+t.uuid+"&serid="+t.serid+"&sufei="+c;window.location&&location.href&&(l+="&href=="+location.href.substr(0,128)),window.__fyModule&&(l+="&fyModuleLoad="+window.__fyModule.load+"&fyModuleInit="+window.__fyModule.init),window.__umModule&&(l+="&umModuleLoad="+window.__umModule.load+"&umModuleInit="+window.__umModule.init),window.__uabModule&&(l+="&uabModuleLoad="+window.__uabModule.load+"&uabModuleInit="+window.__uabModule.init),window.__ncModule&&(l+="&ncModuleLoad="+window.__ncModule.load+"&ncModuleInit="+window.__ncModule.init),window.__nsModule&&(l+="&nsModuleLoad="+window.__nsModule.load+"&nsModuleInit="+window.__nsModule.init),window.__etModule&&(l+="&etModuleLoad="+window.__etModule.load+"&etModuleInit="+window.__etModule.init),u.src=l,document.body.appendChild(u)}catch(e){console.log(e,"上报异常")}return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}if(a.indexOf("RGV587_RUN_SCRIPT::SM")>-1)return new o(function(e,r){try{var o=n;o.resend=function(){n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(e)},o.resolve=e,o.reject=r,o.timer=setTimeout(function(){clearTimeout(o.timer),o.timer=null,o.resend()},2e3);var i=document.createElement("script");i.src=t.data.url,i.crossOrigin=!0,i.async=!0,i.onerror=function(){o.resend()};var a=!1;i.onload=i.onreadystatechange=function(){a||i.readyState&&!/loaded|complete/.test(i.readyState)||(i.onload=i.onreadystatechange=null,a=!0,window._bxPunishFun&&"function"==typeof window._bxPunishFun&&window._bxPunishFun(o),t.data.async||(clearTimeout(o.timer),o.timer=null,o.resend()))},(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(i)}catch(e){r("SCRIPT_RUN_ERROR::执行失败")}});if((a.indexOf("RGV587_ERROR::SM")>-1||a.indexOf("ASSIST_FLAG")>-1)&&t.data.url){if("object"==typeof i.bxOption&&"new"===i.bxOption["bx-"+t.action]){var d=t.data.url+"&x5referer="+encodeURIComponent(location.href);return location.href=d,new o(function(){})}var f="_m_h5_smt",p=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(f),m=!1;if(!0===i.saveAntiCreepToken&&p)for(var g in p=JSON.parse(p))s[g]&&(m=!0);if(!0===i.saveAntiCreepToken&&p&&!m){for(var g in p)s[g]=p[g];return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}return new o(function(o,a){function c(){l.removeEventListener("close",c),e.removeEventListener("message",u),a("USER_INPUT_CANCEL::用户取消输入")}function u(t){var r;try{r=JSON.parse(t.data)||{}}catch(e){}if(r&&"child"===r.type){var d;l.removeEventListener("close",c),e.removeEventListener("message",u),l.hide();try{for(var p in"string"==typeof(d=JSON.parse(decodeURIComponent(r.content)))&&(d=JSON.parse(d)),d)s[p]=d[p];!0===i.saveAntiCreepToken?(document.cookie=f+"="+JSON.stringify(d)+";",e.location.reload()):n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(o)}catch(e){a("USER_INPUT_FAILURE::用户输入失败")}}}var l=new r("",t.data,t.attributes);l.addEventListener("close",c,!1),e.addEventListener("message",u,!1),t.data.dialogHide||l.show()})}})})}(window,window.lib||(window.lib={}))},function(e,t,n){e.exports=function(e){function t(e){let n,o,i,a=null;function s(...e){if(!s.enabled)return;const r=s,o=Number(new Date),i=o-(n||o);r.diff=i,r.prev=n,r.curr=o,n=o,e[0]=t.coerce(e[0]),"string"!==typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,o)=>{if("%%"===n)return"%";a++;const i=t.formatters[o];if("function"===typeof i){const t=e[a];n=i.call(r,t),e.splice(a,1),a--}return n}),t.formatArgs.call(r,e);(r.log||t.log).apply(r,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=r,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{a=e}}),"function"===typeof t.init&&t.init(s),s}function r(e,n){const r=t(this.namespace+("undefined"===typeof n?":":n)+e);return r.log=this.log,r}function o(e,t){let n=0,r=0,o=-1,i=0;for(;n<e.length;)if(r<t.length&&(t[r]===e[n]||"*"===t[r]))"*"===t[r]?(o=r,i=n,r++):(n++,r++);else{if(-1===o)return!1;r=o+1,i++,n=i}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"===typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const e of n)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const n of t.skips)if(o(e,n))return!1;for(const n of t.names)if(o(e,n))return!0;return!1},t.humanize=n(661),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,a=7*i,s=365.25*i;function c(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*a;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*o;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return c(e,t,i,"day");if(t>=o)return c(e,t,o,"hour");if(t>=r)return c(e,t,r,"minute");if(t>=n)return c(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"isWeb",function(){return o}),n.d(t,"isNode",function(){return i}),n.d(t,"isWeex",function(){return a}),n.d(t,"isKraken",function(){return s}),n.d(t,"isMiniApp",function(){return c}),n.d(t,"isByteDanceMicroApp",function(){return u}),n.d(t,"isBaiduSmartProgram",function(){return l}),n.d(t,"isKuaiShouMiniProgram",function(){return d}),n.d(t,"isWeChatMiniProgram",function(){return f}),n.d(t,"isQuickApp",function(){return p}),n.d(t,"isPHA",function(){return m}),n.d(t,"isFRM",function(){return g}),n.d(t,"isWindVane",function(){return v});var o="undefined"!==typeof window&&"onload"in window,i="undefined"!==typeof e&&!(!e.versions||!e.versions.node),a="undefined"!==typeof WXEnvironment&&"Web"!==WXEnvironment.platform,s="undefined"!==typeof __kraken__,c="undefined"!==typeof my&&null!==my&&"undefined"!==typeof my.alert,u="undefined"!==typeof tt&&null!==tt&&"undefined"!==typeof tt.showToast,l="undefined"!==typeof swan&&null!==swan&&"undefined"!==typeof swan.showToast,d="undefined"!==typeof ks&&null!==ks&&"undefined"!==typeof ks.showToast,f=!u&&"undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||"undefined"!==typeof wx.miniProgram),p="undefined"!==typeof r&&null!==r&&"undefined"!==typeof r.callNative&&!a,m=o&&"object"===typeof pha,g=c&&o&&my.isFRM,h="object"===typeof navigator?navigator.userAgent||navigator.swuserAgent:"",v=/.+AliApp\((\w+)\/((?:\d+\.)+\d+)\).* .*(WindVane)(?:\/((?:\d+\.)+\d+))?.*/.test(h)&&o&&"undefined"!==typeof WindVane&&"undefined"!==typeof WindVane.call;t.default={isWeb:o,isNode:i,isWeex:a,isKraken:s,isMiniApp:c,isByteDanceMicroApp:u,isBaiduSmartProgram:l,isKuaiShouMiniProgram:d,isWeChatMiniProgram:f,isQuickApp:p,isPHA:m,isWindVane:v,isFRM:g}}.call(this,n(7),n(9))},function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"isWeb",function(){return o}),n.d(t,"isNode",function(){return i}),n.d(t,"isWeex",function(){return a}),n.d(t,"isKraken",function(){return s}),n.d(t,"isMiniApp",function(){return c}),n.d(t,"isByteDanceMicroApp",function(){return u}),n.d(t,"isBaiduSmartProgram",function(){return l}),n.d(t,"isKuaiShouMiniProgram",function(){return d}),n.d(t,"isWeChatMiniProgram",function(){return f}),n.d(t,"isQuickApp",function(){return p}),n.d(t,"isPHA",function(){return m}),n.d(t,"isFRM",function(){return g}),n.d(t,"isWindVane",function(){return v});var o="undefined"!==typeof window&&"onload"in window,i="undefined"!==typeof e&&!(!e.versions||!e.versions.node),a="undefined"!==typeof WXEnvironment&&"Web"!==WXEnvironment.platform,s="undefined"!==typeof __kraken__,c="undefined"!==typeof my&&null!==my&&"undefined"!==typeof my.alert,u="undefined"!==typeof tt&&null!==tt&&"undefined"!==typeof tt.showToast,l="undefined"!==typeof swan&&null!==swan&&"undefined"!==typeof swan.showToast,d="undefined"!==typeof ks&&null!==ks&&"undefined"!==typeof ks.showToast,f=!u&&"undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||"undefined"!==typeof wx.miniProgram),p="undefined"!==typeof r&&null!==r&&"undefined"!==typeof r.callNative&&!a,m=o&&"object"===typeof pha,g=c&&o&&my.isFRM,h="object"===typeof navigator?navigator.userAgent||navigator.swuserAgent:"",v=/.+AliApp\((\w+)\/((?:\d+\.)+\d+)\).* .*(WindVane)(?:\/((?:\d+\.)+\d+))?.*/.test(h)&&o&&"undefined"!==typeof WindVane&&"undefined"!==typeof WindVane.call;t.default={isWeb:o,isNode:i,isWeex:a,isKraken:s,isMiniApp:c,isByteDanceMicroApp:u,isBaiduSmartProgram:l,isKuaiShouMiniProgram:d,isWeChatMiniProgram:f,isQuickApp:p,isPHA:m,isWindVane:v,isFRM:g}}.call(this,n(7),n(9))},function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"isWeb",function(){return o}),n.d(t,"isNode",function(){return i}),n.d(t,"isWeex",function(){return a}),n.d(t,"isKraken",function(){return s}),n.d(t,"isMiniApp",function(){return c}),n.d(t,"isByteDanceMicroApp",function(){return u}),n.d(t,"isBaiduSmartProgram",function(){return l}),n.d(t,"isKuaiShouMiniProgram",function(){return d}),n.d(t,"isWeChatMiniProgram",function(){return f}),n.d(t,"isQuickApp",function(){return p}),n.d(t,"isPHA",function(){return m}),n.d(t,"isFRM",function(){return g}),n.d(t,"isWindVane",function(){return v});var o="undefined"!==typeof window&&"onload"in window,i="undefined"!==typeof e&&!(!e.versions||!e.versions.node),a="undefined"!==typeof WXEnvironment&&"Web"!==WXEnvironment.platform,s="undefined"!==typeof __kraken__,c="undefined"!==typeof my&&null!==my&&"undefined"!==typeof my.alert,u="undefined"!==typeof tt&&null!==tt&&"undefined"!==typeof tt.showToast,l="undefined"!==typeof swan&&null!==swan&&"undefined"!==typeof swan.showToast,d="undefined"!==typeof ks&&null!==ks&&"undefined"!==typeof ks.showToast,f=!u&&"undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||"undefined"!==typeof wx.miniProgram),p="undefined"!==typeof r&&null!==r&&"undefined"!==typeof r.callNative&&!a,m=o&&"object"===typeof pha,g=c&&o&&my.isFRM,h="object"===typeof navigator?navigator.userAgent||navigator.swuserAgent:"",v=/.+AliApp\((\w+)\/((?:\d+\.)+\d+)\).* .*(WindVane)(?:\/((?:\d+\.)+\d+))?.*/.test(h)&&o&&"undefined"!==typeof WindVane&&"undefined"!==typeof WindVane.call;t.default={isWeb:o,isNode:i,isWeex:a,isKraken:s,isMiniApp:c,isByteDanceMicroApp:u,isBaiduSmartProgram:l,isKuaiShouMiniProgram:d,isWeChatMiniProgram:f,isQuickApp:p,isPHA:m,isWindVane:v,isFRM:g}}.call(this,n(7),n(9))},function(e,t,n){var r=n(110);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(667),o=n(112),i=n(109),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){var r=n(668),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){"use strict";(function(e){var r=n(670),o=n(671),i=n(672);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(t,n);e=s(e,r);var o=e.write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function h(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var d=!0,f=0;f<c;f++)if(u(e,i+f)!==u(t,f)){d=!1;break}if(d)return i}return-1}function _(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return V(q(t,e.length-n),e,n,r)}function w(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function C(e,t,n,r){return w(e,t,n,r)}function T(e,t,n,r){return V(G(t),e,n,r)}function S(e,t,n,r){return V(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function N(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,c,u=e[o],l=null,d=u>239?4:u>223?3:u>191?2:1;if(o+d<=n)switch(d){case 1:u<128&&(l=u);break;case 2:128===(192&(i=e[o+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=e[o+1],a=e[o+2],128===(192&i)&&128===(192&a)&&(c=(15&u)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128===(192&i)&&128===(192&a)&&128===(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=d}return function(e){var t=e.length;if(t<=M)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=M));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?N(this,0,e):g.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n),d=0;d<s;++d)if(u[d]!==l[d]){i=u[d],a=l[d];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function E(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=B(e[i]);return o}function A(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function I(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function U(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,i){return i||U(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,i){return i||U(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var o=t-e;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=c.isBuffer(e)?e:q(new c(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(9))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=16383,s=0,c=n-o;s<c;s+=a)i.push(l(e,s,s+a>c?c:s+a));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function l(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(u(r));return o.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=f,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=u}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,d=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,m=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=m,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+p]=255&a,p+=m,a/=256,u-=8);e[n+p-m]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(48)),i=r(n(20)),a=r(n(104)),s=n(133),c=n(55),u=n(72),l=n(101);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=(0,s.createI18N)({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","onepage.ma")}),m=(0,s.createI18N)({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger.list")}),g=Object.prototype.toString,h={convertDate:function(e){if(e){var t=(0,a.default)().format("YYYY-MM-DD HH:mm"),n=(0,a.default)(e).format("YYYY-MM-DD HH:mm");return t===n?(0,a.default)(e).format("HH:mm"):n}return""},decodeHTML:function(e){return(0,c.decodeHTML)(e)},_decodeHtml:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},encodeHTML:function(e){return(0,c.encodeHTML)(e)},getFileEtx:function(e,t){var n="";"xlsx"===(n=-1!==t.lastIndexOf(".")&&t.lastIndexOf(".")!==t.length-1?t.substring(t.lastIndexOf(".")+1).toLowerCase():-1!==e.lastIndexOf(".")?e.substring(e.lastIndexOf(".")+1,e.lastIndexOf("?")):"attachment")&&(n="xls"),"docx"===n&&(n="doc"),"jpg"===n&&(n="jpeg");return{xls:!0,xlsx:!0,txt:!0,rar:!0,zip:!0,pdf:!0,doc:!0,docx:!0,gif:!0,jpg:!0,jpeg:!0,bmp:!0,tif:!0,png:!0}[n]||(n="attachment"),n},prefixString:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return function(n){if(void 0===n||null===n)return e+n;var r=t[n];return void 0===r&&(r=e+n,t[n]=r),r}},formatNumber:function(e){return e<10?"0".concat(e):e},timeSince:function(e){"object"!==(0,i.default)(e)&&(e=new Date(e));var t=Math.floor((new Date-e)/1e3),n="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate());if(t>86400)return n;var r=new Date;t-=(r.getTime()-new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime())/1e3;var o=Math.ceil(t/86400),a=h.formatNumber(e.getHours()),s=h.formatNumber(e.getMinutes()),c="".concat(a,":").concat(s);return 1===o?n:"".concat(c)},mergeObjects:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return f(f({},e),t)},{})},isString:function(e){return"string"===typeof e},isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===g.call(e)},parseArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return h.isArray(e)?e:[e]},arrayIncludes:function(e,t){return!!e&&-1!==e.indexOf(t)},getI18NEntryValue:function(e,t){return t?p.get("".concat(t,".").concat(e)):p.get(e)},newGetI18NEntryValueWithPrefix:function(e){return function(t){return h.getI18NEntryValue(t,e)}},htmlDecode:function(e){var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue},getParamsFromUrl:function(){for(var e=window.location.search.slice(1).split("&"),t=0;t<e.length;t++){var n=e[t].split("=");if("urlParams"===n[0])return JSON.parse(decodeURIComponent(n[1]))}return{}},getUrlVars:function(){return(0,c.getLinkVars)(window.location.search)},getLinkVars:function(e){return(0,c.getLinkVars)(e)},heartbeat:function(){var e=null;(e=document.createElement("script")).type="text/javascript",document.head.appendChild(e),setInterval(function(){e.src="//".concat(l.LOGIN_DOMAIN,"/xlogin/relay.htm?_=").concat(Date.now())},3e5)},formatMsgType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";switch(e=this.decodeHTML(e),t){case 1:return e.match("<img src=")?"[".concat(m.get("content.image")||"Image").concat(n,"]"):e;case 2:case 60:return"[".concat(m.get("content.image")||"Image").concat(n,"]");case 3:case 53:case 61:return"[".concat(m.get("content.file")||"File").concat(n,"]");case 4:return"[".concat(m.get("content.audio")||"Audio").concat(n,"]");case 5:case 62:return"[".concat(m.get("content.video")||"Video").concat(n,"]");case 50:return"[".concat(m.get("content.inquiry")||"Inquiry").concat(n,"]");case 52:case 2001:return"[".concat(m.get("content.quotation")||"Quotation").concat(n,"]");case 54:return"[".concat(m.get("content.product")||"Product").concat(n,"]");case 55:return"[".concat(m.get("content.company")||"Company").concat(n,"]");case 56:return"[".concat(m.get("content.behavior")||"Behavior").concat(n,"]");case 57:case 65:case 66:return"[".concat(m.get("content.businessCard")||"Business card").concat(n,"]");case 58:return"[".concat(m.get("content.ta")||"TA").concat(n,"]");case 59:return"[".concat(m.get("content.tradeAssurance")||"Trade Assurance").concat(n,"]");case 63:return"[".concat(m.get("content.text")||"Text").concat(n,"]");case 64:return"[".concat(m.get("content.orderTracking")||"Order Tracking").concat(n,"]");case 2e3:return"[".concat(m.get("content.product")||"Products").concat(n,"]");case 2002:return"[".concat(m.get("content.ta")||"Order").concat(n,"]");default:return"[".concat(m.get("content.message")||"Message").concat(n,"]")}},getUserInfo:function(){return{accountId:(0,u.getAccountId)(),loginId:(0,u.getLoginId)()}},getBrowser:function(){return(0,c.getBrowser)()},getAccountId:function(){return(0,u.getAccountId)()}};t.default=h},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return v});var r=n(76),o=n.n(r),i=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&d(e,n,t[n]);if(c)for(var n of c(t))l.call(t,n)&&d(e,n,t[n]);return e};let p=null;const m={init:e=>{try{return p||(p=new MutationObserver(((e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e&&e()},t)}})(e,100))),m}catch(e){console.log(e)}},start:()=>{try{p&&p.observe(document.body,{childList:!0,subtree:!0})}catch(e){console.log(e)}},stop:()=>{}},g=({queueArrayNormal:e,queueArrayEmpty:t})=>{try{v.mcmsAppnames.length&&v.mcmsAppnames.forEach(n=>{const r=[],o=[];var i,c;Array.isArray(e)&&e.length&&e.forEach(e=>{(n===v.config.mcmsAppname&&!e.mcmsAppname||e.mcmsAppname===n)&&r.push(e.key)}),Array.isArray(t)&&t.length&&t.forEach(e=>{(n===v.config.mcmsAppname&&!e.mcmsAppname||e.mcmsAppname===n)&&o.push(e.key)}),(r.length||o.length)&&(e=>{try{if(null==window?void 0:window.__server__)return;const t=[];for(const n in e)"object"===typeof e[n]?t.push(`${n}=${JSON.stringify(e[n])}`):t.push(`${n}=${String(e[n])}`);let n=new Image;n.src=`https://sc-assets-trade.cn-beijing.log.aliyuncs.com/logstores/intl_trace/track?APIVersion=0.6.0&__topic__=intl_trace-log&${t.join("&")}`,n.onload=()=>{n=null}}catch(e){console.log(e)}})({queueArrayNormal:r,queueArrayEmpty:o,config:(i=f({},v.config),c={mcmsAppname:n},a(i,s(c)))})})}catch(e){console.log(e)}},h=()=>{if(v.queueArrayNormal.length||v.queueArrayEmpty.length)try{for(;v.queueArrayNormal.length>20||v.queueArrayEmpty.length>20;){const e=v.queueArrayNormal.splice(0,20),t=v.queueArrayEmpty.splice(0,20);g({queueArrayNormal:e,queueArrayEmpty:t})}g({queueArrayNormal:v.queueArrayNormal,queueArrayEmpty:v.queueArrayEmpty}),v.queueArrayNormal=[],v.queueArrayEmpty=[]}catch(e){console.log(e)}},v={config:{},queueArrayNormal:[],queueArrayEmpty:[],totalArray:[],totalEmptyArray:[],mcmsAppnames:[],setready:e=>{try{const t=(new Date).getTime(),n=o.a.getMemberSeq()||t;!Object.keys(v.config).length&&e.defaultMcmsAppname&&parseInt(`${n}`.slice(-2),10)<(e.sampleRate||10)&&(v.config={sceneName:window.location.origin+window.location.pathname||"",locale:o.a.getLocale().toLocaleLowerCase()||"",mcmsAppname:e.defaultMcmsAppname,serviceType:o.a.getServiceType()||""},e.defaultMcmsAppname&&!v.mcmsAppnames.includes(e.defaultMcmsAppname)&&v.mcmsAppnames.push(e.defaultMcmsAppname),"ifm"===o.a.getServiceType()&&(v.config.locale=o.a.getBuyerLocale()||""),e.lang&&(v.config.locale=e.lang),m.init(h),m.start()),e.mcmsAppname&&!v.mcmsAppnames.includes(e.mcmsAppname)&&v.mcmsAppnames.push(e.mcmsAppname)}catch(e){console.log(e)}},pushQueue:(e,t="normal",n="")=>{try{if(n&&!v.mcmsAppnames.includes(n)&&v.mcmsAppnames.push(n),v.totalArray.includes(e)){if("normal"===t&&v.totalEmptyArray.length){const t=v.totalEmptyArray.filter(t=>t!==e);t.length!==v.totalEmptyArray.length&&(v.totalEmptyArray=t,v.queueArrayNormal.push({key:e,mcmsAppname:n}))}}else v.totalArray.push(e),"normal"===t?v.queueArrayNormal.push({key:e,mcmsAppname:n}):(v.queueArrayEmpty.push({key:e,mcmsAppname:n}),v.totalEmptyArray.push(e))}catch(e){console.log(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(676),a=(r=i)&&r.__esModule?r:{default:r};var s={},c=function(e){this.initAttrs(e)};c.prototype={attrs:{isLoggedIn:!1,isNewUser:!1,isFirstIn:!0,country:"",firstName:"",lastName:"",serviceType:"",memberSeq:"",locale:"",buyerLocale:"",buyerSite:"",buyerCurrency:""},get:function(e){return this._attrs[e]},set:function(e,t){this._attrs[e]=t},initAttrs:function(e){this._attrs=o(this.attrs,e||{})},setup:function(){var e={};if(a.default.get("xman_us_f"))for(var t=a.default.get("xman_us_f").split("&"),n=t.length;n--;){var r=t[n].split("=");e[r[0]]=r[1]}var o=a.default.get("xman_us_t"),i=a.default.get("xman_us_f"),s=/x_user=([^&"]+)/;o&&-1!==o.indexOf("sign=y")?this.set("isLoggedIn",!0):this.set("isLoggedIn",!1),i&&s.test(i)&&(i.match(s),(i=(i=RegExp.$1).split("|")).length>=5&&(this.set("country",i[0]),this.set("firstName",i[1].replace(/</g,"&lt;").replace(/>/g,"&gt;")),this.set("lastName",i[2].replace(/</g,"&lt;").replace(/>/g,"&gt;")),this.set("serviceType",i[3]),this.set("memberSeq",i[4])));var c=a.default.get("sc_g_cfg_f"),u={};if("string"==typeof c&&""!=c){for(var l=c.split("&"),d=l.length;d--;){var f=l[d].split("=");u[f[0]]=f[1]}this.set("buyerLocale",u.sc_b_locale),this.set("buyerSite",u.sc_b_site),this.set("buyerCurrency",u.sc_b_currency)}return""!==this.get("memberSeq")&&this.set("isNewUser",!0),""===a.default.get("ali_intl_firstIn")&&this.set("isFirstIn",!0),this.set("locale",e.x_locale||a.default.get("intl_locale")||"en_US"),this}},s=(new c).setup();var u=function(){var e=!0;return""!==s.get("memberSeq")&&(s.set("isNewUser",!1),e=!1),e};t.default={isLoggedIn:s.get("isLoggedIn"),isNewUser:u(),isFirstIn:s.get("isFirstIn"),country:s.get("country"),firstName:s.get("firstName"),lastName:s.get("lastName"),serviceType:s.get("serviceType"),memberSeq:s.get("memberSeq"),serverDomain:function(){var e;return s.setup(),e=s.get("serviceType"),["gs","cgs","twgs","hkgs","cnfm"].indexOf(e)>-1?"hz":"us"},getIsLoggedIn:function(){return s.setup(),s.get("isLoggedIn")},getIsNewUser:function(){return s.setup(),u()},getCountry:function(){return s.setup(),s.get("country")},getFirstName:function(){return s.setup(),s.get("firstName")},getLastName:function(){return s.setup(),s.get("lastName")},getServiceType:function(){return s.setup(),s.get("serviceType")},getMemberSeq:function(){return s.setup(),s.get("memberSeq")},getLocale:function(){return s.setup(),s.get("locale")},getIPData:function(e){s.getIPData(e)},getCNA:function(){return a.default.get("cna")},getCookie:function(e){return a.default.get(e)},getMemberId:function(){var e=a.default.get("ali_apache_track"),t="";return"string"===typeof e&&(e.match(/mid=([^&"]+)/),t=RegExp.$1),t},getBuyerLocale:function(){return s.setup(),s.get("buyerLocale")},getBuyerCurrency:function(){return s.setup(),s.get("buyerCurrency")},getBuyerSite:function(){return s.setup(),s.get("buyerSite")},getIsOversea:function(){var e=!0,t=a.default.get("xman_us_f");return t&&-1!==t.indexOf("x_l=1")&&(e=!1),t&&-1!==t.indexOf("x_l=0")&&(e=!0),e}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},o=decodeURIComponent,i=encodeURIComponent;function a(e){return"string"===typeof e}function s(e){return a(e)&&""!==e}function c(e){if(!s(e))throw new TypeError("Cookie name must be a non-empty string")}function u(e){return e}r.get=function(e,t){c(e),t="function"===typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(a(e)&&e.length>0)for(var r,i,s,c=t?o:u,l=e.split(/;\s/g),d=0,f=l.length;d<f;d++){if((s=l[d].match(/([^=]+)=/i))instanceof Array)try{r=o(s[1]),i=c(l[d].substring(s[1].length+1))}catch(e){}else r=o(l[d]),i="";r&&(n[r]=i)}return n}(document.cookie,!t.raw);return(t.converter||u)(n[e])},r.set=function(e,t,n){c(e);var r=(n=n||{}).expires,o=n.domain,a=n.path;n.raw||(t=i(String(t)));var u=e+"="+t,l=r;return"number"===typeof l&&(l=new Date).setDate(l.getDate()+r),l instanceof Date&&(u+="; expires="+l.toUTCString()),s(o)&&(u+="; domain="+o),s(a)&&(u+="; path="+a),n.secure&&(u+="; secure"),document.cookie=u,u},r.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)},t.default=r,e.exports=t.default},function(e,t,n){"use strict";n.r(t);var r=n(35);t.default=r.EmotionUtil},function(e,t,n){var r=n(92),o=n(108),i=n(679),a=n(680);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(681),o=n(108);e.exports=function(e,t,n){if(r())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var a=new(e.bind.apply(e,i));return n&&o(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(e.exports=n=function(){return!!t},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){n(683)("fetch"),e.exports=n(138)},function(e,t,n){e.exports=function(e){}},function(e,t){"undefined"===typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(e,t){function n(){var e={},t=new f(function(t,n){e.resolve=t,e.reject=n});return e.promise=t,e}function r(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function o(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}function i(){if(window.etSign)window.__etReady=!0;else{window.etReady=function(){window.__etReady=!0};var e=document.createElement("script");e.id="aplus-sufei",e.src="//g.alicdn.com/secdev/entry/index.js",o(e)}}function a(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function s(e){return"[object Object]"=={}.toString.call(e)}function c(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function u(e,t,n){var r=new Date;r.setTime(r.getTime()-864e5);document.cookie=e+"=;path=/;domain=."+t+";expires="+r.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+r.toGMTString()}function l(e,t){for(var n=e.split("."),r=t.split("."),o=0;3>o;o++){var i=Number(n[o]),a=Number(r[o]);if(i>a)return 1;if(a>i)return-1;if(!isNaN(i)&&isNaN(a))return 1;if(isNaN(i)&&!isNaN(a))return-1}return 0}function d(e){this.id=""+(new Date).getTime()+ ++_,this.params=r(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=g.slice(0)}var f=e.Promise,p=(f||{resolve:function(){}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var m={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},g=[],h={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var r=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),o=t.match(r)||[],i=o[2]||"taobao.com",a=o[1]||"m";"taobao.net"!==i||"x"!==a&&"waptest"!==a&&"daily"!==a?"taobao.net"===i&&"demo"===a?a="demo":"alibaba-inc.com"===i&&"zebra"===a?a="zebra":"waptest"!==a&&"wapa"!==a&&"m"!==a&&(a="m"):a="waptest";var s="h5api";"taobao.net"===i&&"waptest"===a&&(s="acs"),m.mainDomain=i,m.subDomain=a,m.prefix=s})(),function(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(m.WindVaneVersion=n[1]);var r=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);r&&(m.AliAppName=r[1],m.AliAppVersion=r[2]);var o=t.match(/AMapClient\/([\d\.\_]+)/i);o&&(m.AliAppName="AMAP",m.AliAppVersion=o[1])}();var v=/[Android|Adr]/.test(e.navigator.userAgent),y="AP"===m.AliAppName&&l(m.AliAppVersion,"10.1.2")>=0||"KB"===m.AliAppName&&l(m.AliAppVersion,"7.1.62")>=0||v&&"AMAP"===m.AliAppName&&l(m.AliAppVersion,"1.0.1")>=0,_=0;d.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},d.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},d.prototype.__processRequestType=function(n){var r=this,o=this.params,i=this.options;if(!0===m.H5Request&&(i.H5Request=!0),!0===m.WindVaneRequest&&(i.WindVaneRequest=!0),!1===i.H5Request&&!0===i.WindVaneRequest){if(!y&&(!t.windvane||parseFloat(i.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");if(y&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===i.H5Request)i.WindVaneRequest=!1;else if("undefined"==typeof i.WindVaneRequest&&"undefined"==typeof i.H5Request){if(t.windvane&&parseFloat(i.WindVaneVersion)>=5.4?i.WindVaneRequest=!0:i.H5Request=!0,y){if(i.WindVaneRequest=i.H5Request=void 0,e.AlipayJSBridge)if(s(o.data))i.WindVaneRequest=!0;else try{s(JSON.parse(o.data))?i.WindVaneRequest=!0:i.H5Request=!0}catch(e){i.H5Request=!0}else i.H5Request=!0;"AMAP"!==m.AliAppName||o.useNebulaJSbridgeWithAMAP||(i.WindVaneRequest=i.H5Request=void 0,i.H5Request=!0)}window.self!==window.top&&(i.H5Request=!0)}var a=e.navigator.userAgent.toLowerCase();return a.indexOf("youku")>-1&&i.mainDomain.indexOf("youku.com")<0&&(i.WindVaneRequest=!1,i.H5Request=!0),i.mainDomain.indexOf("youku.com")>-1&&a.indexOf("youku")<0&&(i.WindVaneRequest=!1,i.H5Request=!0),n?n().then(function(){var e=i.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===i.WindVaneRequest&&y&&i.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!y||!isNaN(i.retJson.error)||-1!==i.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return y&&s(o.data)&&(o.data=JSON.stringify(o.data)),m.H5Request=!0,r.__sequence([r.__processRequestType,r.__processToken,r.__processRequestUrl,r.middlewares,r.__processRequest]);"undefined"==typeof i.retJson.api&&"undefined"==typeof i.retJson.v&&(i.retJson.api=o.api,i.retJson.v=o.v,i.retJson.ret=[i.retJson.error+"::"+i.retJson.errorMessage],i.retJson.data={})}}):void 0};var b="_m_h5_c",w="_m_h5_tk";d.prototype.__getTokenFromAlipay=function(){var t=n(),r=this.options,o=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===r.useAlipayJSBridge&&!o&&y&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",function(e){e&&e.token&&(r.token=e.token),t.resolve()},function(){t.resolve()}):t.resolve(),t.promise},d.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&c(b)?e.token=c(b).split(";")[0]:e.token=e.token||c(w),e.token&&(e.token=e.token.split("_")[0]),f.resolve()},d.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},d.prototype.__processToken=function(e){var t=this,n=this.options;return this.params,n.token&&delete n.token,!0!==n.WindVaneRequest?p.then(function(){return t.__getTokenFromAlipay()}).then(function(){return t.__getTokenFromCookie()}).then(e).then(function(){var e=n.retJson,r=e.ret;if(r instanceof Array&&(r=r.join(",")),r.indexOf("TOKEN_EMPTY")>-1||(!0===n.CDR||!0===n.syncCookieMode)&&r.indexOf("ILLEGAL_ACCESS")>-1||r.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes){var o=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(!0===n.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){o=[function(e){var n=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(n).catch(n):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(o)}n.maxRetryTimes>0&&(u(b,n.pageDomain,"*"),u(w,n.mainDomain,n.subDomain),u("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=h.TOKEN_EXPIRED}}):void e()},d.prototype.__processRequestUrl=function(t){var n=this.params,r=this.options;if(r.hostSetting&&r.hostSetting[e.location.hostname]){var o=r.hostSetting[e.location.hostname];o.prefix&&(r.prefix=o.prefix),o.subDomain&&(r.subDomain=o.subDomain),o.mainDomain&&(r.mainDomain=o.mainDomain)}if(!0===r.H5Request){var a="//"+(r.prefix?r.prefix+".":"")+(r.subDomain?r.subDomain+".":"")+r.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",s=n.appKey||("waptest"===r.subDomain?"4272":"12574478"),c=(new Date).getTime(),u=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,o,i,a;return o=2147483648&e,i=2147483648&t,a=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^a^o^i:n|r?1073741824&a?3221225472^a^o^i:1073741824^a^o^i:a^o^i}function r(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(r,o,i),a),c)),n(t(e,s),r)}function o(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(r,o,i),a),c)),n(t(e,s),r)}function i(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e^t^n}(r,o,i),a),c)),n(t(e,s),r)}function a(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(r,o,i),a),c)),n(t(e,s),r)}function s(e){var t,n="",r="";for(t=0;3>=t;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var c,u,l,d,f,p,m,g,h,v;for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e),v=function(e){for(var t,n=e.length,r=n+8,o=16*((r-r%64)/64+1),i=new Array(o-1),a=0,s=0;n>s;)a=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<a,s++;return a=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<a,i[o-2]=n<<3,i[o-1]=n>>>29,i}(e),p=1732584193,m=4023233417,g=2562383102,h=271733878,c=0;c<v.length;c+=16)u=p,l=m,d=g,f=h,p=r(p,m,g,h,v[c+0],7,3614090360),h=r(h,p,m,g,v[c+1],12,3905402710),g=r(g,h,p,m,v[c+2],17,606105819),m=r(m,g,h,p,v[c+3],22,3250441966),p=r(p,m,g,h,v[c+4],7,4118548399),h=r(h,p,m,g,v[c+5],12,1200080426),g=r(g,h,p,m,v[c+6],17,2821735955),m=r(m,g,h,p,v[c+7],22,4249261313),p=r(p,m,g,h,v[c+8],7,1770035416),h=r(h,p,m,g,v[c+9],12,2336552879),g=r(g,h,p,m,v[c+10],17,4294925233),m=r(m,g,h,p,v[c+11],22,2304563134),p=r(p,m,g,h,v[c+12],7,1804603682),h=r(h,p,m,g,v[c+13],12,4254626195),g=r(g,h,p,m,v[c+14],17,2792965006),p=o(p,m=r(m,g,h,p,v[c+15],22,1236535329),g,h,v[c+1],5,4129170786),h=o(h,p,m,g,v[c+6],9,3225465664),g=o(g,h,p,m,v[c+11],14,643717713),m=o(m,g,h,p,v[c+0],20,3921069994),p=o(p,m,g,h,v[c+5],5,3593408605),h=o(h,p,m,g,v[c+10],9,38016083),g=o(g,h,p,m,v[c+15],14,3634488961),m=o(m,g,h,p,v[c+4],20,3889429448),p=o(p,m,g,h,v[c+9],5,568446438),h=o(h,p,m,g,v[c+14],9,3275163606),g=o(g,h,p,m,v[c+3],14,4107603335),m=o(m,g,h,p,v[c+8],20,1163531501),p=o(p,m,g,h,v[c+13],5,2850285829),h=o(h,p,m,g,v[c+2],9,4243563512),g=o(g,h,p,m,v[c+7],14,1735328473),p=i(p,m=o(m,g,h,p,v[c+12],20,2368359562),g,h,v[c+5],4,4294588738),h=i(h,p,m,g,v[c+8],11,2272392833),g=i(g,h,p,m,v[c+11],16,1839030562),m=i(m,g,h,p,v[c+14],23,4259657740),p=i(p,m,g,h,v[c+1],4,2763975236),h=i(h,p,m,g,v[c+4],11,1272893353),g=i(g,h,p,m,v[c+7],16,4139469664),m=i(m,g,h,p,v[c+10],23,3200236656),p=i(p,m,g,h,v[c+13],4,681279174),h=i(h,p,m,g,v[c+0],11,3936430074),g=i(g,h,p,m,v[c+3],16,3572445317),m=i(m,g,h,p,v[c+6],23,76029189),p=i(p,m,g,h,v[c+9],4,3654602809),h=i(h,p,m,g,v[c+12],11,3873151461),g=i(g,h,p,m,v[c+15],16,530742520),p=a(p,m=i(m,g,h,p,v[c+2],23,3299628645),g,h,v[c+0],6,4096336452),h=a(h,p,m,g,v[c+7],10,1126891415),g=a(g,h,p,m,v[c+14],15,2878612391),m=a(m,g,h,p,v[c+5],21,4237533241),p=a(p,m,g,h,v[c+12],6,1700485571),h=a(h,p,m,g,v[c+3],10,2399980690),g=a(g,h,p,m,v[c+10],15,4293915773),m=a(m,g,h,p,v[c+1],21,2240044497),p=a(p,m,g,h,v[c+8],6,1873313359),h=a(h,p,m,g,v[c+15],10,4264355552),g=a(g,h,p,m,v[c+6],15,2734768916),m=a(m,g,h,p,v[c+13],21,1309151649),p=a(p,m,g,h,v[c+4],6,4149444226),h=a(h,p,m,g,v[c+11],10,3174756917),g=a(g,h,p,m,v[c+2],15,718787259),m=a(m,g,h,p,v[c+9],21,3951481745),p=n(p,u),m=n(m,l),g=n(g,d),h=n(h,f);return(s(p)+s(m)+s(g)+s(h)).toLowerCase()}(r.token+"&"+c+"&"+s+"&"+n.data),l={jsv:"2.7.2",appKey:s,t:c,sign:u},d={data:n.data,ua:n.ua};Object.keys(n).forEach(function(e){"undefined"==typeof l[e]&&"undefined"==typeof d[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(l[e]=n[e])}),n.ext_querys&&Object.keys(n.ext_querys).forEach(function(e){l[e]=n.ext_querys[e]}),r.getJSONP?l.type="jsonp":r.getOriginalJSONP?l.type="originaljsonp":(r.getJSON||r.postJSON)&&(l.type="originaljson"),"undefined"!=typeof n.valueType&&("original"===n.valueType?r.getJSONP||r.getOriginalJSONP?l.type="originaljsonp":(r.getJSON||r.postJSON)&&(l.type="originaljson"):"string"===n.valueType&&(r.getJSONP||r.getOriginalJSONP?l.type="jsonp":(r.getJSON||r.postJSON)&&(l.type="json"))),!0===r.useJsonpResultType&&"originaljson"===l.type&&delete l.type,r.dangerouslySetProtocol&&(a=r.dangerouslySetProtocol+":"+a),"5.0"===n.SV&&(a+="5.0/",i()),r.querystring=l,r.postdata=d,r.path=a}t()},d.prototype.__processUnitPrefix=function(e){e()};var C=0;d.prototype.__requestJSONP=function(e){function t(e){if(l&&clearTimeout(l),d.parentNode&&d.parentNode.removeChild(d),"TIMEOUT"===e)window[u]=function(){window[u]=void 0;try{delete window[u]}catch(e){}};else{window[u]=void 0;try{delete window[u]}catch(e){}}}var r=n(),i=this.params,s=this.options,c=i.timeout||2e4,u="mtopjsonp"+(i.jsonpIncPrefix||"")+ ++C,l=setTimeout(function(){e(s.timeoutErrMsg||"TIMEOUT::接口超时"),t("TIMEOUT")},c);s.querystring.callback=u;var d=document.createElement("script"),f=s.path+"?"+a(s.querystring)+"&"+a(s.postdata);return"5.0"===i.SV&&window.etSign&&(f+="&bx_et="+window.etSign(f)),d.src=f,d.async=!0,d.onerror=function(){t("ABORT"),e(s.abortErrMsg||"ABORT::接口异常退出")},window[u]=function(){s.results=Array.prototype.slice.call(arguments),t(),r.resolve()},o(d),r.promise},d.prototype.__requestJSON=function(t){function r(e){d&&clearTimeout(d),"TIMEOUT"===e&&u.abort()}var o=n(),i=this.params,s=this.options,u=new e.XMLHttpRequest,l=i.timeout||2e4,d=setTimeout(function(){t(s.timeoutErrMsg||"TIMEOUT::接口超时"),r("TIMEOUT")},l);s.CDR&&c(b)&&(s.querystring.c=decodeURIComponent(c(b))),u.onreadystatechange=function(){if(4==u.readyState){var e,n,i=u.status;if(i>=200&&300>i||304==i){r(),e=u.responseText,n=u.getAllResponseHeaders()||"";try{(e=/^\s*$/.test(e)?{}:JSON.parse(e)).responseHeaders=n,s.results=[e],o.resolve()}catch(e){t("PARSE_JSON_ERROR::解析JSON失败")}}else r("ABORT"),t(s.abortErrMsg||"ABORT::接口异常退出")}};var f,p,m=s.path+"?"+a(s.querystring);s.getJSON?(f="GET",m+="&"+a(s.postdata)):s.postJSON&&(f="POST",p=a(s.postdata)),"5.0"===i.SV&&window.etSign&&(m+="&bx_et="+window.etSign(m)),u.open(f,m,!0),u.withCredentials=!0,u.setRequestHeader("Accept","application/json"),u.setRequestHeader("Content-type","application/x-www-form-urlencoded");var g=i.ext_headers||i.headers;if(g)for(var h in g)u.setRequestHeader(h,g[h]);return u.send(p),o.promise},d.prototype.__requestWindVane=function(e){function r(e){if(a.results=[e],e&&e.stat&&e.stat.falcoId){var n=function(){},r={mtopStart:b,mtopEnd:Date.now(),falcoId:e.stat.falcoId};t.windvane.call(C,"falcoExtend",r,n,n)}o.resolve()}var o=n(),i=this.params,a=this.options,s=i.data,c=i.api,u=i.v,l=a.postJSON?1:0,d=a.getJSON||a.postJSON||a.getOriginalJSONP?"originaljson":"";"undefined"!=typeof i.valueType&&("original"===i.valueType?d="originaljson":"string"===i.valueType&&(d="")),!0===a.useJsonpResultType&&(d="");var f,p,m="https"===location.protocol?1:0,g=i.isSec||0,h=i.sessionOption||"AutoLoginOnly",v=i.ecode||0,y=i.ext_headers||{},_=i.ext_querys||{};f=2*(p="undefined"!=typeof i.timer?parseInt(i.timer):"undefined"!=typeof i.timeout?parseInt(i.timeout):2e4);var b=Date.now();!0===i.needLogin&&"undefined"==typeof i.sessionOption&&(h="AutoLoginAndManualLogin"),"undefined"!=typeof i.secType&&"undefined"==typeof i.isSec&&(g=i.secType);var w={api:c,v:u,post:String(l),type:d,isHttps:String(m),ecode:String(v),isSec:String(g),param:JSON.parse(s),timer:p,needLogin:!!i.needLogin,sessionOption:h,ext_headers:y,ext_querys:_};i.ttid&&!0===a.dangerouslySetWVTtid&&(w.ttid=i.ttid),Object.assign&&i.dangerouslySetWindvaneParams&&Object.assign(w,i.dangerouslySetWindvaneParams);var C="MtopWVPlugin";return"string"==typeof i.customWindVaneClassName&&(C=i.customWindVaneClassName),t.windvane.call(C,"send",w,r,r,f),o.promise},d.prototype.__requestAlipay=function(t){var r=n(),o=this.params,i=this.options,a={apiName:o.api,apiVersion:o.v,needEcodeSign:"1"===String(o.ecode),headers:o.ext_headers||{},usePost:!!i.postJSON};s(o.data)||(o.data=JSON.parse(o.data)),a.data=o.data,o.ttid&&!0===i.dangerouslySetWVTtid&&(a.ttid=o.ttid),(i.getJSON||i.postJSON||i.getOriginalJSONP)&&(a.type="originaljson"),"undefined"!=typeof o.valueType&&("original"===o.valueType?a.type="originaljson":"string"===o.valueType&&delete a.type),!0===i.useJsonpResultType&&delete a.type,Object.assign&&o.dangerouslySetAlipayParams&&Object.assign(a,o.dangerouslySetAlipayParams);var c="mtop";return"string"==typeof o.customAlipayJSBridgeApi&&(c=o.customAlipayJSBridgeApi),e.AlipayJSBridge.call(c,a,function(e){i.results=[e],r.resolve()}),r.promise},d.prototype.__processRequest=function(e,t){var n=this;return p.then(function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return y?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")}).then(e).then(function(){var e=n.options,t=(n.params,e.results[0]),r=t&&t.ret||[];t.ret=r,r instanceof Array&&(r=r.join(","));var o=t.c;e.CDR&&o&&function(e,t,n){var r=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(r.domain?";domain="+r.domain:"")+(r.path?";path="+r.path:"")+(r.secure?";secure":"")+(r.httponly?";HttpOnly":"")+(r.sameSite?";Samesite="+r.sameSite:"")}(b,o,{domain:e.pageDomain,path:"/",secure:e.secure,sameSite:e.sameSite}),r.indexOf("SUCCESS")>-1?t.retType=h.SUCCESS:t.retType=h.ERROR,e.retJson=t})},d.prototype.__sequence=function(e){var t=this,r=[],o=[];e.forEach(function e(i){if(i instanceof Array)i.forEach(e);else{var a,s=n(),c=n();r.push(function(){return s=n(),(a=i.call(t,function(e){return s.resolve(e),c.promise},function(e){return s.reject(e),c.promise}))&&(a=a.catch(function(e){s.reject(e)})),s.promise}),o.push(function(e){return c.resolve(e),a})}});for(var i,a=p;i=r.shift();)a=a.then(i);for(;i=o.pop();)a=a.then(i);return a};var T=function(e){if(m.EtRequest&&!window.__etReady){i();var t,n,r=Number(m.EtLoadTimeout)||5e3,o=!1;window.etReady=function(){window.__etReady=!0,o||(o=!0,e())};var a=function(){t&&clearInterval(t),n&&clearTimeout(n),o||(o=!0,e())};t=setInterval(function(){try{window.etSign&&(window.__etReady=!0,a()),window.etReady&&!window.__etReady&&(window.etReady=function(){window.__etReady=!0,a()})}catch(e){a()}},100),n=setTimeout(function(){a()},r)}else e()},S=function(e){e()};d.prototype.request=function(n){var o=this;if(this.options=r(n||{},m),!f){var i="当前浏览器不支持Promise，请在windows对象上挂载Promise对象";throw t.mtop={ERROR:i},new Error(i)}var a=f.resolve([T,S]).then(function(e){var t=e[0],n=e[1];return o.__sequence([t,o.__processRequestMethod,o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest,n])}).then(function(){var e=o.options.retJson;return e.retType!==h.SUCCESS?f.reject(e):o.options.successCallback?void o.options.successCallback(e):f.resolve(e)}).catch(function(e){var n;return e instanceof Error?(console.error(e.stack),n={ret:[e.message],stack:[e.stack],retJson:h.ERROR}):n="string"==typeof e?{ret:[e],retJson:h.ERROR}:void 0!==e?e:o.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:o.params.api,data:o.params.data,v:o.params.v,retJson:n}),o.options.failureCallback?void o.options.failureCallback(n):f.reject(n)});return this.__processRequestType(),o.options.H5Request&&(o.constructor.__firstProcessor||(o.constructor.__firstProcessor=a),T=function(e){o.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(n.pageDomain=n.pageDomain||function(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(e.location.hostname),n.mainDomain!==n.pageDomain&&(n.maxRetryTimes=4,n.CDR=!0)),this.__requestProcessor=a,a},t.mtop=function(e){return new d(e)},t.mtop.request=function(e,t,n){var r={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new d(e).request(r)},t.mtop.H5Request=function(e,t,n){var r={H5Request:!0,successCallback:t,failureCallback:n||t};return new d(e).request(r)},t.mtop.middlewares=g,t.mtop.config=m,t.mtop.RESPONSE_TYPE=h,t.mtop.CLASS=d}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function r(t,r){var o=navigator.userAgent.match(/.*(iPhone|iPad|Android|ios|SymbianOS|Windows Phone).*/i),i=o&&r.h5url?r.h5url:r.url,a=r.dialogSize,s=this,c=e.dpr||1,u=document.createElement("div"),l=document.documentElement.getBoundingClientRect(),d=Math.max(l.width,window.innerWidth)/c,f=window.innerHeight/c;u.style.cssText=["-webkit-transform:scale("+c+") translateZ(0)","-ms-transform:scale("+c+") translateZ(0)","transform:scale("+c+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+d+"px","height:"+f+"px","z-index:2147483647","position: fixed","left:0","top:0px","background:"+(d>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var p=document.createElement("div");p.style.cssText=["width:100%","height:52px","background:transparent","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),p.innerText=t;var m=document.createElement("img");m.style.cssText=["display:block","position:absolute","margin-top:15px","right:0","top:0","height:15px","line-height:52px","padding:0 20px","color:#999"].join(";"),m.src="https://gw.alicdn.com/tfs/TB1QZN.CYj1gK0jSZFuXXcrHpXa-200-200.png";var g=document.createElement("iframe");if(g.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),o)p.appendChild(m),u.appendChild(p);else{var h=a&&a.width||"420px",v=a&&a.height||"320px",y=50,_=50,b=24,w=-39;v.indexOf("px")>-1?b-=Number(v.replace("px",""))/2:v.indexOf("%")>-1&&(y-=Number(v.replace("%",""))/2),h.indexOf("px")>-1?w+=Number(h.replace("px",""))/2:h.indexOf("%")>-1&&(_+=Number(h.replace("%",""))/2),m.style.cssText=["position:absolute","width:15px","height:15px","top:"+y+"%","left:"+_+"%","cursor: pointer","border:0","z-index:1","overflow:hidden","margin-top:"+b+"px","margin-left:"+w+"px"].join(";"),u.appendChild(m),g.style.cssText=["position:absolute","top:0px","left:0px","bottom:0px","right:0px","margin:auto","width:"+h,"height:"+v,"border:0","background:#FFF","overflow:hidden","border-radius:18px"].join(";")}u.appendChild(g),u.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(u),g.src=i,m.addEventListener("click",function(){s.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),u.dispatchEvent(e)},!1),this.addEventListener=function(){u.addEventListener.apply(u,arguments)},this.removeEventListener=function(){u.removeEventListener.apply(u,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),u.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-l.top),u.parentNode&&u.parentNode.removeChild(u)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop 初始化失败！");var o=e.Promise,i=t.mtop.CLASS,a=t.mtop.config,s=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push(function(e){var n=this,r=this.options,o=this.params;return e().then(function(){var e=r.retJson,i=e.ret,c=navigator.userAgent.toLowerCase(),u=c.indexOf("safari")>-1&&c.indexOf("chrome")<0&&c.indexOf("qqbrowser")<0;if(i instanceof Array&&(i=i.join(",")),(i.indexOf("SESSION_EXPIRED")>-1||i.indexOf("SID_INVALID")>-1||i.indexOf("AUTH_REJECT")>-1||i.indexOf("NEED_LOGIN")>-1)&&(e.retType=s.SESSION_EXPIRED,!r.WindVaneRequest&&(!0===a.LoginRequest||!0===r.LoginRequest||!0===o.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::缺少lib.login");if(!0!==r.safariGoLogin||!u||"taobao.com"===r.pageDomain)return t.login.goLoginAsync().then(function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}).catch(function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::用户取消登录"):new Error("LOGIN_FAILURE::用户登录失败")});t.login.goLogin()}})}),t.mtop.loginRequest=function(e,t,n){var r={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.antiFloodRequest=function(e,t,n){var r={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.middlewares.push(function(e){var t=this.options;return this.params,!0!==t.H5Request||!0!==a.AntiFlood&&!0!==t.AntiFlood?void e():e().then(function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)})}),t.mtop.antiCreepRequest=function(e,t,n){var r={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.middlewares.push(function(t){var n=this,i=this.options,s=this.params;return!1!==i.AntiCreep&&(i.AntiCreep=!0),!0!==s.forceAntiCreep&&!0!==i.H5Request||!0!==a.AntiCreep&&!0!==i.AntiCreep?void t():t().then(function(){var t=i.retJson,a=t.ret;if(a instanceof Array&&(a=a.join(",")),a.indexOf("CHECKJS_FLAG")>-1&&t.uuid&&t.serid){try{var c=!!window.document._sufei_data2,u=new Image,l="https://fourier.taobao.com/ts?ext=200&uuid="+t.uuid+"&serid="+t.serid+"&sufei="+c;window.location&&location.href&&(l+="&href=="+location.href.substr(0,128)),window.__fyModule&&(l+="&fyModuleLoad="+window.__fyModule.load+"&fyModuleInit="+window.__fyModule.init),window.__umModule&&(l+="&umModuleLoad="+window.__umModule.load+"&umModuleInit="+window.__umModule.init),window.__uabModule&&(l+="&uabModuleLoad="+window.__uabModule.load+"&uabModuleInit="+window.__uabModule.init),window.__ncModule&&(l+="&ncModuleLoad="+window.__ncModule.load+"&ncModuleInit="+window.__ncModule.init),window.__nsModule&&(l+="&nsModuleLoad="+window.__nsModule.load+"&nsModuleInit="+window.__nsModule.init),window.__etModule&&(l+="&etModuleLoad="+window.__etModule.load+"&etModuleInit="+window.__etModule.init),u.src=l,document.body.appendChild(u)}catch(e){console.log(e,"上报异常")}return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}if((a.indexOf("RGV587_ERROR::SM")>-1||a.indexOf("ASSIST_FLAG")>-1)&&t.data.url){var d="_m_h5_smt",f=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(d),p=!1;if(!0===i.saveAntiCreepToken&&f)for(var m in f=JSON.parse(f))s[m]&&(p=!0);if(!0===i.saveAntiCreepToken&&f&&!p){for(var m in f)s[m]=f[m];return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}return new o(function(o,a){function c(){l.removeEventListener("close",c),e.removeEventListener("message",u),a("USER_INPUT_CANCEL::用户取消输入")}function u(t){var r;try{r=JSON.parse(t.data)||{}}catch(e){}if(r&&"child"===r.type){var f;l.removeEventListener("close",c),e.removeEventListener("message",u),l.hide();try{for(var p in"string"==typeof(f=JSON.parse(decodeURIComponent(r.content)))&&(f=JSON.parse(f)),f)s[p]=f[p];!0===i.saveAntiCreepToken?(document.cookie=d+"="+JSON.stringify(f)+";",e.location.reload()):n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(o)}catch(e){a("USER_INPUT_FAILURE::用户输入失败")}}}var l=new r("",t.data);l.addEventListener("close",c,!1),e.addEventListener("message",u,!1),l.show()})}})})}(window,window.lib||(window.lib={})),e.exports=window.lib.mtop},function(e,t,n){var r,o,i;i=function(){return function(e){var t=this,n=this.options,r=this.params,o=!1;function i(e){return"object"===typeof e&&(e=JSON.stringify(e)),"string"===typeof e?e.replace(/([\ud83a-\ud83f][\u0000-\uffff])/g,function(e){return o=!0,"\\u"+e.charCodeAt(0).toString(16)+"\\u"+e.charCodeAt(1).toString(16)}):e}return r.data&&(r.data=i(r.data)),t.sendData&&(t.sendData=i(t.sendData)),e().then(function(){var e=n.retJson.ret;if(e instanceof Array&&(e=e.join(",")),o&&e.indexOf("FAIL_SYS_ILLEGAL_ACCESS")>-1)return t.__sequence([t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest])})}},e.exports?e.exports=i():void 0===(o="function"===typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o)},function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function a(...e){if(!a.enabled)return;const t=a,o=Number(new Date),i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o,e[0]=r.coerce(e[0]),"string"!==typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,o)=>{if("%%"===n)return n;s++;const i=r.formatters[o];if("function"===typeof i){const r=e[s];n=i.call(t,r),e.splice(s,1),s--}return n}),r.formatArgs.call(t,e);(t.log||r.log).apply(t,e)}return a.namespace=e,a.enabled=r.enabled(e),a.useColors=r.useColors(),a.color=t(e),a.destroy=o,a.extend=i,"function"===typeof r.init&&r.init(a),r.instances.push(a),a}function o(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function i(e,t){const n=r(this.namespace+("undefined"===typeof t?":":t)+e);return n.log=this.log,n}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){const e=[...r.names.map(a),...r.skips.map(a).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"===typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(687),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,a=7*i,s=365.25*i;function c(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*a;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*o;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return c(e,t,i,"day");if(t>=o)return c(e,t,o,"hour");if(t>=r)return c(e,t,r,"minute");if(t>=n)return c(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var r=n(14),o=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.addQuickTemplate=function(e){var t=e.payload;s.default.getMessageService().addQuickTemplate(t)},t.copyText=function(e){var t=e.payload;s.default.getMessageService().copyText(t.content,t.type)},t.initSDK=t.handleVisibilityChange=t.handleConnectStatusChange=t.handleConnectRemove=t.getWSConfig=void 0,t.selectAllText=function(e){var t=e.payload;s.default.getMessageService().selectAllText(t)},t.tryReconnect=void 0;var i=r(n(48)),a=r(n(1)),s=g(n(35)),c=r(n(689)),u=n(94),l=n(221),d=n(134),f=g(n(33)),p=n(156),m=r(n(690));function g(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(g=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,s={__proto__:null,default:e};if(null===e||"object"!=o(e)&&"function"!=typeof e)return s;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,s)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(a.get||a.set)?i(s,c,a):s[c]=e[c]);return s})(e,t)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y,_=new s.Logger("list-saas-model");_.color("#228B22");var b,w=!1,C=!0,T=t.getWSConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=s.default.getAuthService();return{loginUid:window.aliId,loginNick:window.GDATA&&window.GDATA.user&&window.GDATA.user.displayName,wsUrl:(0,l.getWsUrl)(),environment:"pre"===window.env?s.Environment.ENV_PRERELEASE:s.Environment.ENV_ONLINE,appKey:t.getAppKey(),reqParam:{jsonpIncPrefix:e,mtopRequest:d.mtopRequest,log:l.wssLog,wsConnectTimeout:p.CONST.LOADING_TIMEOUT,batchConnectWs:!0,timeout:p.CONST.LOADING_TIMEOUT}}};function S(e){return k.apply(this,arguments)}function k(){return(k=(0,a.default)(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,f.generateTraceId)(),r=Date.now(),e.prev=1,(0,f.default)({ext:"authReLogin",traceId:n,bizData:{scene:t}}),e.next=2,s.imsdk.getAuthService().reConnect();case 2:(0,f.default)({ext:"reconnectSuc",traceId:n,costTime:Date.now()-r,bizData:{scene:t}}),e.next=4;break;case 3:e.prev=3,o=e.catch(1),(0,f.default)({ext:"reconnectFail",traceId:n,costTime:Date.now()-r,bizData:{scene:t,error:o,onLine:window.navigator.onLine}});case 4:case"end":return e.stop()}},e,null,[[1,3]])}))).apply(this,arguments)}var N=t.tryReconnect=function(){var e=(0,a.default)(regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,c,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:"PaaSConnectionClosed",n=s.imsdk.getAuthService(),r=n.isReconnecting,o=n.isLogout,i=n.innerConnectionStatus,a=s.ConnectionStatus.CONN_UNCONNECTED,c=s.ConnectionStatus.CONN_ERROR,(0,f.default)({ext:"tryReconnect",bizData:{scene:t,visibilityState:document.visibilityState,isConnecting:w,isReconnecting:r,isLogout:o,innerConnectionStatus:i,isSaasGray:(0,u.isSaasGray)(),getSaasGray:(0,u.getSaasGray)(),lastReconnectTime:b,currentTime:Date.now(),onLine:window.navigator.onLine}}),(0,u.isSaasGray)()){e.next=1;break}return e.abrupt("return");case 1:if((0,u.getSaasGray)()){e.next=2;break}return e.abrupt("return");case 2:if("visible"===document.visibilityState){e.next=3;break}return e.abrupt("return");case 3:if([a,c].includes(i)){e.next=4;break}return e.abrupt("return");case 4:if(window.navigator.onLine){e.next=5;break}return e.abrupt("return");case 5:if((0,f.default)({ext:"startReconnect",bizData:{scene:t,visibilityState:document.visibilityState,isConnecting:w,isReconnecting:r,isLogout:o,innerConnectionStatus:i,isSaasGray:(0,u.isSaasGray)(),getSaasGray:(0,u.getSaasGray)(),lastReconnectTime:b,currentTime:Date.now(),onLine:window.navigator.onLine}}),m.default.createReconnectStartTimer(t),!r&&!o){e.next=6;break}return e.abrupt("return");case 6:if(b&&Date.now()-b>6e4&&(w=!1),!w){e.next=7;break}return e.abrupt("return");case 7:return w=!0,b=Date.now(),e.next=8,S(t);case 8:w=!1;case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),M=t.handleVisibilityChange=function(){var e=s.imsdk.getAuthService().getConnectionStatus();(0,f.default)({ext:"visibilityChange",bizData:{visibilityState:document.visibilityState,status:e}}),"visible"===document.visibilityState?(m.default.setFrontBegin(),N("visibilitychange")):m.default.countFrontTime()},E=t.handleConnectRemove=function(e){var t=e.onConnectionFail,n=void 0===t?function(){return""}:t;console.error("==== MultiConnect Remove ===="),(0,f.default)({ext:"PaaSConnectionRemove"}),n({type:"connectionRemove"})},O=t.handleConnectStatusChange=function(e,t,n){var r=s.ConnectionStatus.CONN_AUTHED,o=s.ConnectionStatus.CONN_UNCONNECTED;switch(m.default.handleStatusChangeLog(e),e){case r:m.default.handleFirstConnectLog(y),t(e),C&&(C=!1);break;case o:n({type:"connectionChange",status:e})}};t.initSDK=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needInitSDK,n=void 0===t||t,r=e.jsonpIncPrefix,o=e.onConnectionSuccess,i=void 0===o?function(){return""}:o,a=e.onConnectionFail,d=void 0===a?function(){return""}:a,p=e.onConnectionTimeout,g=void 0===p?function(){return""}:p,h=e.onMessageSendCallback,b=void 0===h?function(){return""}:h,w=e.onMessageNew,C=void 0===w?function(){return""}:w,S=e.onMessageRemove,k=void 0===S?function(){return""}:S,x=e.onMessageRecall,A=void 0===x?function(){return""}:x,I=e.onMessageReadToSenderList,P=void 0===I?function(){return""}:I,R=e.onMessageUpdate,D=void 0===R?function(){return""}:R,U=e.additionFn,j=void 0===U?function(){}:U,L=s.default.getEventService(),F=s.default.getAuthService();if(n&&m.default.setFrontBegin(),(0,u.getSaasGray)()&&(0,u.isSaasGray)()){if(u.isWorkbench?(L.init(),F.initLoginId()):n&&(0,c.default)(),n){var B=T(r);L.init(),(0,f.default)({ext:"authStart"}),L.addListener(s.EventNameEnum.PaaSConnectionChanged,function(e){O(e,i,d)}),L.addListener(s.EventNameEnum.PaaSConnectionClosed,function(e){(0,f.default)({ext:"PaaSConnectionClosed",bizData:v({visibilityState:document.visibilityState},e)}),N("PaaSConnectionClosed")}),y=Date.now(),F.safeInit2(B).catch(function(e){(0,f.default)({ext:"authFail",success:0,resultMsg:null===e||void 0===e?void 0:e.message,costTime:Date.now()-y})}),(0,s.initCurrentUserDisplayInfo)(),m.default.loginSuccessRateLog(),(0,l.checkIfNeedDegradeSaas)(g),j(),document.addEventListener("visibilitychange",function(){M()}),window.addEventListener("beforeunload",function(){m.default.saveLog()}),m.default.sendLastPageLog()}L.addListener(s.EventNameEnum.PaaSConnectionRemove,function(){E(e)}),L.addListener(s.EventNameEnum.BaaSMessageSendCallback,function(e){b(e)}),L.addListener(s.EventNameEnum.BaaSMessageNew,function(e){C(e)}),L.addListener(s.EventNameEnum.BaaSMessageRemove,function(e){k(e)}),L.addListener(s.EventNameEnum.BaaSMessageRecall,function(e){_.log("baasMessageRecall",e),A(e)}),L.addListener(s.EventNameEnum.BaaSMessageReadToSenderList,function(e){P(e)}),L.addListener(s.EventNameEnum.BaaSMessageUpdate,function(e){D(e)})}}},function(e,t,n){"use strict";var r=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(101),i=r(n(176)),a=r(n(33)),s=["mtop.taobao.login.token.get.h5","mtop.alibaba.icbu.im.login.token.get"];t.default=function(){function e(e){var t=this.options,n=this.params,r=(new Date).getTime();return e().then(function(){var e=t.retJson.ret,c=(new Date).getTime()-r;e instanceof Array&&(e=e.join(","));var u=-1===e.indexOf("SUCCESS");if(s.indexOf(n.api)>=0){var l="";try{l=JSON.parse(n.data).deviceId}catch(e){}if(u){var d,f=t.retJson.responseHeaders;if("string"===typeof f){var p=f.match(/(x-eagleeye-id|eagleeye-traceid):\s*([a-z0-9]+)/);p&&(d=p[2])}var m=t.retJson.retType,g=t.failTimes;(0,a.default)({ext:"tokenFail",bizData:{retType:m,aliId:window.aliId,duration:c,reason:e,traceId:d,deviceId:l,failTimes:g}}),e.indexOf("SESSION_EXPIRED")>-1&&((0,a.default)({ext:"redirectLogin",bizData:{scene:"tokenFail"}}),setTimeout(function(){(0,i.default)("https://".concat(o.PASSPORT_DOMAIN,"/icbu_login.htm?return_url=").concat(encodeURIComponent(location.href),"&scene=tokenFail"))},1e3))}else(0,a.default)({ext:"tokenCost",bizData:{aliId:window.aliId,duration:c,deviceId:l}})}})}var t;window.lib||(window.lib={}),lib.mtop?lib.mtop.middlewares&&lib.mtop.middlewares.push(e):Object.defineProperty(lib,"mtop",{configurable:!0,set:function(n){var r;(t=n).middlewares?-1===t.middlewares.indexOf(e)&&t.middlewares.push(e):Object.defineProperty(t,"middlewares",{configurable:!0,set:function(t){-1===(r=t).indexOf(e)&&r.push(e)},get:function(){return r}})},get:function(){return t}})}},function(e,t,n){"use strict";var r=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(48)),i=r(n(33)),a=n(35);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var c={frontBegin:0,frontTime:0,reconnectCount:0},u={firstLogined:!0,loginStatus:0,lastLoginStatus:0,reconnectTimer:null,reconnectStartTime:null},l=function(){c.frontBegin&&(c.frontTime+=Date.now()-c.frontBegin,c.frontBegin=0)};t.default={addReconnectCount:function(){"visible"===document.visibilityState&&c.reconnectCount++},setFrontBegin:function(){c.frontBegin=Date.now()},countFrontTime:l,saveLog:function(){l();var e=localStorage.getItem("lastPageVisibleInfoLog");if(e)try{e=JSON.parse(e)}catch(t){e=[]}else e=[];e.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({pageId:window.dmtrack_pageid},c));var t=JSON.stringify(e);localStorage.setItem("lastPageVisibleInfoLog",t)},sendLastPageLog:function(){var e=localStorage.getItem("lastPageVisibleInfoLog");if(e){try{e=JSON.parse(e)}catch(t){e=[]}e.length>0&&e.forEach(function(e){(0,i.default)({ext:"lastPageLog",bizData:e})}),localStorage.removeItem("lastPageVisibleInfoLog")}},handleStatusChangeLog:function(e){(0,i.default)("ws_status_changed&status=".concat(e,"&lastStatus=").concat(u.loginStatus,"&visibility=").concat(document.visibilityState));var t=a.ConnectionStatus.CONN_AUTHED,n=a.ConnectionStatus.CONN_UNCONNECTED,r=a.ConnectionStatus.CONN_ERROR;if(u.loginStatus=e===t?1:0,![t,n,r].includes(e))return!1;this.handleCommonLog(),this.handleReconnectLog(),u.lastLoginStatus=u.loginStatus},handleCommonLog:function(){1===u.loginStatus?(0,i.default)("connAuthed"):this.addReconnectCount()},handleReconnectLog:function(){if(1===u.loginStatus){var e=u.reconnectTimer,t=u.reconnectStartTime;e&&t&&this.reportReconnectResult(Date.now()-t)}},createReconnectStartTimer:function(e){var t=this;if(("PaaSConnectionClosed"!==e||0!==u.lastLoginStatus)&&!u.reconnectTimer){u.reconnectStartTime=Date.now(),u.reconnectTimer=setTimeout(function(){t.reportReconnectResult(6e4,e)},6e4)}},reportReconnectResult:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PaaSConnectionClosed",n=u.loginStatus,r=u.reconnectTimer;(0,i.default)("reconnected_result&loginStatus=".concat(n,"&costTime=").concat(e,"&visibility=").concat(document.visibilityState,"&reconnectScene=").concat(t)),clearTimeout(r),u.reconnectTimer=null,u.reconnectStartTime=null},handleFirstConnectLog:function(e){u.firstLogined&&((0,i.default)({ext:"authCost",success:1,costTime:Date.now()-e}),u.firstLogined=!1)},loginSuccessRateLog:function(){var e=setTimeout(function(){var e=u.loginStatus;(0,i.default)("firstConnected&loginStatus=".concat(e,"&aliId=").concat(window.aliId,"&timeGap=60000"))},6e4),t=setTimeout(function(){var t=u.loginStatus;(0,i.default)("firstConnected&loginStatus=".concat(t,"&aliId=").concat(window.aliId,"&timeGap=5000")),1===t&&((0,i.default)("firstConnected&loginStatus=".concat(t,"&aliId=").concat(window.aliId,"&timeGap=60000")),clearTimeout(e))},5e3);setTimeout(function(){var n=u.loginStatus;(0,i.default)("firstConnected&loginStatus=".concat(n,"&aliId=").concat(window.aliId,"&timeGap=3000")),1===n&&((0,i.default)("firstConnected&loginStatus=".concat(n,"&aliId=").concat(window.aliId,"&timeGap=5000")),(0,i.default)("firstConnected&loginStatus=".concat(n,"&aliId=").concat(window.aliId,"&timeGap=60000")),clearTimeout(t),clearTimeout(e))},3e3)}}},function(e,t,n){"use strict";n.r(t);class r{constructor(){this._registry=["AESPluginEvent","AES_QUEUE","CHAT_ACTIVE","CONTACT","DBConv","DBAddressBook","EventBus","GDATA","IcbuIM","SPA_MODULES","__BB","__BZ_ABTest__","__DBFsConv__cache__","__DBFsConv__cache__map__","__IM_FS_LOG__","__MessengerNotice","__PushAndPwaSdk","__chat__initSummaryData__","__imWebliteChat__loaded__","__sent__log__info__","__snapshotGot__","__spaApplication__","aliId","aliyunMeetingBuyerFunctionGray","apushClient","contactItem","contactItemList","currentUserAccountId","currentUserLoginId","dmtrack_pageid","electronEnv","electronIpc","goldlog","host","ifmMember","isAndroid","isOverseaMember","lib","mcmsWithoutAppName","messageSearchOpen","mtopServerDomain","pageId","proxyAliId","registerTime","saasGray","shouldShowLabel","turnOffSaasGray","vipSuperUser","workbench","saasConnected"]}static getInstance(){return r._instance||(r._instance=new r),r._instance}isValid(e){return this._registry.includes(e)}get(e){return this.isValid(e)?window[e]:null}set(e,t){this.isValid(e)&&(window[e]=t)}remove(e){this.isValid(e)&&delete window[e]}}t.default=r.getInstance()},function(e,t,n){"use strict";var r,o=n(14)(n(33));n(220);if(Promise.allSettled||(Promise.allSettled=function(e){return Promise.all(e.map(function(e){return Promise.resolve(e).then(function(e){return{status:"fulfilled",value:e}},function(e){return{status:"rejected",reason:e}})}))}),Array.prototype.flat||(Array.prototype.flat=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.reduce(function(t,n){return t.concat(Array.isArray(n)&&e>1?n.flat(e-1):n)},[])}),window.localStorage){var i=(r=window.localStorage,{setItem:function(e,t){try{r.setItem(e,t)}catch(e){(0,o.default)({ext:"localStorageSetErr",bizData:{error:e}})}},getItem:function(e){try{return r.getItem(e)}catch(e){return(0,o.default)({ext:"localStorageGetErr",bizData:{error:e}}),null}},removeItem:function(e){try{r.removeItem(e)}catch(e){(0,o.default)({ext:"localStorageRemoveErr",bizData:{error:e}})}return!0},clear:function(){try{r.clear()}catch(e){(0,o.default)({ext:"localStorageClearErr",bizData:{error:error}})}return!0},key:function(e){return r.key(e)}});Object.defineProperty(window,"localStorage",{value:i,writable:!0})}},function(e,t,n){"use strict";n.r(t),n.d(t,"createBrowserHistory",function(){return L}),n.d(t,"createHashHistory",function(){return W}),n.d(t,"createMemoryHistory",function(){return Y}),n.d(t,"connect",function(){return Re}),n.d(t,"connectAdvanced",function(){return he}),n.d(t,"shallowEqual",function(){return ye}),n.d(t,"useDispatch",function(){return Fe}),n.d(t,"useSelector",function(){return Ve}),n.d(t,"useStore",function(){return je}),n.d(t,"bindActionCreators",function(){return Je}),n.d(t,"saga",function(){return i}),n.d(t,"router",function(){return a}),n.d(t,"routerRedux",function(){return s}),n.d(t,"fetch",function(){return Vi.a}),n.d(t,"dynamic",function(){return Qi}),n.d(t,"useHistory",function(){return na}),n.d(t,"useLocation",function(){return ra}),n.d(t,"useParams",function(){return oa}),n.d(t,"useRouteMatch",function(){return ia});var r={};n.r(r),n.d(r,"take",function(){return Pn}),n.d(r,"takem",function(){return Rn}),n.d(r,"put",function(){return Dn}),n.d(r,"all",function(){return Un}),n.d(r,"race",function(){return jn}),n.d(r,"call",function(){return Fn}),n.d(r,"apply",function(){return Bn}),n.d(r,"cps",function(){return qn}),n.d(r,"fork",function(){return Gn}),n.d(r,"spawn",function(){return Vn}),n.d(r,"join",function(){return Wn}),n.d(r,"cancel",function(){return Hn}),n.d(r,"select",function(){return Yn}),n.d(r,"actionChannel",function(){return zn}),n.d(r,"cancelled",function(){return Jn}),n.d(r,"flush",function(){return $n}),n.d(r,"getContext",function(){return Kn}),n.d(r,"setContext",function(){return Xn}),n.d(r,"takeEvery",function(){return wr}),n.d(r,"takeLatest",function(){return Cr}),n.d(r,"throttle",function(){return Tr});var o={};n.r(o),n.d(o,"TASK",function(){return ht}),n.d(o,"SAGA_ACTION",function(){return bt}),n.d(o,"noop",function(){return St}),n.d(o,"is",function(){return Ot}),n.d(o,"deferred",function(){return Pt}),n.d(o,"arrayOfDeffered",function(){return Rt}),n.d(o,"createMockTask",function(){return Ut}),n.d(o,"cloneableGenerator",function(){return Jt}),n.d(o,"asEffect",function(){return Zn}),n.d(o,"CHANNEL_END",function(){return rr});var i={};n.r(i),n.d(i,"default",function(){return Sr}),n.d(i,"runSaga",function(){return lr}),n.d(i,"END",function(){return cn}),n.d(i,"eventChannel",function(){return pn}),n.d(i,"channel",function(){return fn}),n.d(i,"buffers",function(){return Xt}),n.d(i,"takeEvery",function(){return yr}),n.d(i,"takeLatest",function(){return _r}),n.d(i,"throttle",function(){return br}),n.d(i,"delay",function(){return Dt}),n.d(i,"CANCEL",function(){return _t}),n.d(i,"detach",function(){return In}),n.d(i,"effects",function(){return r}),n.d(i,"utils",function(){return o});var a={};n.r(a),n.d(a,"MemoryRouter",function(){return vo.a}),n.d(a,"Prompt",function(){return vo.b}),n.d(a,"Redirect",function(){return vo.c}),n.d(a,"Route",function(){return vo.d}),n.d(a,"Router",function(){return vo.e}),n.d(a,"StaticRouter",function(){return vo.f}),n.d(a,"Switch",function(){return vo.g}),n.d(a,"generatePath",function(){return vo.i}),n.d(a,"matchPath",function(){return vo.j}),n.d(a,"useHistory",function(){return vo.k}),n.d(a,"useLocation",function(){return vo.l}),n.d(a,"useParams",function(){return vo.m}),n.d(a,"useRouteMatch",function(){return vo.n}),n.d(a,"withRouter",function(){return vo.o}),n.d(a,"BrowserRouter",function(){return $o}),n.d(a,"HashRouter",function(){return Ko}),n.d(a,"Link",function(){return ni}),n.d(a,"NavLink",function(){return ii});var s={};function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}function l(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(s),n.d(s,"LOCATION_CHANGE",function(){return ui}),n.d(s,"CALL_HISTORY_METHOD",function(){return di}),n.d(s,"onLocationChanged",function(){return li}),n.d(s,"push",function(){return pi}),n.d(s,"replace",function(){return mi}),n.d(s,"go",function(){return gi}),n.d(s,"goBack",function(){return hi}),n.d(s,"goForward",function(){return vi}),n.d(s,"routerActions",function(){return yi}),n.d(s,"routerMiddleware",function(){return Pi}),n.d(s,"ConnectedRouter",function(){return Ri}),n.d(s,"connectRouter",function(){return Di}),n.d(s,"getLocation",function(){return ji}),n.d(s,"getAction",function(){return Li}),n.d(s,"getHash",function(){return Fi}),n.d(s,"getSearch",function(){return Bi}),n.d(s,"createMatchSelector",function(){return qi});var g=n(2),h=n.n(g),v=n(96),y=n.n(v);function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(null,arguments)}function b(e){return"/"===e.charAt(0)}function w(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}var C=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],i=e&&b(e),a=t&&b(t),s=i||a;if(e&&b(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var c=o[o.length-1];n="."===c||".."===c||""===c}else n=!1;for(var u=0,l=o.length;l>=0;l--){var d=o[l];"."===d?w(o,l):".."===d?(w(o,l),u++):u&&(w(o,l),u--)}if(!s)for(;u--;u)o.unshift("..");!s||""===o[0]||o[0]&&b(o[0])||o.unshift("");var f=o.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f};var T=!0,S="Invariant failed";function k(e,t){if(!e){if(T)throw new Error(S);var n="function"===typeof t?t():t,r=n?"".concat(S,": ").concat(n):S;throw new Error(r)}}function N(e){return"/"===e.charAt(0)?e:"/"+e}function M(e){return"/"===e.charAt(0)?e.substr(1):e}function E(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function O(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function x(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function A(e,t,n,r){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=_({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=C(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function I(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"===typeof e?e(t,n):e;"string"===typeof i?"function"===typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}var P=!("undefined"===typeof window||!window.document||!window.document.createElement);function R(e,t){t(window.confirm(e))}var D="popstate",U="hashchange";function j(){try{return window.history.state||{}}catch(e){return{}}}function L(e){void 0===e&&(e={}),P||k(!1);var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,s=void 0!==a&&a,c=i.getUserConfirmation,u=void 0===c?R:c,l=i.keyLength,d=void 0===l?6:l,f=e.basename?O(N(e.basename)):"";function p(e){var t=e||{},n=t.key,r=t.state,o=window.location,i=o.pathname+o.search+o.hash;return f&&(i=E(i,f)),A(i,r,n)}function m(){return Math.random().toString(36).substr(2,d)}var g=I();function h(e){_(q,e),q.length=n.length,g.notifyListeners(q.location,q.action)}function v(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||w(p(e.state))}function y(){w(p(j()))}var b=!1;function w(e){if(b)b=!1,h();else{g.confirmTransitionTo(e,"POP",u,function(t){t?h({action:"POP",location:e}):function(e){var t=q.location,n=T.indexOf(t.key);-1===n&&(n=0);var r=T.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(b=!0,M(o))}(e)})}}var C=p(j()),T=[C.key];function S(e){return f+x(e)}function M(e){n.go(e)}var L=0;function F(e){1===(L+=e)&&1===e?(window.addEventListener(D,v),o&&window.addEventListener(U,y)):0===L&&(window.removeEventListener(D,v),o&&window.removeEventListener(U,y))}var B=!1;var q={length:n.length,action:"POP",location:C,createHref:S,push:function(e,t){var o="PUSH",i=A(e,t,m(),q.location);g.confirmTransitionTo(i,o,u,function(e){if(e){var t=S(i),a=i.key,c=i.state;if(r)if(n.pushState({key:a,state:c},null,t),s)window.location.href=t;else{var u=T.indexOf(q.location.key),l=T.slice(0,u+1);l.push(i.key),T=l,h({action:o,location:i})}else window.location.href=t}})},replace:function(e,t){var o="REPLACE",i=A(e,t,m(),q.location);g.confirmTransitionTo(i,o,u,function(e){if(e){var t=S(i),a=i.key,c=i.state;if(r)if(n.replaceState({key:a,state:c},null,t),s)window.location.replace(t);else{var u=T.indexOf(q.location.key);-1!==u&&(T[u]=i.key),h({action:o,location:i})}else window.location.replace(t)}})},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=g.setPrompt(e);return B||(F(1),B=!0),function(){return B&&(B=!1,F(-1)),t()}},listen:function(e){var t=g.appendListener(e);return F(1),function(){F(-1),t()}}};return q}var F="hashchange",B={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+M(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:M,decodePath:N},slash:{encodePath:N,decodePath:N}};function q(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function G(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function V(e){window.location.replace(q(window.location.href)+"#"+e)}function W(e){void 0===e&&(e={}),P||k(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,o=void 0===r?R:r,i=n.hashType,a=void 0===i?"slash":i,s=e.basename?O(N(e.basename)):"",c=B[a],u=c.encodePath,l=c.decodePath;function d(){var e=l(G());return s&&(e=E(e,s)),A(e)}var f=I();function p(e){_(D,e),D.length=t.length,f.notifyListeners(D.location,D.action)}var m=!1,g=null;function h(){var e,t,n=G(),r=u(n);if(n!==r)V(r);else{var i=d(),a=D.location;if(!m&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(g===x(i))return;g=null,function(e){if(m)m=!1,p();else{var t="POP";f.confirmTransitionTo(e,t,o,function(n){n?p({action:t,location:e}):function(e){var t=D.location,n=w.lastIndexOf(x(t));-1===n&&(n=0);var r=w.lastIndexOf(x(e));-1===r&&(r=0);var o=n-r;o&&(m=!0,C(o))}(e)})}}(i)}}var v=G(),y=u(v);v!==y&&V(y);var b=d(),w=[x(b)];function C(e){t.go(e)}var T=0;function S(e){1===(T+=e)&&1===e?window.addEventListener(F,h):0===T&&window.removeEventListener(F,h)}var M=!1;var D={length:t.length,action:"POP",location:b,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=q(window.location.href)),n+"#"+u(s+x(e))},push:function(e,t){var n="PUSH",r=A(e,void 0,void 0,D.location);f.confirmTransitionTo(r,n,o,function(e){if(e){var t=x(r),o=u(s+t);if(G()!==o){g=t,function(e){window.location.hash=e}(o);var i=w.lastIndexOf(x(D.location)),a=w.slice(0,i+1);a.push(t),w=a,p({action:n,location:r})}else p()}})},replace:function(e,t){var n="REPLACE",r=A(e,void 0,void 0,D.location);f.confirmTransitionTo(r,n,o,function(e){if(e){var t=x(r),o=u(s+t);G()!==o&&(g=t,V(o));var i=w.indexOf(x(D.location));-1!==i&&(w[i]=t),p({action:n,location:r})}})},go:C,goBack:function(){C(-1)},goForward:function(){C(1)},block:function(e){void 0===e&&(e=!1);var t=f.setPrompt(e);return M||(S(1),M=!0),function(){return M&&(M=!1,S(-1)),t()}},listen:function(e){var t=f.appendListener(e);return S(1),function(){S(-1),t()}}};return D}function H(e,t,n){return Math.min(Math.max(e,t),n)}function Y(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,o=void 0===r?["/"]:r,i=t.initialIndex,a=void 0===i?0:i,s=t.keyLength,c=void 0===s?6:s,u=I();function l(e){_(h,e),h.length=h.entries.length,u.notifyListeners(h.location,h.action)}function d(){return Math.random().toString(36).substr(2,c)}var f=H(a,0,o.length-1),p=o.map(function(e){return A(e,void 0,"string"===typeof e?d():e.key||d())}),m=x;function g(e){var t=H(h.index+e,0,h.entries.length-1),r=h.entries[t];u.confirmTransitionTo(r,"POP",n,function(e){e?l({action:"POP",location:r,index:t}):l()})}var h={length:p.length,action:"POP",location:p[f],index:f,entries:p,createHref:m,push:function(e,t){var r="PUSH",o=A(e,t,d(),h.location);u.confirmTransitionTo(o,r,n,function(e){if(e){var t=h.index+1,n=h.entries.slice(0);n.length>t?n.splice(t,n.length-t,o):n.push(o),l({action:r,location:o,index:t,entries:n})}})},replace:function(e,t){var r="REPLACE",o=A(e,t,d(),h.location);u.confirmTransitionTo(o,r,n,function(e){e&&(h.entries[h.index]=o,l({action:r,location:o}))})},go:g,goBack:function(){g(-1)},goForward:function(){g(1)},canGo:function(e){var t=h.index+e;return t>=0&&t<h.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return h}var z=n(222),J=n.n(z),$=h.a.createContext(null);var K=function(e){e()},X=function(){return K};var Q={notify:function(){},get:function(){return[]}};function Z(e,t){var n,r=Q;function o(){a.onStateChange&&a.onStateChange()}function i(){var i,a,s;n||(n=t?t.addNestedSub(o):e.subscribe(o),i=X(),a=null,s=null,r={clear:function(){a=null,s=null},notify:function(){i(function(){for(var e=a;e;)e.callback(),e=e.next})},get:function(){for(var e=[],t=a;t;)e.push(t),t=t.next;return e},subscribe:function(e){var t=!0,n=s={callback:e,next:null,prev:s};return n.prev?n.prev.next=n:a=n,function(){t&&null!==a&&(t=!1,n.next?n.next.prev=n.prev:s=n.prev,n.prev?n.prev.next=n.next:a=n.next)}}})}var a={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Q)},getListeners:function(){return r}};return a}var ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?g.useLayoutEffect:g.useEffect;var te=function(e){var t=e.store,n=e.context,r=e.children,o=Object(g.useMemo)(function(){var e=Z(t);return{store:t,subscription:e}},[t]),i=Object(g.useMemo)(function(){return t.getState()},[t]);ee(function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[o,i]);var a=n||$;return h.a.createElement(a.Provider,{value:o},r)};function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(null,arguments)}function re(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var oe=n(157),ie=n.n(oe),ae=n(223),se=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],ce=["reactReduxForwardedRef"],ue=[],le=[null,null];function de(e,t){var n=e[1];return[t.payload,n+1]}function fe(e,t,n){ee(function(){return e.apply(void 0,t)},n)}function pe(e,t,n,r,o,i,a){e.current=r,t.current=o,n.current=!1,i.current&&(i.current=null,a())}function me(e,t,n,r,o,i,a,s,c,u){if(e){var l=!1,d=null,f=function(){if(!l){var e,n,f=t.getState();try{e=r(f,o.current)}catch(e){n=e,d=e}n||(d=null),e===i.current?a.current||c():(i.current=e,s.current=e,a.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var ge=function(){return[null,0]};function he(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,i=n.methodName,a=void 0===i?"connectAdvanced":i,s=n.renderCountProp,c=void 0===s?void 0:s,u=n.shouldHandleStateChanges,l=void 0===u||u,d=n.storeKey,f=void 0===d?"store":d,p=(n.withRef,n.forwardRef),m=void 0!==p&&p,v=n.context,y=void 0===v?$:v,_=re(n,se),b=y;return function(t){var n=t.displayName||t.name||"Component",r=o(n),i=ne({},_,{getDisplayName:o,methodName:a,renderCountProp:c,shouldHandleStateChanges:l,storeKey:f,displayName:r,wrappedComponentName:n,WrappedComponent:t}),s=_.pure;var u=s?g.useMemo:function(e){return e()};function d(n){var r=Object(g.useMemo)(function(){var e=n.reactReduxForwardedRef,t=re(n,ce);return[n.context,e,t]},[n]),o=r[0],a=r[1],s=r[2],c=Object(g.useMemo)(function(){return o&&o.Consumer&&Object(ae.isContextConsumer)(h.a.createElement(o.Consumer,null))?o:b},[o,b]),d=Object(g.useContext)(c),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(d)&&Boolean(d.store);var p=f?n.store:d.store,m=Object(g.useMemo)(function(){return function(t){return e(t.dispatch,i)}(p)},[p]),v=Object(g.useMemo)(function(){if(!l)return le;var e=Z(p,f?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[p,f,d]),y=v[0],_=v[1],w=Object(g.useMemo)(function(){return f?d:ne({},d,{subscription:y})},[f,d,y]),C=Object(g.useReducer)(de,ue,ge),T=C[0][0],S=C[1];if(T&&T.error)throw T.error;var k=Object(g.useRef)(),N=Object(g.useRef)(s),M=Object(g.useRef)(),E=Object(g.useRef)(!1),O=u(function(){return M.current&&s===N.current?M.current:m(p.getState(),s)},[p,T,s]);fe(pe,[N,k,E,s,O,M,_]),fe(me,[l,p,y,m,N,k,E,M,_,S],[p,y,m]);var x=Object(g.useMemo)(function(){return h.a.createElement(t,ne({},O,{ref:a}))},[a,t,O]);return Object(g.useMemo)(function(){return l?h.a.createElement(c.Provider,{value:w},x):x},[c,x,w])}var p=s?h.a.memo(d):d;if(p.WrappedComponent=t,p.displayName=d.displayName=r,m){var v=h.a.forwardRef(function(e,t){return h.a.createElement(p,ne({},e,{reactReduxForwardedRef:t}))});return v.displayName=r,v.WrappedComponent=t,ie()(v,t)}return ie()(p,t)}}function ve(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function ye(e,t){if(ve(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!ve(e[n[o]],t[n[o]]))return!1;return!0}function _e(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function be(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function we(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=be(e);var o=r(t,n);return"function"===typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=be(o),o=r(t,n)),o},r}}var Ce=[function(e){return"function"===typeof e?we(e):void 0},function(e){return e?void 0:_e(function(e){return{dispatch:e}})},function(e){return e&&"object"===typeof e?_e(function(t){return function(e,t){var n={},r=function(r){var o=e[r];"function"===typeof o&&(n[r]=function(){return t(o.apply(void 0,arguments))})};for(var o in e)r(o);return n}(e,t)}):void 0}];var Te=[function(e){return"function"===typeof e?we(e):void 0},function(e){return e?void 0:_e(function(){return{}})}];function Se(e,t,n){return ne({},n,e,t)}var ke=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var c=e(t,n,s);return a?o&&i(c,r)||(r=c):(a=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return Se}}];var Ne=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Me(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function Ee(e,t,n,r,o){var i,a,s,c,u,l=o.areStatesEqual,d=o.areOwnPropsEqual,f=o.areStatePropsEqual,p=!1;function m(o,p){var m,g,h=!d(p,a),v=!l(o,i,p,a);return i=o,a=p,h&&v?(s=e(i,a),t.dependsOnOwnProps&&(c=t(r,a)),u=n(s,c,a)):h?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(c=t(r,a)),u=n(s,c,a)):v?(m=e(i,a),g=!f(m,s),s=m,g&&(u=n(s,c,a)),u):u}return function(o,l){return p?m(o,l):(s=e(i=o,a=l),c=t(r,a),u=n(s,c,a),p=!0,u)}}function Oe(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=re(t,Ne),a=n(e,i),s=r(e,i),c=o(e,i);return(i.pure?Ee:Me)(a,s,c,e,i)}var xe=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Ae(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Ie(e,t){return e===t}function Pe(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?he:n,o=t.mapStateToPropsFactories,i=void 0===o?Te:o,a=t.mapDispatchToPropsFactories,s=void 0===a?Ce:a,c=t.mergePropsFactories,u=void 0===c?ke:c,l=t.selectorFactory,d=void 0===l?Oe:l;return function(e,t,n,o){void 0===o&&(o={});var a=o,c=a.pure,l=void 0===c||c,f=a.areStatesEqual,p=void 0===f?Ie:f,m=a.areOwnPropsEqual,g=void 0===m?ye:m,h=a.areStatePropsEqual,v=void 0===h?ye:h,y=a.areMergedPropsEqual,_=void 0===y?ye:y,b=re(a,xe),w=Ae(e,i,"mapStateToProps"),C=Ae(t,s,"mapDispatchToProps"),T=Ae(n,u,"mergeProps");return r(d,ne({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:C,initMergeProps:T,pure:l,areStatesEqual:p,areOwnPropsEqual:g,areStatePropsEqual:v,areMergedPropsEqual:_},b))}}var Re=Pe();function De(){return Object(g.useContext)($)}function Ue(e){void 0===e&&(e=$);var t=e===$?De:function(){return Object(g.useContext)(e)};return function(){return t().store}}var je=Ue();function Le(e){void 0===e&&(e=$);var t=e===$?je:Ue(e);return function(){return t().dispatch}}var Fe=Le(),Be=function(e,t){return e===t};function qe(e){void 0===e&&(e=$);var t=e===$?De:function(){return Object(g.useContext)(e)};return function(e,n){void 0===n&&(n=Be);var r=t(),o=function(e,t,n,r){var o,i=Object(g.useReducer)(function(e){return e+1},0)[1],a=Object(g.useMemo)(function(){return Z(n,r)},[n,r]),s=Object(g.useRef)(),c=Object(g.useRef)(),u=Object(g.useRef)(),l=Object(g.useRef)(),d=n.getState();try{if(e!==c.current||d!==u.current||s.current){var f=e(d);o=void 0!==l.current&&t(f,l.current)?l.current:f}else o=l.current}catch(e){throw s.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+s.current.stack+"\n\n"),e}return ee(function(){c.current=e,u.current=d,l.current=o,s.current=void 0}),ee(function(){function e(){try{var e=n.getState();if(e===u.current)return;var r=c.current(e);if(t(r,l.current))return;l.current=r,u.current=e}catch(e){s.current=e}i()}return a.onStateChange=e,a.trySubscribe(),e(),function(){return a.tryUnsubscribe()}},[n,a]),o}(e,n,r.store,r.subscription);return Object(g.useDebugValue)(o),o}}var Ge,Ve=qe(),We=n(90);function He(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}Ge=We.unstable_batchedUpdates,K=Ge;"function"===typeof Symbol&&Symbol.observable;var Ye=function(){return Math.random().toString(36).substring(7).split("").join(".")};Ye(),Ye();function ze(e,t){return function(){return t(e.apply(this,arguments))}}function Je(e,t){if("function"===typeof e)return ze(e,t);if("object"!==typeof e||null===e)throw new Error(He(16));var n={};for(var r in e){var o=e[r];"function"===typeof o&&(n[r]=ze(o,t))}return n}function $e(e){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}function Ke(e){var t=function(e,t){if("object"!=$e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$e(t)?t:t+""}function Xe(e,t,n){return(t=Ke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.forEach(function(t){Xe(e,t,n[t])})}return e}function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function et(e){var t=function(e,t){if("object"!=Ze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ze(t)?t:t+""}function tt(e,t,n){return(t=et(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach(function(t){tt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ot(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var it="function"===typeof Symbol&&Symbol.observable||"@@observable",at=function(){return Math.random().toString(36).substring(7).split("").join(".")},st={INIT:"@@redux/INIT"+at(),REPLACE:"@@redux/REPLACE"+at(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+at()}};function ct(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ut(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(ot(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(ot(1));return n(ut)(e,t)}if("function"!==typeof e)throw new Error(ot(2));var o=e,i=t,a=[],s=a,c=!1;function u(){s===a&&(s=a.slice())}function l(){if(c)throw new Error(ot(3));return i}function d(e){if("function"!==typeof e)throw new Error(ot(4));if(c)throw new Error(ot(5));var t=!0;return u(),s.push(e),function(){if(t){if(c)throw new Error(ot(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),a=null}}}function f(e){if(!ct(e))throw new Error(ot(7));if("undefined"===typeof e.type)throw new Error(ot(8));if(c)throw new Error(ot(9));try{c=!0,i=o(i,e)}finally{c=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:st.INIT}),(r={dispatch:f,subscribe:d,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(ot(10));o=e,f({type:st.REPLACE})}})[it]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(ot(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[it]=function(){return this},e},r}function lt(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"===typeof e[o]&&(n[o]=e[o])}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:st.INIT}))throw new Error(ot(12));if("undefined"===typeof n(void 0,{type:st.PROBE_UNKNOWN_ACTION()}))throw new Error(ot(13))})}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},s=0;s<a.length;s++){var c=a[s],u=n[c],l=e[c],d=u(l,t);if("undefined"===typeof d){t&&t.type;throw new Error(ot(14))}o[c]=d,r=r||d!==l}return(r=r||a.length!==Object.keys(e).length)?o:e}}function dt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(ot(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map(function(e){return e(o)});return r=dt.apply(void 0,i)(n.dispatch),rt(rt({},n),{},{dispatch:r})}}}var pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt=function(e){return"@@redux-saga/"+e},ht=gt("TASK"),vt=gt("HELPER"),yt=gt("MATCH"),_t=gt("CANCEL_PROMISE"),bt=gt("SAGA_ACTION"),wt=gt("SELF_CANCELLATION"),Ct=function(e){return function(){return e}},Tt=Ct(!0),St=function(){},kt=function(e){return e};function Nt(e,t,n){if(!t(e))throw Gt("error","uncaught at check",n),new Error(n)}var Mt=Object.prototype.hasOwnProperty;function Et(e,t){return Ot.notUndef(e)&&Mt.call(e,t)}var Ot={undef:function(e){return null===e||void 0===e},notUndef:function(e){return null!==e&&void 0!==e},func:function(e){return"function"===typeof e},number:function(e){return"number"===typeof e},string:function(e){return"string"===typeof e},array:Array.isArray,object:function(e){return e&&!Ot.array(e)&&"object"===("undefined"===typeof e?"undefined":mt(e))},promise:function(e){return e&&Ot.func(e.then)},iterator:function(e){return e&&Ot.func(e.next)&&Ot.func(e.throw)},iterable:function(e){return e&&Ot.func(Symbol)?Ot.func(e[Symbol.iterator]):Ot.array(e)},task:function(e){return e&&e[ht]},observable:function(e){return e&&Ot.func(e.subscribe)},buffer:function(e){return e&&Ot.func(e.isEmpty)&&Ot.func(e.take)&&Ot.func(e.put)},pattern:function(e){return e&&(Ot.string(e)||"symbol"===("undefined"===typeof e?"undefined":mt(e))||Ot.func(e)||Ot.array(e))},channel:function(e){return e&&Ot.func(e.take)&&Ot.func(e.close)},helper:function(e){return e&&e[vt]},stringableFunc:function(e){return Ot.func(e)&&Et(e,"toString")}},xt={assign:function(e,t){for(var n in t)Et(t,n)&&(e[n]=t[n])}};function At(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var It={from:function(e){var t=Array(e.length);for(var n in e)Et(e,n)&&(t[n]=e[n]);return t}};function Pt(){var e=pt({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=new Promise(function(t,n){e.resolve=t,e.reject=n});return e.promise=t,e}function Rt(e){for(var t=[],n=0;n<e;n++)t.push(Pt());return t}function Dt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0,r=new Promise(function(r){n=setTimeout(function(){return r(t)},e)});return r[_t]=function(){return clearTimeout(n)},r}function Ut(){var e,t=!0,n=void 0,r=void 0;return(e={})[ht]=!0,e.isRunning=function(){return t},e.result=function(){return n},e.error=function(){return r},e.setRunning=function(e){return t=e},e.setResult=function(e){return n=e},e.setError=function(e){return r=e},e}function jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){return++e}}var Lt=jt(),Ft=function(e){throw e},Bt=function(e){return{value:e,done:!0}};function qt(e){var t={name:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",next:e,throw:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft,return:Bt};return arguments[3]&&(t[vt]=!0),"undefined"!==typeof Symbol&&(t[Symbol.iterator]=function(){return t}),t}function Gt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"undefined"===typeof window?console.log("redux-saga "+e+": "+t+"\n"+(n&&n.stack||n)):console[e](t,n)}function Vt(e,t){return function(){return e.apply(void 0,arguments)}}var Wt=function(e,t){return e+" has been deprecated in favor of "+t+", please update your code"},Ht=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},Yt=function(e,t){return(e?e+".":"")+"setContext(props): argument "+t+" is not a plain object"},zt=function(e){return function(t){return e(Object.defineProperty(t,bt,{value:!0}))}},Jt=function e(t){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=[],a=t.apply(void 0,r);return{next:function(e){return i.push(e),a.next(e)},clone:function(){var n=e(t).apply(void 0,r);return i.forEach(function(e){return n.next(e)}),n},return:function(e){return a.return(e)},throw:function(e){return a.throw(e)}}}},$t={isEmpty:Tt,put:St,take:St};function Kt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments[1],n=new Array(e),r=0,o=0,i=0,a=function(t){n[o]=t,o=(o+1)%e,r++},s=function(){if(0!=r){var t=n[i];return n[i]=null,r--,i=(i+1)%e,t}},c=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){if(r<e)a(s);else{var u=void 0;switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[o]=s,i=o=(o+1)%e;break;case 4:u=2*e,n=c(),r=n.length,o=n.length,i=0,n.length=u,e=u,a(s)}}},take:s,flush:c}}var Xt={none:function(){return $t},fixed:function(e){return Kt(e,1)},dropping:function(e){return Kt(e,2)},sliding:function(e){return Kt(e,3)},expanding:function(e){return Kt(e,4)}},Qt=[],Zt=0;function en(e){try{nn(),e()}finally{rn()}}function tn(e){Qt.push(e),Zt||(nn(),on())}function nn(){Zt++}function rn(){Zt--}function on(){rn();for(var e=void 0;!Zt&&void 0!==(e=Qt.shift());)en(e)}var an=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sn="@@redux-saga/CHANNEL_END",cn={type:sn},un=function(e){return e&&e.type===sn};var ln="invalid buffer passed to channel factory function",dn="Saga was provided with an undefined action";function fn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt.fixed(),t=!1,n=[];function r(){if(t&&n.length)throw Ht("Cannot have a closed channel with pending takers");if(n.length&&!e.isEmpty())throw Ht("Cannot have pending takers with non empty buffer")}return Nt(e,Ot.buffer,ln),{take:function(o){r(),Nt(o,Ot.func,"channel.take's callback must be a function"),t&&e.isEmpty()?o(cn):e.isEmpty()?(n.push(o),o.cancel=function(){return At(n,o)}):o(e.take())},put:function(o){if(r(),Nt(o,Ot.notUndef,dn),!t){if(!n.length)return e.put(o);for(var i=0;i<n.length;i++){var a=n[i];if(!a[yt]||a[yt](o))return n.splice(i,1),a(o)}}},flush:function(n){r(),Nt(n,Ot.func,"channel.flush' callback must be a function"),t&&e.isEmpty()?n(cn):n(e.flush())},close:function(){if(r(),!t&&(t=!0,n.length)){var e=n;n=[];for(var o=0,i=e.length;o<i;o++)e[o](cn)}},get __takers__(){return n},get __closed__(){return t}}}function pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xt.none(),n=arguments[2];arguments.length>2&&Nt(n,Ot.func,"Invalid match function passed to eventChannel");var r=fn(t),o=function(){r.__closed__||(i&&i(),r.close())},i=e(function(e){un(e)?o():n&&!n(e)||r.put(e)});if(r.__closed__&&i(),!Ot.func(i))throw new Error("in eventChannel: subscribe should return a function to unsubscribe");return{take:r.take,flush:r.flush,close:o}}var mn=gt("IO"),gn="TAKE",hn="PUT",vn="ALL",yn="RACE",_n="CALL",bn="CPS",wn="FORK",Cn="JOIN",Tn="CANCEL",Sn="SELECT",kn="ACTION_CHANNEL",Nn="CANCELLED",Mn="FLUSH",En="GET_CONTEXT",On="SET_CONTEXT",xn="\n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)",An=function(e,t){var n;return(n={})[mn]=!0,n[e]=t,n},In=function(e){return Nt(Zn.fork(e),Ot.object,"detach(eff): argument must be a fork effect"),e[wn].detached=!0,e};function Pn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*";if(arguments.length&&Nt(arguments[0],Ot.notUndef,"take(patternOrChannel): patternOrChannel is undefined"),Ot.pattern(e))return An(gn,{pattern:e});if(Ot.channel(e))return An(gn,{channel:e});throw new Error("take(patternOrChannel): argument "+String(e)+" is not valid channel or a valid pattern")}Pn.maybe=function(){var e=Pn.apply(void 0,arguments);return e[gn].maybe=!0,e};var Rn=Vt(Pn.maybe);function Dn(e,t){return arguments.length>1?(Nt(e,Ot.notUndef,"put(channel, action): argument channel is undefined"),Nt(e,Ot.channel,"put(channel, action): argument "+e+" is not a valid channel"),Nt(t,Ot.notUndef,"put(channel, action): argument action is undefined")):(Nt(e,Ot.notUndef,"put(action): argument action is undefined"),t=e,e=null),An(hn,{channel:e,action:t})}function Un(e){return An(vn,e)}function jn(e){return An(yn,e)}function Ln(e,t,n){Nt(t,Ot.notUndef,e+": argument fn is undefined");var r=null;if(Ot.array(t)){var o=t;r=o[0],t=o[1]}else if(t.fn){var i=t;r=i.context,t=i.fn}return r&&Ot.string(t)&&Ot.func(r[t])&&(t=r[t]),Nt(t,Ot.func,e+": argument "+t+" is not a function"),{context:r,fn:t,args:n}}function Fn(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return An(_n,Ln("call",e,n))}function Bn(e,t){return An(_n,Ln("apply",{context:e,fn:t},arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]))}function qn(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return An(bn,Ln("cps",e,n))}function Gn(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return An(wn,Ln("fork",e,n))}function Vn(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return In(Gn.apply(void 0,[e].concat(n)))}function Wn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1)return Un(t.map(function(e){return Wn(e)}));var r=t[0];return Nt(r,Ot.notUndef,"join(task): argument task is undefined"),Nt(r,Ot.task,"join(task): argument "+r+" is not a valid Task object "+xn),An(Cn,r)}function Hn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1)return Un(t.map(function(e){return Hn(e)}));var r=t[0];return 1===t.length&&(Nt(r,Ot.notUndef,"cancel(task): argument task is undefined"),Nt(r,Ot.task,"cancel(task): argument "+r+" is not a valid Task object "+xn)),An(Tn,r||wt)}function Yn(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===arguments.length?e=kt:(Nt(e,Ot.notUndef,"select(selector,[...]): argument selector is undefined"),Nt(e,Ot.func,"select(selector,[...]): argument "+e+" is not a function")),An(Sn,{selector:e,args:n})}function zn(e,t){return Nt(e,Ot.notUndef,"actionChannel(pattern,...): argument pattern is undefined"),arguments.length>1&&(Nt(t,Ot.notUndef,"actionChannel(pattern, buffer): argument buffer is undefined"),Nt(t,Ot.buffer,"actionChannel(pattern, buffer): argument "+t+" is not a valid buffer")),An(kn,{pattern:e,buffer:t})}function Jn(){return An(Nn,{})}function $n(e){return Nt(e,Ot.channel,"flush(channel): argument "+e+" is not valid channel"),An(Mn,e)}function Kn(e){return Nt(e,Ot.string,"getContext(prop): argument "+e+" is not a string"),An(En,e)}function Xn(e){return Nt(e,Ot.object,Yt(null,e)),An(On,e)}Dn.resolve=function(){var e=Dn.apply(void 0,arguments);return e[hn].resolve=!0,e},Dn.sync=Vt(Dn.resolve);var Qn=function(e){return function(t){return t&&t[mn]&&t[e]}},Zn={take:Qn(gn),put:Qn(hn),all:Qn(vn),race:Qn(yn),call:Qn(_n),cps:Qn(bn),fork:Qn(wn),join:Qn(Cn),cancel:Qn(Tn),select:Qn(Sn),actionChannel:Qn(kn),cancelled:Qn(Nn),flush:Qn(Mn),getContext:Qn(En),setContext:Qn(On)},er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var nr="proc first argument (Saga function result) must be an iterator",rr={toString:function(){return"@@redux-saga/CHANNEL_END"}},or={toString:function(){return"@@redux-saga/TASK_CANCEL"}},ir={wildcard:function(){return Tt},default:function(e){return"symbol"===("undefined"===typeof e?"undefined":tr(e))?function(t){return t.type===e}:function(t){return t.type===String(e)}},array:function(e){return function(t){return e.some(function(e){return ar(e)(t)})}},predicate:function(e){return function(t){return e(t)}}};function ar(e){return("*"===e?ir.wildcard:Ot.array(e)?ir.array:Ot.stringableFunc(e)?ir.default:Ot.func(e)?ir.predicate:ir.default)(e)}var sr=function(e){return{fn:e}};function cr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return St},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:St,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:St,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"anonymous",c=arguments[8];Nt(e,Ot.iterator,nr);var u="[...effects]",l=Vt(E,Wt(u,"all("+u+")")),d=i.sagaMonitor,f=i.logger,p=i.onError,m=f||Gt,g=function(e){var t=e.sagaStack;!t&&e.stack&&(t=-1!==e.stack.split("\n")[0].indexOf(e.message)?e.stack:"Error: "+e.message+"\n"+e.stack),m("error","uncaught at "+s,t||e.message||e)},h=function(e){var t=pn(function(t){return e(function(e){e[bt]?t(e):tn(function(){return t(e)})})});return an({},t,{take:function(e,n){arguments.length>1&&(Nt(n,Ot.func,"channel.take's matcher argument must be a function"),e[yt]=n),t.take(e)}})}(t),v=Object.create(o);C.cancel=St;var y=function(e,t,n,r){var o,i,a;return n._deferredEnd=null,(i={})[ht]=!0,i.id=e,i.name=t,(a={})[o="done"]=a[o]||{},a[o].get=function(){if(n._deferredEnd)return n._deferredEnd.promise;var e=Pt();return n._deferredEnd=e,n._isRunning||(n._error?e.reject(n._error):e.resolve(n._result)),e.promise},i.cont=r,i.joiners=[],i.cancel=w,i.isRunning=function(){return n._isRunning},i.isCancelled=function(){return n._isCancelled},i.isAborted=function(){return n._isAborted},i.result=function(){return n._result},i.error=function(){return n._error},i.setContext=function(e){Nt(e,Ot.object,Yt("task",e)),xt.assign(v,e)},function(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}}(i,a),i}(a,s,e,c),_={name:s,cancel:function(){_.isRunning&&!_.isCancelled&&(_.isCancelled=!0,C(or))},isRunning:!0},b=function(e,t,n){var r=[],o=void 0,i=!1;function a(e){c(),n(e,!0)}function s(e){r.push(e),e.cont=function(s,c){i||(At(r,e),e.cont=St,c?a(s):(e===t&&(o=s),r.length||(i=!0,n(o))))}}function c(){i||(i=!0,r.forEach(function(e){e.cont=St,e.cancel()}),r=[])}return s(t),{addTask:s,cancelAll:c,abort:a,getTasks:function(){return r},taskNames:function(){return r.map(function(e){return e.name})}}}(0,_,T);function w(){e._isRunning&&!e._isCancelled&&(e._isCancelled=!0,b.cancelAll(),T(or))}return c&&(c.cancel=w),e._isRunning=!0,C(),y;function C(t,n){if(!_.isRunning)throw new Error("Trying to resume an already finished generator");try{var r=void 0;n?r=e.throw(t):t===or?(_.isCancelled=!0,C.cancel(),r=Ot.func(e.return)?e.return(or):{done:!0,value:or}):r=t===rr?Ot.func(e.return)?e.return():{done:!0}:e.next(t),r.done?(_.isMainRunning=!1,_.cont&&_.cont(r.value)):S(r.value,a,"",C)}catch(e){_.isCancelled&&g(e),_.isMainRunning=!1,_.cont(e,!0)}}function T(t,n){e._isRunning=!1,h.close(),n?(t instanceof Error&&Object.defineProperty(t,"sagaStack",{value:"at "+s+" \n "+(t.sagaStack||t.stack),configurable:!0}),y.cont||(t instanceof Error&&p?p(t):g(t)),e._error=t,e._isAborted=!0,e._deferredEnd&&e._deferredEnd.reject(t)):(e._result=t,e._deferredEnd&&e._deferredEnd.resolve(t)),y.cont&&y.cont(t,n),y.joiners.forEach(function(e){return e.cb(t,n)}),y.joiners=null}function S(e,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments[3],c=Lt();d&&d.effectTriggered({effectId:c,parentEffectId:o,label:i,effect:e});var u=void 0;function f(e,t){u||(u=!0,a.cancel=St,d&&(t?d.effectRejected(c,e):d.effectResolved(c,e)),a(e,t))}f.cancel=St,a.cancel=function(){if(!u){u=!0;try{f.cancel()}catch(e){g(e)}f.cancel=St,d&&d.effectCancelled(c)}};var p=void 0;return Ot.promise(e)?k(e,f):Ot.helper(e)?M(sr(e),c,f):Ot.iterator(e)?N(e,c,s,f):Ot.array(e)?l(e,c,f):(p=Zn.take(e))?function(e,t){var n=e.channel,r=e.pattern,o=e.maybe;n=n||h;var i=function(e){return e instanceof Error?t(e,!0):un(e)&&!o?t(rr):t(e)};try{n.take(i,ar(r))}catch(e){return t(e,!0)}t.cancel=i.cancel}(p,f):(p=Zn.put(e))?function(e,t){var r=e.channel,o=e.action,i=e.resolve;tn(function(){var e=void 0;try{e=(r?r.put:n)(o)}catch(e){if(r||i)return t(e,!0);g(e)}if(!i||!Ot.promise(e))return t(e);k(e,t)})}(p,f):(p=Zn.all(e))?E(p,c,f):(p=Zn.race(e))?function(e,t,n){var r=void 0,o=Object.keys(e),i={};o.forEach(function(t){var a=function(i,a){if(!r)if(a)n.cancel(),n(i,!0);else if(!un(i)&&i!==rr&&i!==or){var s;n.cancel(),r=!0;var c=((s={})[t]=i,s);n(Ot.array(e)?[].slice.call(er({},c,{length:o.length})):c)}};a.cancel=St,i[t]=a}),n.cancel=function(){r||(r=!0,o.forEach(function(e){return i[e].cancel()}))},o.forEach(function(n){r||S(e[n],t,n,i[n])})}(p,c,f):(p=Zn.call(e))?function(e,t,n){var r=e.context,o=e.fn,i=e.args,a=void 0;try{a=o.apply(r,i)}catch(e){return n(e,!0)}return Ot.promise(a)?k(a,n):Ot.iterator(a)?N(a,t,o.name,n):n(a)}(p,c,f):(p=Zn.cps(e))?function(e,t){var n=e.context,r=e.fn,o=e.args;try{var i=function(e,n){return Ot.undef(e)?t(n):t(e,!0)};r.apply(n,o.concat(i)),i.cancel&&(t.cancel=function(){return i.cancel()})}catch(e){return t(e,!0)}}(p,f):(p=Zn.fork(e))?M(p,c,f):(p=Zn.join(e))?function(e,t){if(e.isRunning()){var n={task:y,cb:t};t.cancel=function(){return At(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())}(p,f):(p=Zn.cancel(e))?function(e,t){e===wt&&(e=y);e.isRunning()&&e.cancel();t()}(p,f):(p=Zn.select(e))?function(e,t){var n=e.selector,o=e.args;try{t(n.apply(void 0,[r()].concat(o)))}catch(e){t(e,!0)}}(p,f):(p=Zn.actionChannel(e))?function(e,n){var r=e.pattern,o=e.buffer,i=ar(r);i.pattern=r,n(pn(t,o||Xt.fixed(),i))}(p,f):(p=Zn.flush(e))?function(e,t){e.flush(t)}(p,f):(p=Zn.cancelled(e))?function(e,t){t(!!_.isCancelled)}(0,f):(p=Zn.getContext(e))?function(e,t){t(v[e])}(p,f):(p=Zn.setContext(e))?function(e,t){xt.assign(v,e),t()}(p,f):f(e)}function k(e,t){var n=e[_t];Ot.func(n)?t.cancel=n:Ot.func(e.abort)&&(t.cancel=function(){return e.abort()}),e.then(t,function(e){return t(e,!0)})}function N(e,o,a,s){cr(e,t,n,r,v,i,o,a,s)}function M(e,o,a){var s=e.context,c=e.fn,u=e.args,l=e.detached,d=function(e){var t=e.context,n=e.fn,r=e.args;if(Ot.iterator(n))return n;var o,i,a=void 0,s=void 0;try{a=n.apply(t,r)}catch(e){s=e}return Ot.iterator(a)?a:qt(s?function(){throw s}:(o=void 0,i={done:!1,value:a},function(e){return o?{done:!0,value:e}:(o=!0,i)}))}({context:s,fn:c,args:u});try{nn();var f=cr(d,t,n,r,v,i,o,c.name,l?null:St);l?a(f):d._isRunning?(b.addTask(f),a(f)):d._error?b.abort(d._error):a(f)}finally{on()}}function E(e,t,n){var r=Object.keys(e);if(!r.length)return n(Ot.array(e)?[]:{});var o=0,i=void 0,a={},s={};r.forEach(function(t){var c=function(s,c){i||(c||un(s)||s===rr||s===or?(n.cancel(),n(s,c)):(a[t]=s,++o===r.length&&(i=!0,n(Ot.array(e)?It.from(er({},a,{length:r.length})):a))))};c.cancel=St,s[t]=c}),n.cancel=function(){i||(i=!0,r.forEach(function(e){return s[e].cancel()}))},r.forEach(function(n){return S(e[n],t,n,s[n])})}}var ur="runSaga(storeInterface, saga, ...args): saga argument must be a Generator function!";function lr(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=void 0;Ot.iterator(e)?(i=e,e=t):(Nt(t,Ot.func,ur),Nt(i=t.apply(void 0,r),Ot.iterator,ur));var a=e,s=a.subscribe,c=a.dispatch,u=a.getState,l=a.context,d=a.sagaMonitor,f=a.logger,p=a.onError,m=Lt();d&&(d.effectTriggered=d.effectTriggered||St,d.effectResolved=d.effectResolved||St,d.effectRejected=d.effectRejected||St,d.effectCancelled=d.effectCancelled||St,d.actionDispatched=d.actionDispatched||St,d.effectTriggered({effectId:m,root:!0,parentEffectId:0,effect:{root:!0,saga:t,args:r}}));var g=cr(i,s,zt(c),u,l,{sagaMonitor:d,logger:f,onError:p},m,t.name);return d&&d.effectResolved(m,g),g}var dr={done:!0,value:void 0},fr={};function pr(e){return Ot.channel(e)?"channel":Array.isArray(e)?String(e.map(function(e){return String(e)})):String(e)}function mr(e,t){var n=void 0,r=t;function o(t,o){if(r===fr)return dr;if(o)throw r=fr,o;n&&n(t);var i=e[r](),a=i[0],s=i[1],c=i[2];return n=c,(r=a)===fr?dr:s}return qt(o,function(e){return o(null,e)},arguments.length>2&&void 0!==arguments[2]?arguments[2]:"iterator",!0)}function gr(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i={done:!1,value:Pn(e)},a=void 0,s=function(e){return a=e};return mr({q1:function(){return["q2",i,s]},q2:function(){return a===cn?[fr]:["q1",(e=a,{done:!1,value:Gn.apply(void 0,[t].concat(r,[e]))})];var e}},"q1","takeEvery("+pr(e)+", "+t.name+")")}function hr(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i={done:!1,value:Pn(e)},a=function(e){return{done:!1,value:Gn.apply(void 0,[t].concat(r,[e]))}},s=function(e){return{done:!1,value:Hn(e)}},c=void 0,u=void 0,l=function(e){return c=e},d=function(e){return u=e};return mr({q1:function(){return["q2",i,d]},q2:function(){return u===cn?[fr]:c?["q3",s(c)]:["q1",a(u),l]},q3:function(){return["q1",a(u),l]}},"q1","takeLatest("+pr(e)+", "+t.name+")")}function vr(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=void 0,s=void 0,c={done:!1,value:zn(t,Xt.sliding(1))},u={done:!1,value:Fn(Dt,e)},l=function(e){return a=e},d=function(e){return s=e};return mr({q1:function(){return["q2",c,d]},q2:function(){return["q3",{done:!1,value:Pn(s)},l]},q3:function(){return a===cn?[fr]:["q4",(e=a,{done:!1,value:Gn.apply(void 0,[n].concat(o,[e]))})];var e},q4:function(){return["q2",u]}},"q1","throttle("+pr(t)+", "+n.name+")")}var yr=Vt(gr),_r=Vt(hr),br=Vt(vr);function wr(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return Gn.apply(void 0,[gr,e,t].concat(r))}function Cr(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return Gn.apply(void 0,[hr,e,t].concat(r))}function Tr(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];return Gn.apply(void 0,[vr,e,t,n].concat(o))}var Sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=void 0===t?{}:t,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["context"]),o=r.sagaMonitor,i=r.logger,a=r.onError;if(Ot.func(r))throw new Error("Saga middleware no longer accept Generator functions. Use sagaMiddleware.run instead");if(i&&!Ot.func(i))throw new Error("`options.logger` passed to the Saga middleware is not a function!");if(a&&!Ot.func(a))throw new Error("`options.onError` passed to the Saga middleware is not a function!");if(r.emitter&&!Ot.func(r.emitter))throw new Error("`options.emitter` passed to the Saga middleware is not a function!");function s(e){var t,c=e.getState,u=e.dispatch,l=(t=[],{subscribe:function(e){return t.push(e),function(){return At(t,e)}},emit:function(e){for(var n=t.slice(),r=0,o=n.length;r<o;r++)n[r](e)}});return l.emit=(r.emitter||kt)(l.emit),s.run=lr.bind(null,{context:n,subscribe:l.subscribe,dispatch:u,getState:c,sagaMonitor:o,logger:i,onError:a}),function(e){return function(t){o&&o.actionDispatched&&o.actionDispatched(t);var n=e(t);return l.emit(t),n}}}return s.run=function(){throw new Error("Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware")},s.setContext=function(e){Nt(e,Ot.object,Yt("sagaMiddleware",e)),xt.assign(n,e)},s},kr=n(11),Nr=n.n(kr),Mr=n(69),Er=n.n(Mr);function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function xr(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ar(e,t){if(e){if("string"==typeof e)return Or(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Or(e,t):void 0}}function Ir(e){return function(e){if(Array.isArray(e))return Or(e)}(e)||xr(e)||Ar(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pr(e){if(Array.isArray(e))return e}function Rr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Dr=n(97),Ur=n.n(Dr);function jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ke(r.key),r)}}var Lr=n(224),Fr=n.n(Lr);n(484);function Br(e,t){return Pr(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||Ar(e,t)||Rr()}var qr=n(13),Gr=n.n(qr),Vr=Array.isArray.bind(Array),Wr=function(e){return"function"===typeof e},Hr=function(e){return e},Yr=function(){},zr=function(e,t){for(var n=0,r=e.length;n<r;n+=1)if(t(e[n],n))return n;return-1},Jr=Object.freeze({isPlainObject:Er.a,isArray:Vr,isFunction:Wr,returnSelf:Hr,noop:Yr,findIndex:zr});var $r="/";function Kr(e,t,n){return Object.keys(e).reduce(function(r,o){return Ur()(0!==o.indexOf("".concat(t).concat($r)),"[prefixNamespace]: ".concat(n," ").concat(o," should not be prefixed with namespace ").concat(t)),r["".concat(t).concat($r).concat(o)]=e[o],r},{})}function Xr(e){var t,n=e.namespace,r=e.reducers,o=e.effects;if(r)if(Vr(r)){var i=Pr(t=r)||xr(t)||Ar(t)||Rr(),a=i[0],s=i.slice(1);e.reducers=[Kr(a,n,"reducer")].concat(Ir(s))}else e.reducers=Kr(r,n,"reducer");return o&&(e.effects=Kr(o,n,"effect")),e}var Qr=["onError","onStateChange","onAction","onHmr","onReducer","onEffect","extraReducers","extraEnhancers","_handleActions"];var Zr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._handleActions=null,this.hooks=Qr.reduce(function(e,t){return e[t]=[],e},{})}var t,n,r;return t=e,n=[{key:"use",value:function(e){Nr()(Er()(e),"plugin.use: plugin should be plain object");var t=this.hooks;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Nr()(t[n],"plugin.use: unknown plugin property: ".concat(n)),"_handleActions"===n?this._handleActions=e[n]:"extraEnhancers"===n?t[n]=e[n]:t[n].push(e[n]))}},{key:"apply",value:function(e,t){var n=this.hooks;Nr()(["onError","onHmr"].indexOf(e)>-1,"plugin.apply: hook ".concat(e," cannot be applied"));var r=n[e];return function(){if(r.length){var e=!0,n=!1,o=void 0;try{for(var i,a=r[Symbol.iterator]();!(e=(i=a.next()).done);e=!0)i.value.apply(void 0,arguments)}catch(e){n=!0,o=e}finally{try{e||null==a.return||a.return()}finally{if(n)throw o}}}else t&&t.apply(void 0,arguments)}}},{key:"get",value:function(e){var t,n=this.hooks;return Nr()(e in n,"plugin.get: hook ".concat(e," cannot be got")),"extraReducers"===e?function(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)t=Qe({},t,i.value)}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}(n[e]):"onReducer"===e?(t=n[e],function(e){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)e=(0,i.value)(e)}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}):n[e]}}],n&&jr(t.prototype,n),r&&jr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function eo(e,t){var n="".concat(t.namespace).concat($r).concat(e),r=n.replace(/\/@@[^/]+?$/,"");return(Array.isArray(t.reducers)?t.reducers[0][r]:t.reducers&&t.reducers[r])||t.effects&&t.effects[r]?n:e}function to(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return Gr.a.mark(function a(){var s;return Gr.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=Gr.a.keys(e);case 1:if((a.t1=a.t0()).done){a.next=7;break}if(s=a.t1.value,!Object.prototype.hasOwnProperty.call(e,s)){a.next=5;break}return a.delegateYield(Gr.a.mark(function a(){var c,u;return Gr.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=no(s,e[s],t,n,o,i),a.next=3,r.fork(c);case 3:return u=a.sent,a.next=6,r.fork(Gr.a.mark(function e(){return Gr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.take("".concat(t.namespace,"/@@CANCEL_EFFECTS"));case 2:return e.next=4,r.cancel(u);case 4:case"end":return e.stop()}},e)}));case 6:case"end":return a.stop()}},a)})(),"t2",5);case 5:a.next=1;break;case 7:case"end":return a.stop()}},a)})}function no(e,t,n,o,i,a){var s,c,u=Gr.a.mark(g),l=t,d="takeEvery";if(Array.isArray(t)){var f=Br(t,1);l=f[0];var p=t[1];p&&p.type&&("throttle"===(d=p.type)&&(Nr()(p.ms,"app.start: opts.ms should be defined if type is throttle"),s=p.ms),"poll"===d&&(Nr()(p.delay,"app.start: opts.delay should be defined if type is poll"),c=p.delay)),Nr()(["watcher","takeEvery","takeLatest","throttle","poll"].indexOf(d)>-1,"app.start: effect type should be takeEvery, takeLatest, throttle, poll or watcher")}function m(){}function g(){var t,i,s,c,d,f,p,g,h,v=arguments;return Gr.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:for(t=v.length,i=new Array(t),s=0;s<t;s++)i[s]=v[s];return c=i.length>0?i[0]:{},d=c.__dva_resolve,f=void 0===d?m:d,p=c.__dva_reject,g=void 0===p?m:p,u.prev=2,u.next=5,r.put({type:"".concat(e).concat($r,"@@start")});case 5:return u.next=7,l.apply(void 0,Ir(i.concat(ro(n,a))));case 7:return h=u.sent,u.next=10,r.put({type:"".concat(e).concat($r,"@@end")});case 10:f(h),u.next=17;break;case 13:u.prev=13,u.t0=u.catch(2),o(u.t0,{key:e,effectArgs:i}),u.t0._dontReject||g(u.t0);case 17:case"end":return u.stop()}},u,null,[[2,13]])}var h=function(e,t,n,o){var i=!0,a=!1,s=void 0;try{for(var c,u=e[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){t=(0,c.value)(t,r,n,o)}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}return t}(i,g,n,e);switch(d){case"watcher":return g;case"takeLatest":return Gr.a.mark(function t(){return Gr.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.takeLatest(e,h);case 2:case"end":return t.stop()}},t)});case"throttle":return Gr.a.mark(function t(){return Gr.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.throttle(s,e,h);case 2:case"end":return t.stop()}},t)});case"poll":return Gr.a.mark(function t(){var n,o,i,a,s,u,l;return Gr.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=function(e,t){var r;return Gr.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=e.call;case 1:return n.next=4,r(h,t);case 4:return n.next=6,r(o,c);case 6:n.next=1;break;case 8:case"end":return n.stop()}},n)},o=function(e){return new Promise(function(t){return setTimeout(t,e)})},n=Gr.a.mark(i),a=r.call,s=r.take,u=r.race;case 4:return t.next=7,s("".concat(e,"-start"));case 7:return l=t.sent,t.next=10,u([a(i,r,l),s("".concat(e,"-stop"))]);case 10:t.next=4;break;case 12:case"end":return t.stop()}},t)});default:return Gr.a.mark(function t(){return Gr.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.takeEvery(e,h);case 2:case"end":return t.stop()}},t)})}}function ro(e,t){function n(n,r){Nr()(n,"dispatch: action should be a plain Object with type");var o=t.namespacePrefixWarning;(void 0===o||o)&&Ur()(0!==n.indexOf("".concat(e.namespace).concat($r)),"[".concat(r,"] ").concat(n," should not be prefixed with namespace ").concat(e.namespace))}function o(t){var o=t.type;return n(o,"sagaEffects.put"),r.put(Qe({},t,{type:eo(o,e)}))}return o.resolve=function(t){var o=t.type;return n(o,"sagaEffects.put.resolve"),r.put.resolve(Qe({},t,{type:eo(o,e)}))},Qe({},r,{put:o,take:function(t){return"string"===typeof t?(n(t,"sagaEffects.take"),r.take(eo(t,e))):Array.isArray(t)?r.take(t.map(function(t){return"string"===typeof t?(n(t,"sagaEffects.take"),eo(t,e)):t})):r.take(t)}})}function oo(e){return e}function io(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduce(function(e,t){return t(e,n)},e)}}function ao(e,t){var n=Object.keys(e).map(function(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oo;return function(n,r){var o=r.type;return Nr()(o,"dispatch: action should be a plain Object with type"),e===o?t(n,r):n}}(t,e[t])}),r=io.apply(void 0,Ir(n));return function(){return r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,arguments.length>1?arguments[1]:void 0)}}function so(e,t,n){return Array.isArray(e)?e[1]((n||ao)(e[0],t)):(n||ao)(e||{},t)}function co(e){return function(){return function(t){return function(n){return function(t){if(!t||"string"!==typeof t)return!1;var n=t.split($r),r=Br(n,1)[0],o=e._models.filter(function(e){return e.namespace===r})[0];if(o&&o.effects&&o.effects[t])return!0;return!1}(n.type)?new Promise(function(e,r){t(Qe({__dva_resolve:e,__dva_reject:r},n))}):t(n)}}}}function uo(e,t){return function(n){var r=n.type;return Nr()(r,"dispatch: action should be a plain Object with type"),Ur()(0!==r.indexOf("".concat(t.namespace).concat($r)),"dispatch: ".concat(r," should not be prefixed with namespace ").concat(t.namespace)),e(Qe({},n,{type:eo(r,t)}))}}function lo(e,t,n,r){var o=[],i=[];for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=(0,e[a])({dispatch:uo(n._store.dispatch,t),history:n._history},r);Wr(s)?o.push(s):i.push(a)}return{funcs:o,nonFuncs:i}}function fo(e,t){if(e[t]){var n=e[t],r=n.funcs,o=n.nonFuncs;Ur()(0===o.length,"[app.unmodel] subscription should return unlistener function, check these subscriptions ".concat(o.join(", ")));var i=!0,a=!1,s=void 0;try{for(var c,u=r[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){(0,c.value)()}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}delete e[t]}}var po=Yr,mo=zr,go={namespace:"@@dva",state:0,reducers:{UPDATE:function(e){return e+1}}};function ho(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.initialReducer,o=n.setupApp,i=void 0===o?po:o,a=new Zr;a.use((e=t,Object.keys(e).reduce(function(t,n){return Qr.indexOf(n)>-1&&(t[n]=e[n]),t},{})));var s={_models:[Xr(Qe({},go))],_store:null,_plugin:a,use:a.use.bind(a),model:c,start:function(){var e=function(e,t){e&&("string"===typeof e&&(e=new Error(e)),e.preventDefault=function(){e._dontReject=!0},a.apply("onError",function(e){throw new Error(e.stack||e)})(e,s._store.dispatch,t))},o=Sr(),c=co(s);s._getSaga=to.bind(null);var f=[],p=Qe({},r),m=!0,g=!1,h=void 0;try{for(var v,y=s._models[Symbol.iterator]();!(m=(v=y.next()).done);m=!0){var _=v.value;p[_.namespace]=so(_.reducers,_.state,a._handleActions),_.effects&&f.push(s._getSaga(_.effects,_,e,a.get("onEffect"),t))}}catch(e){g=!0,h=e}finally{try{m||null==y.return||y.return()}finally{if(g)throw h}}var b=a.get("onReducer"),w=a.get("extraReducers");Nr()(Object.keys(w).every(function(e){return!(e in p)}),"[app.start] extraReducers is conflict with other reducers, reducers list: ".concat(Object.keys(p).join(", "))),s._store=function(e){var t=e.reducers,n=e.initialState,r=e.plugin,o=e.sagaMiddleware,i=e.promiseMiddleware,a=e.createOpts.setupMiddlewares,s=void 0===a?Hr:a,c=r.get("extraEnhancers");Nr()(Vr(c),"[app.start] extraEnhancers should be array, but got ".concat($e(c)));var u=r.get("onAction"),l=s([i,o].concat(Ir(Fr()(u)))),d=dt,f=[ft.apply(void 0,Ir(l))].concat(Ir(c));return ut(t,n,d.apply(void 0,Ir(f)))}({reducers:j(),initialState:t.initialState||{},plugin:a,createOpts:n,sagaMiddleware:o,promiseMiddleware:c});var C=s._store;C.runSaga=o.run,C.asyncReducers={};var T=a.get("onStateChange"),S=!0,k=!1,N=void 0;try{for(var M,E=function(){var e=M.value;C.subscribe(function(){e(C.getState())})},O=T[Symbol.iterator]();!(S=(M=O.next()).done);S=!0)E()}catch(e){k=!0,N=e}finally{try{S||null==O.return||O.return()}finally{if(k)throw N}}f.forEach(o.run),i(s);var x={},A=!0,I=!1,P=void 0;try{for(var R,D=this._models[Symbol.iterator]();!(A=(R=D.next()).done);A=!0){var U=R.value;U.subscriptions&&(x[U.namespace]=lo(U.subscriptions,U,s,e))}}catch(e){I=!0,P=e}finally{try{A||null==D.return||D.return()}finally{if(I)throw P}}function j(){return b(lt(Qe({},p,w,s._store?s._store.asyncReducers:{})))}s.model=u.bind(s,j,e,x),s.unmodel=l.bind(s,j,p,x),s.replaceModel=d.bind(s,j,p,x,e)}};return s;function c(e){var t=Xr(Qe({},e));return s._models.push(t),t}function u(e,n,r,o){o=c(o);var i=s._store;i.asyncReducers[o.namespace]=so(o.reducers,o.state,a._handleActions),i.replaceReducer(e()),o.effects&&i.runSaga(s._getSaga(o.effects,o,n,a.get("onEffect"),t)),o.subscriptions&&(r[o.namespace]=lo(o.subscriptions,o,s,n))}function l(e,t,n,r){var o=s._store;delete o.asyncReducers[r],delete t[r],o.replaceReducer(e()),o.dispatch({type:"@@dva/UPDATE"}),o.dispatch({type:"".concat(r,"/@@CANCEL_EFFECTS")}),fo(n,r),s._models=s._models.filter(function(e){return e.namespace!==r})}function d(e,t,n,r,o){var i=s._store,a=o.namespace,c=mo(s._models,function(e){return e.namespace===a});~c&&(i.dispatch({type:"".concat(a,"/@@CANCEL_EFFECTS")}),delete i.asyncReducers[a],delete t[a],fo(n,a),s._models.splice(c,1)),s.model(o),i.dispatch({type:"@@dva/UPDATE"})}}var vo=n(10);function yo(e,t){return yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yo(e,t)}function _o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,yo(e,t)}function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bo.apply(null,arguments)}function wo(e){return"/"===e.charAt(0)}function Co(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}var To=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],i=e&&wo(e),a=t&&wo(t),s=i||a;if(e&&wo(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var c=o[o.length-1];n="."===c||".."===c||""===c}else n=!1;for(var u=0,l=o.length;l>=0;l--){var d=o[l];"."===d?Co(o,l):".."===d?(Co(o,l),u++):u&&(Co(o,l),u--)}if(!s)for(;u--;u)o.unshift("..");!s||""===o[0]||o[0]&&wo(o[0])||o.unshift("");var f=o.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f};var So="Invariant failed";function ko(e,t){if(!e)throw new Error(So)}function No(e){return"/"===e.charAt(0)?e:"/"+e}function Mo(e){return"/"===e.charAt(0)?e.substr(1):e}function Eo(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function Oo(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function xo(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function Ao(e,t,n,r){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=bo({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=To(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function Io(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"===typeof e?e(t,n):e;"string"===typeof i?"function"===typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}var Po=!("undefined"===typeof window||!window.document||!window.document.createElement);function Ro(e,t){t(window.confirm(e))}var Do="popstate",Uo="hashchange";function jo(){try{return window.history.state||{}}catch(e){return{}}}function Lo(e){void 0===e&&(e={}),Po||ko(!1);var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,s=void 0!==a&&a,c=i.getUserConfirmation,u=void 0===c?Ro:c,l=i.keyLength,d=void 0===l?6:l,f=e.basename?Oo(No(e.basename)):"";function p(e){var t=e||{},n=t.key,r=t.state,o=window.location,i=o.pathname+o.search+o.hash;return f&&(i=Eo(i,f)),Ao(i,r,n)}function m(){return Math.random().toString(36).substr(2,d)}var g=Io();function h(e){bo(E,e),E.length=n.length,g.notifyListeners(E.location,E.action)}function v(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||b(p(e.state))}function y(){b(p(jo()))}var _=!1;function b(e){if(_)_=!1,h();else{g.confirmTransitionTo(e,"POP",u,function(t){t?h({action:"POP",location:e}):function(e){var t=E.location,n=C.indexOf(t.key);-1===n&&(n=0);var r=C.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(_=!0,S(o))}(e)})}}var w=p(jo()),C=[w.key];function T(e){return f+xo(e)}function S(e){n.go(e)}var k=0;function N(e){1===(k+=e)&&1===e?(window.addEventListener(Do,v),o&&window.addEventListener(Uo,y)):0===k&&(window.removeEventListener(Do,v),o&&window.removeEventListener(Uo,y))}var M=!1;var E={length:n.length,action:"POP",location:w,createHref:T,push:function(e,t){var o="PUSH",i=Ao(e,t,m(),E.location);g.confirmTransitionTo(i,o,u,function(e){if(e){var t=T(i),a=i.key,c=i.state;if(r)if(n.pushState({key:a,state:c},null,t),s)window.location.href=t;else{var u=C.indexOf(E.location.key),l=C.slice(0,u+1);l.push(i.key),C=l,h({action:o,location:i})}else window.location.href=t}})},replace:function(e,t){var o="REPLACE",i=Ao(e,t,m(),E.location);g.confirmTransitionTo(i,o,u,function(e){if(e){var t=T(i),a=i.key,c=i.state;if(r)if(n.replaceState({key:a,state:c},null,t),s)window.location.replace(t);else{var u=C.indexOf(E.location.key);-1!==u&&(C[u]=i.key),h({action:o,location:i})}else window.location.replace(t)}})},go:S,goBack:function(){S(-1)},goForward:function(){S(1)},block:function(e){void 0===e&&(e=!1);var t=g.setPrompt(e);return M||(N(1),M=!0),function(){return M&&(M=!1,N(-1)),t()}},listen:function(e){var t=g.appendListener(e);return N(1),function(){N(-1),t()}}};return E}var Fo="hashchange",Bo={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+Mo(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:Mo,decodePath:No},slash:{encodePath:No,decodePath:No}};function qo(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function Go(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function Vo(e){window.location.replace(qo(window.location.href)+"#"+e)}function Wo(e){void 0===e&&(e={}),Po||ko(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,o=void 0===r?Ro:r,i=n.hashType,a=void 0===i?"slash":i,s=e.basename?Oo(No(e.basename)):"",c=Bo[a],u=c.encodePath,l=c.decodePath;function d(){var e=l(Go());return s&&(e=Eo(e,s)),Ao(e)}var f=Io();function p(e){bo(k,e),k.length=t.length,f.notifyListeners(k.location,k.action)}var m=!1,g=null;function h(){var e,t,n=Go(),r=u(n);if(n!==r)Vo(r);else{var i=d(),a=k.location;if(!m&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(g===xo(i))return;g=null,function(e){if(m)m=!1,p();else{var t="POP";f.confirmTransitionTo(e,t,o,function(n){n?p({action:t,location:e}):function(e){var t=k.location,n=b.lastIndexOf(xo(t));-1===n&&(n=0);var r=b.lastIndexOf(xo(e));-1===r&&(r=0);var o=n-r;o&&(m=!0,w(o))}(e)})}}(i)}}var v=Go(),y=u(v);v!==y&&Vo(y);var _=d(),b=[xo(_)];function w(e){t.go(e)}var C=0;function T(e){1===(C+=e)&&1===e?window.addEventListener(Fo,h):0===C&&window.removeEventListener(Fo,h)}var S=!1;var k={length:t.length,action:"POP",location:_,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=qo(window.location.href)),n+"#"+u(s+xo(e))},push:function(e,t){var n="PUSH",r=Ao(e,void 0,void 0,k.location);f.confirmTransitionTo(r,n,o,function(e){if(e){var t=xo(r),o=u(s+t);if(Go()!==o){g=t,function(e){window.location.hash=e}(o);var i=b.lastIndexOf(xo(k.location)),a=b.slice(0,i+1);a.push(t),b=a,p({action:n,location:r})}else p()}})},replace:function(e,t){var n="REPLACE",r=Ao(e,void 0,void 0,k.location);f.confirmTransitionTo(r,n,o,function(e){if(e){var t=xo(r),o=u(s+t);Go()!==o&&(g=t,Vo(o));var i=b.indexOf(xo(k.location));-1!==i&&(b[i]=t),p({action:n,location:r})}})},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&(e=!1);var t=f.setPrompt(e);return S||(T(1),S=!0),function(){return S&&(S=!1,T(-1)),t()}},listen:function(e){var t=f.appendListener(e);return T(1),function(){T(-1),t()}}};return k}function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ho.apply(null,arguments)}function Yo(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var zo="Invariant failed";function Jo(e,t){if(!e)throw new Error(zo)}var $o=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=Lo(t.props),t}return _o(t,e),t.prototype.render=function(){return h.a.createElement(vo.e,{history:this.history,children:this.props.children})},t}(h.a.Component);var Ko=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=Wo(t.props),t}return _o(t,e),t.prototype.render=function(){return h.a.createElement(vo.e,{history:this.history,children:this.props.children})},t}(h.a.Component);var Xo=function(e,t){return"function"===typeof e?e(t):e},Qo=function(e,t){return"string"===typeof e?Ao(e,null,null,t):e},Zo=function(e){return e},ei=h.a.forwardRef;"undefined"===typeof ei&&(ei=Zo);var ti=ei(function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,i=Yo(e,["innerRef","navigate","onClick"]),a=i.target,s=Ho({},i,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return s.ref=Zo!==ei&&t||n,h.a.createElement("a",s)});var ni=ei(function(e,t){var n=e.component,r=void 0===n?ti:n,o=e.replace,i=e.to,a=e.innerRef,s=Yo(e,["component","replace","to","innerRef"]);return h.a.createElement(vo.h.Consumer,null,function(e){e||Jo(!1);var n=e.history,c=Qo(Xo(i,e.location),e.location),u=c?n.createHref(c):"",l=Ho({},s,{href:u,navigate:function(){var t=Xo(i,e.location),r=xo(e.location)===xo(Qo(t));(o||r?n.replace:n.push)(t)}});return Zo!==ei?l.ref=t||a:l.innerRef=a,h.a.createElement(r,l)})}),ri=function(e){return e},oi=h.a.forwardRef;"undefined"===typeof oi&&(oi=ri);var ii=oi(function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,o=e.activeClassName,i=void 0===o?"active":o,a=e.activeStyle,s=e.className,c=e.exact,u=e.isActive,l=e.location,d=e.sensitive,f=e.strict,p=e.style,m=e.to,g=e.innerRef,v=Yo(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return h.a.createElement(vo.h.Consumer,null,function(e){e||Jo(!1);var n=l||e.location,o=Qo(Xo(m,n),n),y=o.pathname,_=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=_?Object(vo.j)(n.pathname,{path:_,exact:c,sensitive:d,strict:f}):null,w=!!(u?u(b,n):b),C="function"===typeof s?s(w):s,T="function"===typeof p?p(w):p;w&&(C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")}(C,i),T=Ho({},T,a));var S=Ho({"aria-current":w&&r||null,className:C,style:T,to:o},v);return ri!==oi?S.ref=t||g:S.innerRef=g,h.a.createElement(ni,S)})}),ai=n(22),si=n.n(ai),ci=n(123),ui="@@router/LOCATION_CHANGE",li=function(e,t){return{type:ui,payload:{location:e,action:t,isFirstRendering:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}},di="@@router/CALL_HISTORY_METHOD",fi=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return{type:di,payload:{method:e,args:n}}}},pi=fi("push"),mi=fi("replace"),gi=fi("go"),hi=fi("goBack"),vi=fi("goForward"),yi={push:pi,replace:mi,go:gi,goBack:hi,goForward:vi};function _i(e){return _i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_i(e)}var bi=function(e){var t=e.getIn,n=e.toJS,r=function(e){var r,o=n(t(e,["router"]));if(null==(r=o)||"object"!==_i(r)||!t(r,["location"])||!t(r,["action"]))throw'Could not find router reducer in state tree, it must be mounted under "router"';return o},o=function(e){return n(t(r(e),["location"]))};return{getLocation:o,getAction:function(e){return n(t(r(e),["action"]))},getRouter:r,getSearch:function(e){return n(t(r(e),["location","search"]))},getHash:function(e){return n(t(r(e),["location","hash"]))},createMatchSelector:function(e){var t=null,n=null;return function(r){var i=(o(r)||{}).pathname;if(i===t)return n;t=i;var a=Object(ci.b)(i,e);return a&&n&&a.url===n.url||(n=a),n}}}};function wi(e){return wi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wi(e)}function Ci(){return Ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ci.apply(this,arguments)}function Ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Si(e,t){return!t||"object"!==wi(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ki(e){return ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ki(e)}function Ni(e,t){return Ni=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ni(e,t)}var Mi=function(e){var t=bi(e).getLocation,n=function(e){function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=Si(this,ki(n).call(this,e));var o=e.store,i=e.history,a=e.onLocationChanged;r.inTimeTravelling=!1,r.unsubscribe=o.subscribe(function(){var e=t(o.getState()),n=e.pathname,a=e.search,s=e.hash,c=i.location,u=c.pathname,l=c.search,d=c.hash;u===n&&l===a&&d===s||(r.inTimeTravelling=!0,i.push({pathname:n,search:a,hash:s}))});var s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r.inTimeTravelling?r.inTimeTravelling=!1:a(e,t,n)};return r.unlisten=i.listen(s),s(i.location,i.action,!0),r}var r,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ni(e,t)}(n,e),r=n,(o=[{key:"componentWillUnmount",value:function(){this.unlisten(),this.unsubscribe()}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.children;return h.a.createElement(ci.a,{history:t},n)}}])&&Ti(r.prototype,o),i&&Ti(r,i),n}(g.PureComponent);n.propTypes={store:si.a.shape({getState:si.a.func.isRequired,subscribe:si.a.func.isRequired}).isRequired,history:si.a.shape({action:si.a.string.isRequired,listen:si.a.func.isRequired,location:si.a.object.isRequired,push:si.a.func.isRequired}).isRequired,basename:si.a.string,children:si.a.oneOfType([si.a.func,si.a.node]),onLocationChanged:si.a.func.isRequired};var r=function(e){var t=e.context||$;if(null==t)throw"Please upgrade to react-redux v6";return h.a.createElement(t.Consumer,null,function(t){var r=t.store;return h.a.createElement(n,Ci({store:r},e))})};return r.propTypes={context:si.a.object},Re(null,function(e){return{onLocationChanged:function(t,n,r){return e(li(t,n,r))}}})(r)},Ei=function(e){var t=e.fromJS,n=e.merge;return function(e){var r=t({location:e.location,action:e.action});return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.type,a=o.payload;if(i===ui){var s=a.location,c=a.action;return a.isFirstRendering?e:n(e,{location:t(s),action:c})}return e}}};function Oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xi={fromJS:function(e){return e},getIn:function(e,t){if(!e)return e;var n=t.length;if(n){for(var r=e,o=0;o<n&&r;++o)r=r[t[o]];return r}},merge:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Oi(e,t,n[t])})}return e}({},e,t)},toJS:function(e){return e}},Ai=xi;function Ii(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Pi=function(e){return function(t){return function(t){return function(n){if(n.type!==di)return t(n);var r=n.payload,o=r.method,i=r.args;e[o].apply(e,Ii(i))}}}},Ri=Mi(Ai),Di=Ei(Ai),Ui=bi(Ai),ji=Ui.getLocation,Li=Ui.getAction,Fi=Ui.getHash,Bi=Ui.getSearch,qi=Ui.createMatchSelector,Gi=n(138),Vi=n.n(Gi);function Wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function Hi(e,t){return Hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hi(e,t)}function Yi(e){return Yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yi(e)}function zi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zi=function(){return!!e})()}function Ji(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}var $i={};var Ki=function(){return null};function Xi(e){var t=e.resolve;return function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hi(e,t)}(a,n);var r,o,i=(r=a,o=zi(),function(){var e,t=Yi(r);if(o){var n=Yi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ji(this,e)});function a(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=i.call.apply(i,[this].concat(r))).LoadingComponent=e.LoadingComponent||Ki,t.state={AsyncComponent:null},t.load(),t}return function(e,t,n){t&&Wi(e.prototype,t),n&&Wi(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(a,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"load",value:function(){var e=this;t().then(function(t){var n=t.default||t;e.mounted?e.setState({AsyncComponent:n}):e.state.AsyncComponent=n})}},{key:"render",value:function(){var e=this.state.AsyncComponent,t=this.LoadingComponent;return e?h.a.createElement(e,this.props):h.a.createElement(t,this.props)}}]),a}(g.Component)}function Qi(e){var t=e.app,n=e.models,r=e.component;return Xi(f({resolve:e.resolve||function(){var e="function"===typeof n?n():[],o=r();return new Promise(function(n){Promise.all([].concat(m(e),[o])).then(function(r){if(!e||!e.length)return n(r[0]);var o=e.length;r.slice(0,o).forEach(function(e){e=e.default||e,Array.isArray(e)||(e=[e]),e.map(function(e){return function(e,t){t=t.default||t,$i[t.namespace]||(e.model(t),$i[t.namespace]=1)}(t,e)})}),n(r[o])})})}},e))}Qi.setDefaultLoadingComponent=function(e){Ki=e};var Zi=Di,ea=Pi,ta=Jr.isFunction,na=vo.k,ra=vo.l,oa=vo.m,ia=vo.n;function aa(e,t,n){return function(r){return h.a.createElement(te,{store:e},n(f({app:t,history:t._history},r)))}}function sa(e,t,r,o){n(90).createRoot(e).render(h.a.createElement(aa(t,r,o)))}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.history||W(),n={initialReducer:{router:Zi(t)},setupMiddlewares:function(e){return[ea(t)].concat(m(e))},setupApp:function(e){e._history=function(e){var t=e.listen;return e.listen=function(n){var r=n.toString(),o="handleLocationChange"===n.name&&r.indexOf("onLocationChanged")>-1||r.indexOf(".inTimeTravelling")>-1&&r.indexOf(".inTimeTravelling")>-1&&r.indexOf("arguments[2]")>-1;return n(e.location,e.action,{__isDvaPatch:!0}),t.call(e,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o?n.apply(void 0,t):setTimeout(function(){n.apply(void 0,t)})})},e}(t)}},r=ho(e,n),o=r.start;return r.router=function(e){y()(ta(e),"[app.router] router should be function, but got ".concat(c(e))),r._router=e},r.start=function(e){t=e,"string"===typeof t&&(e=J.a.querySelector(e),y()(e,"[app.start] container ".concat(e," not found")));var t;y()(!e||function(e){return"object"===c(e)&&null!==e&&e.nodeType&&e.nodeName}(e),"[app.start] container should be HTMLElement"),y()(r._router,"[app.start] router must be registered before app.start()"),r._store||o.call(r);var n=r._store;if(r._getProvider=aa.bind(null,n,r),!e)return aa(n,this,this._router);sa(e,n,r,r._router),r._plugin.apply("onHmr")(sa.bind(null,e,n,r))},r}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"asyncCall",function(){return b}),n.d(r,"syncCall",function(){return w});var o={};n.r(o),n.d(o,"asyncCall",function(){return oe}),n.d(o,"syncCall",function(){return ie});var i={};n.r(i),n.d(i,"ABILITY_NAME",function(){return Ee}),n.d(i,"APIS",function(){return Oe}),n.d(i,"CommitAction",function(){return Ne}),n.d(i,"UTStatus",function(){return Me}),n.d(i,"commitEvent",function(){return xe}),n.d(i,"pageAppear",function(){return Ae}),n.d(i,"pageDisAppear",function(){return Ie}),n.d(i,"skipPage",function(){return Pe}),n.d(i,"pageAppearDonotSkip",function(){return Re}),n.d(i,"updatePageName",function(){return De}),n.d(i,"updatePageUrl",function(){return Ue}),n.d(i,"updatePageStatus",function(){return je}),n.d(i,"updatePageUtparam",function(){return Le}),n.d(i,"updateNextPageUtparam",function(){return Fe}),n.d(i,"updatePageProperties",function(){return Be}),n.d(i,"updateNextPageProperties",function(){return qe}),n.d(i,"updateSessionProperties",function(){return Ge}),n.d(i,"updateNextPageUtparamCnt",function(){return Ve}),n.d(i,"getPageSpmUrl",function(){return We}),n.d(i,"getPageSpmPre",function(){return He}),n.d(i,"requestPageAllProperties",function(){return Ye}),n.d(i,"turnOnUTRealtimeDebug",function(){return ze});var a=n(26);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d,f=n(59),p=n(58),m=n(16),g=n(214),h=n(57);function v(){var e=Object(h.getContext)().mtopEvent;if(!d)try{var t;d=JSON.parse(decodeURIComponent(null===e||void 0===e||null===(t=e.httpInfo)||void 0===t?void 0:t.headers["api-context"]))||[]}catch(e){null===h.logger||void 0===h.logger||h.logger.info("getInfo err: ".concat(JSON.stringify(e)))}}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v();var r={isMatch:!1,res:{statusCode:m.a.ServerDataNotFound,type:"result"}};return Array.isArray(d)&&d.forEach(function(o){Array.isArray(o)&&(o[0]||"")==="".concat(e,".").concat(t)&&JSON.stringify(o[1]||{})===JSON.stringify(n)&&(r={isMatch:!0,res:o[2]||{statusCode:m.a.ServerDataNotFound,type:"result"}})}),r}function _(e,t){v();var n=!1;return Array.isArray(d)&&d.forEach(function(r){Array.isArray(r)&&(r[0]||"")==="".concat(e,".").concat(t)&&(n=!0)}),n}function b(e,t){var n=arguments.length>3?arguments[3]:void 0,r=y(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});r.isMatch?n(r.res):n({statusCode:m.a.ServerDataNotFound,type:"result"})}function w(e,t,n){if("ability"===e&&"available"===t)return{statusCode:_(null===n||void 0===n?void 0:n.ability,null===n||void 0===n?void 0:n.api)?m.a.Success:m.a.ServerAPINotFound,type:"YES"};var r=y(e,t,n);return r.isMatch?r.res:{statusCode:m.a.ServerDataNotFound,type:"result"}}var C=n(231);function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var S=n(28);function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(N=function(){return!!e})()}function M(e,t,n){return M=N()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&k(o,n.prototype),o},M.apply(null,arguments)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function O(e){var t="function"===typeof Map?new Map:void 0;return O=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return M(e,arguments,E(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),k(r,e)},O(e)}function x(e,t){return!t||"object"!==((n=t)&&"undefined"!==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!==typeof t?T(e):t;var n}var A=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(o,e);var t,n,r=(t=o,n=N(),function(){var e,r=E(t);if(n){var o=E(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return x(this,e)});function o(e,t,n,i,a){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),s=r.call(this,e),Object(S.a)(T(s),"ability",void 0),Object(S.a)(T(s),"api",void 0),Object(S.a)(T(s),"params",void 0),Object(S.a)(T(s),"output",void 0),Object(S.a)(T(s),"statusCode",void 0),Object(S.a)(T(s),"data",void 0),Object(S.a)(T(s),"type",void 0),s.name="UNIAPIError",s.ability=t,s.api=n,s.params=i,s.output=a,s.statusCode=a.statusCode,s.data=a.data,s.type=a.type,s}return o}(O(Error)),I=function(e){throw e};n(36);var P=!!Object(h.getContext)(),R=C.a||P,D=P?r:g;function U(e){var t={};for(var n in e||{})"function"!==typeof e[n]&&(t[n]=e[n]);return t}function j(e){var t=Object(p.a)(Object(f.a)({},e),{originStatusCode:null===e||void 0===e?void 0:e.statusCode});return(null===e||void 0===e?void 0:e.statusCode)<m.a.Finish&&(t.statusCode=m.a.Success),t}function L(e,t,n,r){var o=(r||{}).needThrowError,i=void 0===o||o,a=U(n),s=j(D.syncCall(e,t,a));if(!R&&("undefined"===typeof s||s.statusCode!==m.a.Success)){var c=new A("Error in syncCall:".concat(e,"-").concat(t,": params: ").concat(JSON.stringify(a),", output: ").concat(JSON.stringify(s)),e,t,a,s);i&&I(c)}return s}var F,B=n(230),q="ability",G="available",V="instanceAvailable",W=!!Object(B.getContext)(),H=new Map,Y="";!function(e){e[e.LessThan=-1]="LessThan",e[e.EqualTo=0]="EqualTo",e[e.GreaterThan=1]="GreaterThan"}(F||(F={}));function z(e){return e&&0===e.statusCode&&"YES"===e.type}function J(e,t){if(!W&&("undefined"===typeof window||!window.__megability_bridge__))return!1;if(/AliApp\((TB.*)\/([\d.]+)\)/.test(navigator.userAgent)&&function(e,t){for(var n=String(e).split("."),r=String(t).split("."),o=0;o<Math.min(n.length,r.length);o++){var i=Number(n[o]),a=Number(r[o]);if(i>a)return F.GreaterThan;if(a>i)return F.LessThan;if(!isNaN(i)&&isNaN(a))return F.GreaterThan;if(isNaN(i)&&!isNaN(a))return F.LessThan}return F.EqualTo}(function(){if(Y)return Y;if("undefined"!==typeof navigator){var e=navigator.userAgent.match(/AliApp\((TB.*)\/([\d.]+)\)/);Y=e?e[2]:""}return Y}(),"10.26.0")===F.LessThan)return!1;if("function"===typeof e&&"function"===typeof e.getAbilityInfo){var n=l(e.getAbilityInfo(),3),r=n[0],o=n[1],i=n[2],a=!1;if(i){var s=i.ability,u="".concat(r,"-").concat(o,"-").concat(s);if(H.has(u))a=H.get(u);else a=z(L(q,V,i,{needThrowError:!1})),H.set(u,a)}else{var d="".concat(r,"-").concat(o);if(H.has(d))a=H.get(d);else a=z(L(q,G,c({ability:r,api:o},t||{}),{needThrowError:!1})),H.set(d,a)}return a}return!1}var $,K=n(62),X=n(61),Q=n(17),Z=n(215),ee=n(60);function te(){var e=Object(ee.getContext)().mtopEvent;if(!$)try{var t;$=JSON.parse(decodeURIComponent(null===e||void 0===e||null===(t=e.httpInfo)||void 0===t?void 0:t.headers["api-context"]))||[]}catch(e){null===ee.logger||void 0===ee.logger||ee.logger.info("getInfo err: ".concat(JSON.stringify(e)))}}function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};te();var r={isMatch:!1,res:{statusCode:Q.a.ServerDataNotFound,type:"result"}};return Array.isArray($)&&$.forEach(function(o){Array.isArray(o)&&(o[0]||"")==="".concat(e,".").concat(t)&&JSON.stringify(o[1]||{})===JSON.stringify(n)&&(r={isMatch:!0,res:o[2]||{statusCode:Q.a.ServerDataNotFound,type:"result"}})}),r}function re(e,t){te();var n=!1;return Array.isArray($)&&$.forEach(function(r){Array.isArray(r)&&(r[0]||"")==="".concat(e,".").concat(t)&&(n=!0)}),n}function oe(e,t){var n=arguments.length>3?arguments[3]:void 0,r=ne(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});r.isMatch?n(r.res):n({statusCode:Q.a.ServerDataNotFound,type:"result"})}function ie(e,t,n){if("ability"===e&&"available"===t)return{statusCode:re(null===n||void 0===n?void 0:n.ability,null===n||void 0===n?void 0:n.api)?Q.a.Success:Q.a.ServerAPINotFound,type:"YES"};var r=ne(e,t,n);return r.isMatch?r.res:{statusCode:Q.a.ServerDataNotFound,type:"result"}}var ae=n(232);function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ce=n(29);function ue(e,t){return ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ue(e,t)}function le(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(le=function(){return!!e})()}function de(e,t,n){return de=le()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&ue(o,n.prototype),o},de.apply(null,arguments)}function fe(e){return fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fe(e)}function pe(e){var t="function"===typeof Map?new Map:void 0;return pe=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return de(e,arguments,fe(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ue(r,e)},pe(e)}function me(e,t){return!t||"object"!==((n=t)&&"undefined"!==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!==typeof t?se(e):t;var n}var ge=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(o,e);var t,n,r=(t=o,n=le(),function(){var e,r=fe(t);if(n){var o=fe(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return me(this,e)});function o(e,t,n,i,a){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),s=r.call(this,e),Object(ce.a)(se(s),"ability",void 0),Object(ce.a)(se(s),"api",void 0),Object(ce.a)(se(s),"params",void 0),Object(ce.a)(se(s),"output",void 0),Object(ce.a)(se(s),"statusCode",void 0),Object(ce.a)(se(s),"data",void 0),Object(ce.a)(se(s),"type",void 0),s.name="UNIAPIError",s.ability=t,s.api=n,s.params=i,s.output=a,s.statusCode=a.statusCode,s.data=a.data,s.type=a.type,s}return o}(pe(Error)),he=function(e){throw e},ve=function(e){throw e};var ye=n(37),_e=!!Object(ee.getContext)(),be=ae.a||_e,we=_e?o:Z;function Ce(e){var t={};for(var n in e||{})"function"!==typeof e[n]&&(t[n]=e[n]);return t}function Te(e){var t=Object(X.a)(Object(K.a)({},e),{originStatusCode:null===e||void 0===e?void 0:e.statusCode});return(null===e||void 0===e?void 0:e.statusCode)<Q.a.Finish&&(t.statusCode=Q.a.Success),t}function Se(e,t,n,r){var o=(r||{}).needThrowError,i=void 0===o||o,a=Ce(n),s=Te(we.syncCall(e,t,a));if(!be&&("undefined"===typeof s||s.statusCode!==Q.a.Success)){var c=new ge("Error in syncCall:".concat(e,"-").concat(t,": params: ").concat(JSON.stringify(a),", output: ").concat(JSON.stringify(s)),e,t,a,s);i&&ve(c)}return s}function ke(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o={};Object.keys(n).forEach(function(e){var t=n[e];"function"===typeof t&&(o[e.toLowerCase()]=t)});var i=!0;return new Promise(function(a,s){var c=Ce(n);we.asyncCall(e,t,c,function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye.a;if(u.statusCode!==Q.a.Finish){var l=Te(u);if("function"===typeof r&&function(e){return e.statusCode!==Q.a.Finish}(u)&&r(l),i){if(l.statusCode===Q.a.Success)a(l);else{var d=new ge("Error in asyncCall:".concat(e,"-").concat(t,": params: ").concat(JSON.stringify(c),", output: ").concat(JSON.stringify(l)),e,t,c,l);s(d)}i=!1}if(l.originStatusCode!==Q.a.None)if(l.statusCode!==Q.a.Success)"function"===typeof n.onError&&n.onError(l);else if(l.type){var f=l.type;f=/^on/.test(f)?f.toLowerCase():"on".concat(f.toLowerCase());var p=o[f];"function"===typeof p&&p(l.data||{})}}})}).catch(he)}var Ne,Me,Ee="ut",Oe={commitEvent:"commitEvent",pageAppear:"pageAppear",pageDisAppear:"pageDisAppear",skipPage:"skipPage",pageAppearDonotSkip:"pageAppearDonotSkip",updatePageName:"updatePageName",updatePageUrl:"updatePageUrl",updatePageStatus:"updatePageStatus",updatePageUtparam:"updatePageUtparam",updateNextPageUtparam:"updateNextPageUtparam",updatePageProperties:"updatePageProperties",updateNextPageProperties:"updateNextPageProperties",updateSessionProperties:"updateSessionProperties",updateNextPageUtparamCnt:"updateNextPageUtparamCnt",getPageSpmUrl:"getPageSpmUrl",getPageSpmPre:"getPageSpmPre",requestPageAllProperties:"requestPageAllProperties",turnOnUTRealtimeDebug:"turnOnUTRealtimeDebug"};function xe(e){return ke(Ee,Oe.commitEvent,e)}function Ae(e){return ke(Ee,Oe.pageAppear,e)}function Ie(e){return ke(Ee,Oe.pageDisAppear,e)}function Pe(e){return ke(Ee,Oe.skipPage,e)}function Re(e){return ke(Ee,Oe.pageAppearDonotSkip,e)}function De(e){return ke(Ee,Oe.updatePageName,e)}function Ue(e){return ke(Ee,Oe.updatePageUrl,e)}function je(e){return ke(Ee,Oe.updatePageStatus,e)}function Le(e){return ke(Ee,Oe.updatePageUtparam,e)}function Fe(e){return ke(Ee,Oe.updateNextPageUtparam,e)}function Be(e){return ke(Ee,Oe.updatePageProperties,e)}function qe(e){return ke(Ee,Oe.updateNextPageProperties,e)}function Ge(e){return ke(Ee,Oe.updateSessionProperties,e)}function Ve(e){return ke(Ee,Oe.updateNextPageUtparamCnt,e)}function We(e){return Se(Ee,Oe.getPageSpmUrl,e).data}function He(e){return Se(Ee,Oe.getPageSpmPre,e).data}function Ye(e){return ke(Ee,Oe.requestPageAllProperties,e)}function ze(e){return ke(Ee,Oe.turnOnUTRealtimeDebug,e)}!function(e){e.click="click",e.componentExposure="componentExposure",e.pageExposure="pageExposure",e.custom="custom"}(Ne||(Ne={})),function(e){e.UT_H5_IN_WebView="UT_H5_IN_WebView"}(Me||(Me={})),xe.getAbilityInfo=function(){return[Ee,Oe.commitEvent]},Ae.getAbilityInfo=function(){return[Ee,Oe.pageAppear]},Ie.getAbilityInfo=function(){return[Ee,Oe.pageDisAppear]},Pe.getAbilityInfo=function(){return[Ee,Oe.skipPage]},Re.getAbilityInfo=function(){return[Ee,Oe.pageAppearDonotSkip]},De.getAbilityInfo=function(){return[Ee,Oe.updatePageName]},Ue.getAbilityInfo=function(){return[Ee,Oe.updatePageUrl]},je.getAbilityInfo=function(){return[Ee,Oe.updatePageStatus]},Le.getAbilityInfo=function(){return[Ee,Oe.updatePageUtparam]},Fe.getAbilityInfo=function(){return[Ee,Oe.updateNextPageUtparam]},Be.getAbilityInfo=function(){return[Ee,Oe.updatePageProperties]},qe.getAbilityInfo=function(){return[Ee,Oe.updateNextPageProperties]},Ge.getAbilityInfo=function(){return[Ee,Oe.updateSessionProperties]},Ve.getAbilityInfo=function(){return[Ee,Oe.updateNextPageUtparamCnt]},We.getAbilityInfo=function(){return[Ee,Oe.getPageSpmUrl]},He.getAbilityInfo=function(){return[Ee,Oe.getPageSpmPre]},Ye.getAbilityInfo=function(){return[Ee,Oe.requestPageAllProperties]},ze.getAbilityInfo=function(){return[Ee,Oe.turnOnUTRealtimeDebug]};var Je={render:"rx_render_err",data:"rx_data_fetch_err",error:"rax_error"},$e=function(e){var t=a.isNode||"undefined"===typeof location?"":location.href||"",n=Je[e.type]||(e.type?e.type+"/":"")+"rx_user_define_err",r=[t.replace(/[\?#].*$/,"").replace(/\/$/,""),e.module||"",n].join("/").toLowerCase();return a.isWeex?encodeURIComponent(r):r};var Ke=0,Xe={screen:"undefined"===typeof screen?"0x0":(screen&&screen.width)+"x"+(screen&&screen.height),sampling:1,version:"rx-tracker/3.0.12",native:a.isWeex?1:0,isInWindmill:0},Qe="/jstracker.3";function Ze(e){if(++Ke>20&&a.isWeb)return!1;var t=Object.assign({url:$e(e)},Xe,e);if(t.sampling=(a.isNode||"undefined"===typeof location?"":location.href).indexOf("jt_debug=1")>-1?1:t.sampling,function(){if(a.isWeb&&"undefined"!==typeof goldlog&&window.JSTracker2&&window.JSTracker2.push)return!0;return!1}())window.JSTracker2.push(t);else if(Math.random()*t.sampling<1)if(a.isWeex){var n="undefined"!==typeof __weex_options__&&__weex_options__.weex,r=a.isWeex&&"object"===typeof n&&n.config&&"windmill"===n.config.container||!1,o=!1;if("undefined"!==typeof navigator&&/themis/i.test(navigator.userAgent||"")||"undefined"!==typeof navigator&&/OpenHarmony/i.test(navigator.userAgent||""))J(i.commitEvent)&&i.commitEvent({action:i.CommitAction.custom,pageName:location.href,args:t,arg1:Qe,onResult:function(){}});else{var s;try{s=__weex_require__("@weex-module/userTrack")}catch(e){}if(r)try{var c=__weex_require__("@weex-module/keyboard");"function"==typeof c.hideKeyboard&&(o=!0)}catch(e){}s.commitEvent&&(r&&o?(t.isInWindmill="weex",s.commitEvent({eventId:"19999",eventid:"19999",name:location.href,pageName:location.href,arg1:Qe,arg2:"",arg3:"",param:t,params:t})):s.commitEvent(location.href,"19999",Qe,"","",t))}}else a.isWeb&&"undefined"!==typeof goldlog?(t.grey=function(e){if(document&&document.querySelector){var t=document.querySelector('meta[name="'+e+'"]');if(t)return t.getAttribute("content")}return""}("def-grey"),"undefined"!==typeof aplus&&(t=function(e){var t="";if("object"===typeof e)for(var n in e)""!=t&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]);else t=e;return t}(t)),goldlog.send&&goldlog.send("//gm.mmstat.com"+Qe,t)):function(){if("undefined"!==typeof my&&my.getSystemInfoSync&&"function"===typeof my.getSystemInfoSync&&("TB"===my.getSystemInfoSync().app||"alipay"===my.getSystemInfoSync().app))return!0;return!1}()&&(t.isInWindmill="web",function(e){my.request&&"function"===typeof my.request?my.request({url:"https://gm.mmstat.com"+Qe,method:"GET",data:e,dataType:"text"}).catch(function(){}):my.httpRequest&&"function"===typeof my.httpRequest&&my.httpRequest({url:"//gm.mmstat.com"+Qe,method:"get",data:e,dataType:"json"})}(t))}t.default={report:Ze,reportError:function(e,t,n){var r={};e&&e instanceof Error&&(r={stack:JSON.stringify(e.stack),name:e.name,message:e.message,type:"error",module:t},n&&(r.reverse1=n),Ze(r))},reportApi:function(e,t){e&&e.url&&(e.type="api",e.module=t,e.sampling=e.sampling||"100",Ze(e))},setConfig:function(e){e&&e.sampling&&(Xe.sampling=e.sampling),e&&e.pid&&(Xe.pid=e.pid)}}},,function(e,t,n){"use strict";var r,o=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"===typeof e&&a.test(e)},c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n};t.a=function(e,t,n){var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return l(r)}},,function(e,t,n){"use strict";var r=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(48)),i=n(747);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c={},u={align:"tc tc",offset:[0,80],duration:5e3},l={success:"success",alert:"warning",warning:"warning",prompt:"warning",error:"error",help:"help",loading:"loading"};Object.keys(l).forEach(function(e){c[e]=function(t){i.Message[l[e]](s(s({},u),{},{content:t,prefix:"im-next-"}))}}),c.show=function(e){"string"!==typeof e?i.Message.success(s(s({},e),{},{prefix:"im-next-"})):c.success(e)};t.default=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=$$_Next_1_27_7_},function(e,t,n){"use strict";var r=n(14),o=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48)),a=r(n(91)),s=r(n(23)),c=r(n(106)),u=r(n(92)),l=r(n(107)),d=(r(n(132)),function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,s={__proto__:null,default:e};if(null===e||"object"!=o(e)&&"function"!=typeof e)return s;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,s)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(a.get||a.set)?i(s,c,a):s[c]=e[c]);return s}(e,t)}(n(2))),f=r(n(137));function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var m=function(e){var t=e.src,n=e.defaultUrl;return t||n},g=function(e){function t(e){var n,r,o,i;return(0,a.default)(this,t),r=this,o=t,i=[e],o=(0,u.default)(o),(n=(0,c.default)(r,p()?Reflect.construct(o,i||[],(0,u.default)(r).constructor):o.apply(r,i))).state={url:m(e)},n.onError=n.onError.bind(n),n}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({url:m(e)})}},{key:"onError",value:function(){this.setState(function(e,t){return{url:t.defaultUrl}})}},{key:"render",value:function(){var e=this.state.url,t=this.props,n=t.className,r=t.defaultUrl,o=(0,f.default)("image",(0,i.default)({},n,!!n));return e===r?d.default.createElement("img",{className:o,src:e}):d.default.createElement("img",{className:o,src:e,onError:this.onError})}}])}(d.PureComponent);g.defaultProps={defaultUrl:"https://img.alicdn.com/tfs/TB1ZpaEpuuSBuNjy1XcXXcYjFXa-100-100.png"};t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={1:57,2:55,3:54,4:58,5:56,6:50,7:52,8:52,9:59,11:59,10:53,12:61,13:60,14:62,20:63}},,,function(e,t,n){"use strict";n.r(t),n.d(t,"Client",function(){return k});var r,o=n(49),i=n(134);!function(e){e.STREAM="0",e.NON_STREAM="1"}(r||(r={}));var a=n(133);const s=Object(a.createI18N)({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"chat"}),c=50005,u=()=>c;let l=location.href.indexOf("stream=1")>-1;const d=!1!==window.supportStream,f=!l&&d,p={common:s.get("ai.error.common")||"AI开了个小差，请您再试一次吧",overLength:s.get("ai.error.overlength")||"内容过长，请精简内容后再重试",serviceError:s.get("ai.error.service")||"当前服务暂不可用"},m={110:{errorMessage:p.serviceError,canRetry:!1},202:{errorMessage:p.serviceError,canRetry:!1},203:{errorMessage:p.serviceError,canRetry:!1},205:{errorMessage:p.serviceError,canRetry:!1},206:{errorMessage:p.serviceError,canRetry:!1},210:{errorMessage:p.serviceError,canRetry:!1},211:{errorMessage:p.serviceError,canRetry:!1},225:{errorMessage:p.serviceError,canRetry:!1},999:{errorMessage:p.serviceError,canRetry:!1},226:{errorMessage:p.common,canRetry:!0},228:{errorMessage:p.overLength,canRetry:!1},default:{errorMessage:p.serviceError,canRetry:!1}};var g=n(72),h=n(131),v=n.n(h),y=n(102),_=n(101);const b=new y.default("sse-adk");b.color("#228B22");const w={onOpen:()=>{b.log("sse onOpen")},onError:e=>{b.log("sse onError",e)},onMessage:()=>{},onRetry:()=>{b.log("sse onRetry")},topic:"CHAT_AI",bizcode:"",endpoint:"pc",appKey:u(),url:`https://${_.FMESSAGE_DOMAIN}/message/subscribe?channelId=CHAT_AI&appkey=${u()}`},C="MESSAGE_EVENT_ALL",T=e=>`MESSAGE_EVENT_${e}`;function S(e){let t=function(e){if("string"!==typeof e)return e;try{return JSON.parse(e)}catch(t){return e}}(e);if(Array.isArray(t))return S(t[0]);if("object"===typeof t){let e={};return Object.keys(t).forEach(n=>{const r=t[n];e[n]=S(r)}),e}return t}class k{constructor(){if(this.queryMap={},this.requestMap={},this.emitter=new o.EventEmitter,!f)return;const e=Object.assign(Object.assign({},w),k.config),{onOpen:t,onError:n,onMessage:r,onRetry:i,topic:a,bizcode:s,endpoint:c,appKey:u,url:l}=e;this.emitter.addListener(C,r);const d={eventSourceInit:{withCredentials:!0},options:{base:{topic:a,bizcode:s,endpoint:c,appKey:u}},unSubscribeOption:{url:l},handlers:{onOpen:t,onError:n,onMessage:e=>{const{type:t,data:n}=e,r=(Date.now(),S(n)),{timeStamp:o,msgIds:i,msgBody:a={}}=r;if(!i)return;const{channel:s,components:c={}}=a,{action:u,data:{origin:l={}}}=c,{code:d,data:f={},noticeBizType:p}=l,{type:m,requestId:g,body:h={}}=f,{content:v,contentId:y,streamEnd:_,streamId:w,timeStamp:C}=h,T=this.requestMap[g]||{},k=T.queryId;if((null===T||void 0===T?void 0:T.timeStamp)>=C&&!_)return void b.debug("sse skipMessage",T,l);if(b.debug("sse onMessage",l),200!==d)return void this.notifyError({code:d,requestId:g,queryId:k});const N={queryId:k,requestId:g,content:v,contentId:y,streamEnd:_,streamId:w,timeStamp:C};Object.assign(this.requestMap[g],N),this.notify(N)},onRetry:i}};if(window.SSEClient){new(0,window.SSEClient)(l,d)}else console.error("==== SSEClient does not exist! ====")}static getInstance(){return this.instance||(this.instance=new k),this.instance}static setConfig(e){Object.assign(this.config,e)}notify(e){const{queryId:t,requestId:n,content:r,contentId:o,streamEnd:i,streamId:a,timeStamp:s,code:c}=e;v()({ext:"ssesdkResNotify",bizData:{queryId:t,requestId:n,streamEnd:i,timeStamp:s,code:c}}),this.requestMap[n]=e;const u=T(n);this.emitter.emit(u,Object.assign({},e)),this.emitter.emit(C,Object.assign({},e)),i&&(this.emitter.removeAllListeners(u),b.debug("removeListeners",u))}notifyError(e={}){const{code:t,queryId:n,requestId:r}=e,o=((e="default")=>{const t=m[e]||m.default;return Object.assign({code:e},t)})(t),i=Object.assign({queryId:n,requestId:r,streamEnd:!0},o);this.notify(i)}getRequestId(e){const t=Object(g.getDeviceId)(),n=Object(g.getAliId)(),{scene:r,action:o}=e;return`${t}_${n}_${r}_${o}_${Date.now()}`}getQuery(e){return this.queryMap[e]}updateQuery(e,t){this.queryMap[e]||(this.queryMap[e]={}),Object.assign(this.queryMap[e],t)}updateRequestMap(e,t){this.requestMap[e]||(this.requestMap[e]={}),Object.assign(this.requestMap[e],t)}startQuery(e){const{queryId:t,multiple:n,scene:o,action:a,protocol:s=r.STREAM,context:c={},onMessageCallback:u}=e,l=this.getRequestId(e);try{const e=Object(g.getDeviceId)(),d={requestId:l,queryId:t,multiple:n,protocol:s,isStreamSupport:f};if("function"===typeof u){const e=T(l);this.emitter.addListener(e,u)}if(n){let e=0;const n=this.getQuery(t);if(n){const{temperatureX:t}=n;e=t+1}Object.assign(d,{temperatureX:e}),Object.assign(c,{temperatureX:e})}this.updateQuery(t,d),this.updateRequestMap(l,{queryId:t,requestId:l});const p={service:o,question:a,transferProtocol:f?s:r.NON_STREAM,requestId:l,deviceId:e,context:JSON.stringify(c)};b.log("start ai request:",t,l,c);const m=Date.now();return v()({ext:"ssesdkStartQuery",bizData:d}),Object(i.mtopRequest)({api:"mtop.alibaba.intl.ai.assistant.request",v:"1.1",appKey:"24889839",data:p,ecode:1,type:"POST",H5Request:!0,versionCode:1}).then((e={})=>{const{code:n,data:o={}}=e.data||{},{transferProtocol:i,body:a}=o;if(v()({ext:"ssesdkQueryRes",bizData:{code:n,requestId:l,transferProtocol:i,cost:Date.now()-m}}),"0"===n||"200"===n||0===n||200===n){if(+i===+r.NON_STREAM){const e={queryId:t,requestId:l,content:a,streamEnd:!0};this.notify(e)}return e}this.notifyError({code:n,requestId:l,queryId:t})}).catch(e=>{b.log(e),v()({ext:"ssesdkQueryError1",bizData:{error:e}}),this.notifyError({queryId:t,requestId:l})})}catch(e){b.log(e),v()({ext:"ssesdkQueryError2",bizData:{error:e}}),this.notifyError({queryId:t,requestId:l})}}test(){const e={queryId:"111",scene:"summary",action:"summary",protocol:"0",context:{bucketName:"compare2",questionDesc:JSON.stringify({messageId:"xxx001",conversationId:"17380523214-2211785826775#11011@icbu",contactAliId:2211785826775})}};this.startQuery(e)}}k.config={}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(14),o=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),a=r(n(137)),s=r(n(183)),c=R(n(478)),u=R(n(693)),l=r(n(104)),d=r(n(507)),f=r(n(190)),p=R(n(175)),m=r(n(517)),g=r(n(132)),h=r(n(698)),v=r(n(748)),y=R(n(33)),_=r(n(673)),b=R(n(55)),w=R(n(72)),C=r(n(677)),T=r(n(133)),S=R(n(134)),k=r(n(749)),N=R(n(156)),M=R(n(35)),E=R(n(220)),O=R(n(219)),x=R(n(752)),A=r(n(102)),I=r(n(250)),P=r(n(691));function R(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(R=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,s={__proto__:null,default:e};if(null===e||"object"!=o(e)&&"function"!=typeof e)return s;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,s)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(a.get||a.set)?i(s,c,a):s[c]=e[c]);return s})(e,t)}n(692);var D=window.$$_React_18_,U=window.$$_ReactDOM_18_,j=window.$$_Next_1_27_7_;window.__MessageTip__=h.default,window.__Image__=v.default,window.__PropTypes__=g.default;var L=window.__MessageTip__,F=window.__Image__;D.PropTypes=g.default,j.Feedback={toast:L},window.IcbuIM||(window.IcbuIM={});var B=window.IcbuIM;for(var q in B["prop-types"]=g.default,B.classnames=a.default,B["fetch-jsonp"]=s.default,B.redux=c,B["dva-immer"]=d.default,B["@alife/bc-i18n"]=T.default,B.dva1=u,B.React16=D,B.propTypes=g.default,B.ReactDOM16=U,B.Next1=j,B.moment=l.default,window.React||(window.React=D),window.EventBus=m.default,window.Next=j,B.react=D,B.React=D,B.propTypes=g.default,B.ReactDOM=U,B["react-dom"]=U,B.Next=j,B["@alife/next"]=j,B["@alife/im-alitalk-util"]=f.default,B["@alife/bc-cookie"]=p,B.dva=u,B.lib={},B.lib.MessageTip=L,B.lib.Image=F,B.lib.log=y.default,B.lib.generateTraceId=y.generateTraceId,B.lib.puckParameter=function(){var e=(0,i.default)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("==== 不要再继续使用puck了！ ===="),e.next=1,n();case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),B.lib.ctoken=B.lib.puckParameter,B.lib.errLog=function(){return console.warn("==== 不要再继续使用errLog了！ ====")},B.lib.Utils=_.default,B.lib.I18N=T.default,B.lib.requestHelper=S,B.lib.CardMap=k.default,B.lib.Logger=A.default,B.lib.track=I.default,B.CommonUtil=b,B.UserUtil=w,B.EmotionUtil=C.default,B.Constants=N,B.IMBaaSSDK=M,B.IMSDKHelper=E,B.PCSDK=O,B.SSESDK=x,B.Global=P.default,B)t[q]=B[q];t.default=B}]);
//# sourceMappingURL=air.js.map