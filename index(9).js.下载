!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t){e.exports=window.React},function(e,t,n){var r=n(6);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(15)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t){"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(e,t){function n(){var e={},t=new d((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e}function r(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function i(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}function o(){if(window.etSign)window.__etReady=!0;else{window.etReady=function(){window.__etReady=!0};var e=document.createElement("script");e.id="aplus-sufei",e.src="//g.alicdn.com/secdev/entry/index.js",i(e)}}function a(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function s(e){return"[object Object]"=={}.toString.call(e)}function c(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function u(e,t,n){var r=new Date;r.setTime(r.getTime()-864e5);document.cookie=e+"=;path=/;domain=."+t+";expires="+r.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+r.toGMTString()}function l(e,t){for(var n=e.split("."),r=t.split("."),i=0;3>i;i++){var o=Number(n[i]),a=Number(r[i]);if(o>a)return 1;if(a>o)return-1;if(!isNaN(o)&&isNaN(a))return 1;if(isNaN(o)&&!isNaN(a))return-1}return 0}function p(e){this.id=""+(new Date).getTime()+ ++w,this.params=r(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=h.slice(0)}var d=e.Promise,f=(d||{resolve:function(){}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var m={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},h=[],v={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var r=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),i=t.match(r)||[],o=i[2]||"taobao.com",a=i[1]||"m";"taobao.net"!==o||"x"!==a&&"waptest"!==a&&"daily"!==a?"taobao.net"===o&&"demo"===a?a="demo":"alibaba-inc.com"===o&&"zebra"===a?a="zebra":"waptest"!==a&&"wapa"!==a&&"m"!==a&&(a="m"):a="waptest";var s="h5api";"taobao.net"===o&&"waptest"===a&&(s="acs"),m.mainDomain=o,m.subDomain=a,m.prefix=s})(),function(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(m.WindVaneVersion=n[1]);var r=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);r&&(m.AliAppName=r[1],m.AliAppVersion=r[2]);var i=t.match(/AMapClient\/([\d\.\_]+)/i);i&&(m.AliAppName="AMAP",m.AliAppVersion=i[1])}();var g=/[Android|Adr]/.test(e.navigator.userAgent),y="AP"===m.AliAppName&&l(m.AliAppVersion,"10.1.2")>=0||"KB"===m.AliAppName&&l(m.AliAppVersion,"7.1.62")>=0||g&&"AMAP"===m.AliAppName&&l(m.AliAppVersion,"1.0.1")>=0,w=0;p.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},p.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},p.prototype.__processRequestType=function(n){var r=this,i=this.params,o=this.options;if(!0===m.H5Request&&(o.H5Request=!0),!0===m.WindVaneRequest&&(o.WindVaneRequest=!0),!1===o.H5Request&&!0===o.WindVaneRequest){if(!y&&(!t.windvane||parseFloat(o.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");if(y&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===o.H5Request)o.WindVaneRequest=!1;else if(void 0===o.WindVaneRequest&&void 0===o.H5Request){if(t.windvane&&parseFloat(o.WindVaneVersion)>=5.4?o.WindVaneRequest=!0:o.H5Request=!0,y){if(o.WindVaneRequest=o.H5Request=void 0,e.AlipayJSBridge)if(s(i.data))o.WindVaneRequest=!0;else try{s(JSON.parse(i.data))?o.WindVaneRequest=!0:o.H5Request=!0}catch(e){o.H5Request=!0}else o.H5Request=!0;"AMAP"!==m.AliAppName||i.useNebulaJSbridgeWithAMAP||(o.WindVaneRequest=o.H5Request=void 0,o.H5Request=!0)}window.self!==window.top&&(o.H5Request=!0)}var a=e.navigator.userAgent.toLowerCase();return a.indexOf("youku")>-1&&o.mainDomain.indexOf("youku.com")<0&&(o.WindVaneRequest=!1,o.H5Request=!0),o.mainDomain.indexOf("youku.com")>-1&&a.indexOf("youku")<0&&(o.WindVaneRequest=!1,o.H5Request=!0),n?n().then((function(){var e=o.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===o.WindVaneRequest&&y&&o.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!y||!isNaN(o.retJson.error)||-1!==o.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return y&&s(i.data)&&(i.data=JSON.stringify(i.data)),m.H5Request=!0,r.__sequence([r.__processRequestType,r.__processToken,r.__processRequestUrl,r.middlewares,r.__processRequest]);void 0===o.retJson.api&&void 0===o.retJson.v&&(o.retJson.api=i.api,o.retJson.v=i.v,o.retJson.ret=[o.retJson.error+"::"+o.retJson.errorMessage],o.retJson.data={})}})):void 0};var b="_m_h5_c",_="_m_h5_tk";p.prototype.__getTokenFromAlipay=function(){var t=n(),r=this.options,i=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===r.useAlipayJSBridge&&!i&&y&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",(function(e){e&&e.token&&(r.token=e.token),t.resolve()}),(function(){t.resolve()})):t.resolve(),t.promise},p.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&c(b)?e.token=c(b).split(";")[0]:e.token=e.token||c(_),e.token&&(e.token=e.token.split("_")[0]),d.resolve()},p.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},p.prototype.__processToken=function(e){var t=this,n=this.options;return this.params,n.token&&delete n.token,!0!==n.WindVaneRequest?f.then((function(){return t.__getTokenFromAlipay()})).then((function(){return t.__getTokenFromCookie()})).then(e).then((function(){var e=n.retJson,r=e.ret;if(r instanceof Array&&(r=r.join(",")),r.indexOf("TOKEN_EMPTY")>-1||(!0===n.CDR||!0===n.syncCookieMode)&&r.indexOf("ILLEGAL_ACCESS")>-1||r.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes){var i=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(!0===n.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){i=[function(e){var n=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(n).catch(n):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(i)}n.maxRetryTimes>0&&(u(b,n.pageDomain,"*"),u(_,n.mainDomain,n.subDomain),u("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=v.TOKEN_EXPIRED}})):void e()},p.prototype.__processRequestUrl=function(t){var n=this.params,r=this.options;if(r.hostSetting&&r.hostSetting[e.location.hostname]){var i=r.hostSetting[e.location.hostname];i.prefix&&(r.prefix=i.prefix),i.subDomain&&(r.subDomain=i.subDomain),i.mainDomain&&(r.mainDomain=i.mainDomain)}if(!0===r.H5Request){var a="//"+(r.prefix?r.prefix+".":"")+(r.subDomain?r.subDomain+".":"")+r.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",s=n.appKey||("waptest"===r.subDomain?"4272":"12574478"),c=(new Date).getTime(),u=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,i,o,a;return i=2147483648&e,o=2147483648&t,a=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^a^i^o:n|r?1073741824&a?3221225472^a^i^o:1073741824^a^i^o:a^i^o}function r(e,r,i,o,a,s,c){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(r,i,o),a),c)),n(t(e,s),r)}function i(e,r,i,o,a,s,c){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(r,i,o),a),c)),n(t(e,s),r)}function o(e,r,i,o,a,s,c){return e=n(e,n(n(function(e,t,n){return e^t^n}(r,i,o),a),c)),n(t(e,s),r)}function a(e,r,i,o,a,s,c){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(r,i,o),a),c)),n(t(e,s),r)}function s(e){var t,n="",r="";for(t=0;3>=t;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var c,u,l,p,d,f,m,h,v,g;for(g=function(e){for(var t,n=e.length,r=n+8,i=16*((r-r%64)/64+1),o=new Array(i-1),a=0,s=0;n>s;)a=s%4*8,o[t=(s-s%4)/4]=o[t]|e.charCodeAt(s)<<a,s++;return a=s%4*8,o[t=(s-s%4)/4]=o[t]|128<<a,o[i-2]=n<<3,o[i-1]=n>>>29,o}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e)),f=1732584193,m=4023233417,h=2562383102,v=271733878,c=0;c<g.length;c+=16)u=f,l=m,p=h,d=v,f=r(f,m,h,v,g[c+0],7,3614090360),v=r(v,f,m,h,g[c+1],12,3905402710),h=r(h,v,f,m,g[c+2],17,606105819),m=r(m,h,v,f,g[c+3],22,3250441966),f=r(f,m,h,v,g[c+4],7,4118548399),v=r(v,f,m,h,g[c+5],12,1200080426),h=r(h,v,f,m,g[c+6],17,2821735955),m=r(m,h,v,f,g[c+7],22,4249261313),f=r(f,m,h,v,g[c+8],7,1770035416),v=r(v,f,m,h,g[c+9],12,2336552879),h=r(h,v,f,m,g[c+10],17,4294925233),m=r(m,h,v,f,g[c+11],22,2304563134),f=r(f,m,h,v,g[c+12],7,1804603682),v=r(v,f,m,h,g[c+13],12,4254626195),h=r(h,v,f,m,g[c+14],17,2792965006),f=i(f,m=r(m,h,v,f,g[c+15],22,1236535329),h,v,g[c+1],5,4129170786),v=i(v,f,m,h,g[c+6],9,3225465664),h=i(h,v,f,m,g[c+11],14,643717713),m=i(m,h,v,f,g[c+0],20,3921069994),f=i(f,m,h,v,g[c+5],5,3593408605),v=i(v,f,m,h,g[c+10],9,38016083),h=i(h,v,f,m,g[c+15],14,3634488961),m=i(m,h,v,f,g[c+4],20,3889429448),f=i(f,m,h,v,g[c+9],5,568446438),v=i(v,f,m,h,g[c+14],9,3275163606),h=i(h,v,f,m,g[c+3],14,4107603335),m=i(m,h,v,f,g[c+8],20,1163531501),f=i(f,m,h,v,g[c+13],5,2850285829),v=i(v,f,m,h,g[c+2],9,4243563512),h=i(h,v,f,m,g[c+7],14,1735328473),f=o(f,m=i(m,h,v,f,g[c+12],20,2368359562),h,v,g[c+5],4,4294588738),v=o(v,f,m,h,g[c+8],11,2272392833),h=o(h,v,f,m,g[c+11],16,1839030562),m=o(m,h,v,f,g[c+14],23,4259657740),f=o(f,m,h,v,g[c+1],4,2763975236),v=o(v,f,m,h,g[c+4],11,1272893353),h=o(h,v,f,m,g[c+7],16,4139469664),m=o(m,h,v,f,g[c+10],23,3200236656),f=o(f,m,h,v,g[c+13],4,681279174),v=o(v,f,m,h,g[c+0],11,3936430074),h=o(h,v,f,m,g[c+3],16,3572445317),m=o(m,h,v,f,g[c+6],23,76029189),f=o(f,m,h,v,g[c+9],4,3654602809),v=o(v,f,m,h,g[c+12],11,3873151461),h=o(h,v,f,m,g[c+15],16,530742520),f=a(f,m=o(m,h,v,f,g[c+2],23,3299628645),h,v,g[c+0],6,4096336452),v=a(v,f,m,h,g[c+7],10,1126891415),h=a(h,v,f,m,g[c+14],15,2878612391),m=a(m,h,v,f,g[c+5],21,4237533241),f=a(f,m,h,v,g[c+12],6,1700485571),v=a(v,f,m,h,g[c+3],10,2399980690),h=a(h,v,f,m,g[c+10],15,4293915773),m=a(m,h,v,f,g[c+1],21,2240044497),f=a(f,m,h,v,g[c+8],6,1873313359),v=a(v,f,m,h,g[c+15],10,4264355552),h=a(h,v,f,m,g[c+6],15,2734768916),m=a(m,h,v,f,g[c+13],21,1309151649),f=a(f,m,h,v,g[c+4],6,4149444226),v=a(v,f,m,h,g[c+11],10,3174756917),h=a(h,v,f,m,g[c+2],15,718787259),m=a(m,h,v,f,g[c+9],21,3951481745),f=n(f,u),m=n(m,l),h=n(h,p),v=n(v,d);return(s(f)+s(m)+s(h)+s(v)).toLowerCase()}(r.token+"&"+c+"&"+s+"&"+n.data),l={jsv:"2.7.4",appKey:s,t:c,sign:u};r.bxOption&&Object.keys(r.bxOption).forEach((function(e){l["_"+e]=r.bxOption[e]}));var p={data:n.data,ua:n.ua};Object.keys(n).forEach((function(e){void 0===l[e]&&void 0===p[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(l[e]=n[e])})),n.ext_querys&&Object.keys(n.ext_querys).forEach((function(e){l[e]=n.ext_querys[e]})),r.getJSONP?l.type="jsonp":r.getOriginalJSONP?l.type="originaljsonp":(r.getJSON||r.postJSON)&&(l.type="originaljson"),void 0!==n.valueType&&("original"===n.valueType?r.getJSONP||r.getOriginalJSONP?l.type="originaljsonp":(r.getJSON||r.postJSON)&&(l.type="originaljson"):"string"===n.valueType&&(r.getJSONP||r.getOriginalJSONP?l.type="jsonp":(r.getJSON||r.postJSON)&&(l.type="json"))),!0===r.useJsonpResultType&&"originaljson"===l.type&&delete l.type,r.dangerouslySetProtocol&&(a=r.dangerouslySetProtocol+":"+a),"5.0"===n.SV&&(a+="5.0/",o()),r.querystring=l,r.postdata=p,r.path=a}t()},p.prototype.__processUnitPrefix=function(e){e()};var x=0;p.prototype.__requestJSONP=function(e){function t(e){if(l&&clearTimeout(l),p.parentNode&&p.parentNode.removeChild(p),"TIMEOUT"===e)window[u]=function(){window[u]=void 0;try{delete window[u]}catch(e){}};else{window[u]=void 0;try{delete window[u]}catch(e){}}}var r=n(),o=this.params,s=this.options,c=o.timeout||2e4,u="mtopjsonp"+(o.jsonpIncPrefix||"")+ ++x,l=setTimeout((function(){e(s.timeoutErrMsg||"TIMEOUT::接口超时"),t("TIMEOUT")}),c);s.querystring.callback=u;var p=document.createElement("script"),d=s.path+"?"+a(s.querystring)+"&"+a(s.postdata);return"5.0"===o.SV&&window.etSign&&(d+="&bx_et="+window.etSign(d)),p.src=d,p.async=!0,p.onerror=function(){t("ABORT"),e(s.abortErrMsg||"ABORT::接口异常退出")},window[u]=function(){s.results=Array.prototype.slice.call(arguments),t(),r.resolve()},i(p),r.promise},p.prototype.__requestJSON=function(t){function r(e){p&&clearTimeout(p),"TIMEOUT"===e&&u.abort()}var i=n(),o=this.params,s=this.options,u=new e.XMLHttpRequest,l=o.timeout||2e4,p=setTimeout((function(){t(s.timeoutErrMsg||"TIMEOUT::接口超时"),r("TIMEOUT")}),l);s.CDR&&c(b)&&(s.querystring.c=decodeURIComponent(c(b))),u.onreadystatechange=function(){if(4==u.readyState){var e,n,o=u.status;if(o>=200&&300>o||304==o){r(),e=u.responseText,n=u.getAllResponseHeaders()||"";try{(e=/^\s*$/.test(e)?{}:JSON.parse(e)).responseHeaders=n,s.results=[e],i.resolve()}catch(e){t("PARSE_JSON_ERROR::解析JSON失败")}}else r("ABORT"),t(s.abortErrMsg||"ABORT::接口异常退出")}};var d,f,m=s.path+"?"+a(s.querystring);s.getJSON?(d="GET",m+="&"+a(s.postdata)):s.postJSON&&(d="POST",f=a(s.postdata)),"5.0"===o.SV&&window.etSign&&(m+="&bx_et="+window.etSign(m)),u.open(d,m,!0),u.withCredentials=!0,u.setRequestHeader("Accept","application/json"),u.setRequestHeader("Content-type","application/x-www-form-urlencoded");var h=o.ext_headers||o.headers;if(h)for(var v in h)u.setRequestHeader(v,h[v]);return u.send(f),i.promise},p.prototype.__requestWindVane=function(e){function r(e){if(a.results=[e],e&&e.stat&&e.stat.falcoId){var n=function(){},r={mtopStart:b,mtopEnd:Date.now(),falcoId:e.stat.falcoId};t.windvane.call(x,"falcoExtend",r,n,n)}i.resolve()}var i=n(),o=this.params,a=this.options,s=o.data,c=o.api,u=o.v,l=a.postJSON?1:0,p=a.getJSON||a.postJSON||a.getOriginalJSONP?"originaljson":"";void 0!==o.valueType&&("original"===o.valueType?p="originaljson":"string"===o.valueType&&(p="")),!0===a.useJsonpResultType&&(p="");var d,f,m="https"===location.protocol?1:0,h=o.isSec||0,v=o.sessionOption||"AutoLoginOnly",g=o.ecode||0,y=o.ext_headers||{},w=o.ext_querys||{};d=2*(f=void 0!==o.timer?parseInt(o.timer):void 0!==o.timeout?parseInt(o.timeout):2e4);var b=Date.now();!0===o.needLogin&&void 0===o.sessionOption&&(v="AutoLoginAndManualLogin"),void 0!==o.secType&&void 0===o.isSec&&(h=o.secType);var _={api:c,v:u,post:String(l),type:p,isHttps:String(m),ecode:String(g),isSec:String(h),param:JSON.parse(s),timer:f,needLogin:!!o.needLogin,sessionOption:v,ext_headers:y,ext_querys:w};o.ttid&&!0===a.dangerouslySetWVTtid&&(_.ttid=o.ttid),Object.assign&&o.dangerouslySetWindvaneParams&&Object.assign(_,o.dangerouslySetWindvaneParams);var x="MtopWVPlugin";return"string"==typeof o.customWindVaneClassName&&(x=o.customWindVaneClassName),t.windvane.call(x,"send",_,r,r,d),i.promise},p.prototype.__requestAlipay=function(t){var r=n(),i=this.params,o=this.options,a={apiName:i.api,apiVersion:i.v,needEcodeSign:"1"===String(i.ecode),headers:i.ext_headers||{},usePost:!!o.postJSON};s(i.data)||(i.data=JSON.parse(i.data)),a.data=i.data,i.ttid&&!0===o.dangerouslySetWVTtid&&(a.ttid=i.ttid),(o.getJSON||o.postJSON||o.getOriginalJSONP)&&(a.type="originaljson"),void 0!==i.valueType&&("original"===i.valueType?a.type="originaljson":"string"===i.valueType&&delete a.type),!0===o.useJsonpResultType&&delete a.type,Object.assign&&i.dangerouslySetAlipayParams&&Object.assign(a,i.dangerouslySetAlipayParams);var c="mtop";return"string"==typeof i.customAlipayJSBridgeApi&&(c=i.customAlipayJSBridgeApi),e.AlipayJSBridge.call(c,a,(function(e){o.results=[e],r.resolve()})),r.promise},p.prototype.__processRequest=function(e,t){var n=this;return f.then((function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return y?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")})).then(e).then((function(){var e=n.options,t=(n.params,e.results[0]),r=t&&t.ret||[];t.ret=r,r instanceof Array&&(r=r.join(","));var i=t.c;e.CDR&&i&&function(e,t,n){var r=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(r.domain?";domain="+r.domain:"")+(r.path?";path="+r.path:"")+(r.secure?";secure":"")+(r.httponly?";HttpOnly":"")+(r.sameSite?";Samesite="+r.sameSite:"")}(b,i,{domain:e.pageDomain,path:"/",secure:e.secure,sameSite:e.sameSite}),r.indexOf("SUCCESS")>-1?t.retType=v.SUCCESS:t.retType=v.ERROR,e.retJson=t}))},p.prototype.__sequence=function(e){var t=this,r=[],i=[];e.forEach((function e(o){if(o instanceof Array)o.forEach(e);else{var a,s=n(),c=n();r.push((function(){return s=n(),(a=o.call(t,(function(e){return s.resolve(e),c.promise}),(function(e){return s.reject(e),c.promise})))&&(a=a.catch((function(e){s.reject(e)}))),s.promise})),i.push((function(e){return c.resolve(e),a}))}}));for(var o,a=f;o=r.shift();)a=a.then(o);for(;o=i.pop();)a=a.then(o);return a};var S=function(e){if(m.EtRequest&&!window.__etReady){o();var t,n,r=Number(m.EtLoadTimeout)||5e3,i=!1;window.etReady=function(){window.__etReady=!0,i||(i=!0,e())};var a=function(){t&&clearInterval(t),n&&clearTimeout(n),i||(i=!0,e())};t=setInterval((function(){try{window.etSign&&(window.__etReady=!0,a()),window.etReady&&!window.__etReady&&(window.etReady=function(){window.__etReady=!0,a()})}catch(e){a()}}),100),n=setTimeout((function(){a()}),r)}else e()},O=function(e){e()};p.prototype.request=function(n){var i=this;if(this.options=r(n||{},m),!d){var o="当前浏览器不支持Promise，请在windows对象上挂载Promise对象";throw t.mtop={ERROR:o},new Error(o)}var a=d.resolve([S,O]).then((function(e){var t=e[0],n=e[1];return i.__sequence([t,i.__processRequestMethod,i.__processRequestType,i.__processToken,i.__processRequestUrl,i.middlewares,i.__processRequest,n])})).then((function(){var e=i.options.retJson;return e.retType!==v.SUCCESS?d.reject(e):i.options.successCallback?void i.options.successCallback(e):d.resolve(e)})).catch((function(e){var n;return e instanceof Error?(console.error(e.stack),n={ret:[e.message],stack:[e.stack],retJson:v.ERROR}):n="string"==typeof e?{ret:[e],retJson:v.ERROR}:void 0!==e?e:i.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:i.params.api,data:i.params.data,v:i.params.v,retJson:n}),i.options.failureCallback?void i.options.failureCallback(n):d.reject(n)}));return this.__processRequestType(),i.options.H5Request&&(i.constructor.__firstProcessor||(i.constructor.__firstProcessor=a),S=function(e){i.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(n.pageDomain=n.pageDomain||function(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(e.location.hostname),n.mainDomain!==n.pageDomain&&(n.maxRetryTimes=4,n.CDR=!0)),this.__requestProcessor=a,a},t.mtop=function(e){return new p(e)},t.mtop.request=function(e,t,n){var r={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new p(e).request(r)},t.mtop.H5Request=function(e,t,n){var r={H5Request:!0,successCallback:t,failureCallback:n||t};return new p(e).request(r)},t.mtop.middlewares=h,t.mtop.config=m,t.mtop.RESPONSE_TYPE=v,t.mtop.CLASS=p}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function r(t,r){var i=navigator.userAgent.match(/.*(iPhone|iPad|Android|ios|SymbianOS|Windows Phone).*/i),o=i&&r.h5url?r.h5url:r.url,a=r.dialogSize,s=this,c=e.dpr||1,u=document.createElement("div"),l=document.documentElement.getBoundingClientRect(),p=Math.max(l.width,window.innerWidth)/c,d=window.innerHeight/c;u.style.cssText=["-webkit-transform:scale("+c+") translateZ(0)","-ms-transform:scale("+c+") translateZ(0)","transform:scale("+c+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+p+"px","height:"+d+"px","z-index:2147483647","position: fixed","left:0","top:0px","background:"+(p>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var f=document.createElement("div");f.style.cssText=["width:100%","height:52px","background:transparent","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),f.innerText=t;var m=document.createElement("img");m.style.cssText=["display:block","position:absolute","margin-top:15px","right:0","top:0","height:15px","line-height:52px","padding:0 20px","color:#999"].join(";"),m.src="https://gw.alicdn.com/tfs/TB1QZN.CYj1gK0jSZFuXXcrHpXa-200-200.png";var h=document.createElement("iframe");if(h.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),i)f.appendChild(m),u.appendChild(f);else{var v=a&&a.width||"420px",g=a&&a.height||"320px",y=50,w=50,b=24,_=-39;g.indexOf("px")>-1?b-=Number(g.replace("px",""))/2:g.indexOf("%")>-1&&(y-=Number(g.replace("%",""))/2),v.indexOf("px")>-1?_+=Number(v.replace("px",""))/2:v.indexOf("%")>-1&&(w+=Number(v.replace("%",""))/2),m.style.cssText=["position:absolute","width:15px","height:15px","top:"+y+"%","left:"+w+"%","cursor: pointer","border:0","z-index:1","overflow:hidden","margin-top:"+b+"px","margin-left:"+_+"px"].join(";"),u.appendChild(m),h.style.cssText=["position:absolute","top:0px","left:0px","bottom:0px","right:0px","margin:auto","width:"+v,"height:"+g,"border:0","background:#FFF","overflow:hidden","border-radius:18px"].join(";")}u.appendChild(h),u.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(u),h.src=o,m.addEventListener("click",(function(){s.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),u.dispatchEvent(e)}),!1),this.addEventListener=function(){u.addEventListener.apply(u,arguments)},this.removeEventListener=function(){u.removeEventListener.apply(u,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),u.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-l.top),u.parentNode&&u.parentNode.removeChild(u)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop 初始化失败！");var i=e.Promise,o=t.mtop.CLASS,a=t.mtop.config,s=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push((function(e){var n=this,r=this.options,i=this.params;return e().then((function(){var e=r.retJson,o=e.ret,c=navigator.userAgent.toLowerCase(),u=c.indexOf("safari")>-1&&c.indexOf("chrome")<0&&c.indexOf("qqbrowser")<0;if(o instanceof Array&&(o=o.join(",")),(o.indexOf("SESSION_EXPIRED")>-1||o.indexOf("SID_INVALID")>-1||o.indexOf("AUTH_REJECT")>-1||o.indexOf("NEED_LOGIN")>-1)&&(e.retType=s.SESSION_EXPIRED,!r.WindVaneRequest&&(!0===a.LoginRequest||!0===r.LoginRequest||!0===i.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::缺少lib.login");if(!0!==r.safariGoLogin||!u||"taobao.com"===r.pageDomain)return t.login.goLoginAsync().then((function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})).catch((function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::用户取消登录"):new Error("LOGIN_FAILURE::用户登录失败")}));t.login.goLogin()}}))})),t.mtop.loginRequest=function(e,t,n){var r={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new o(e).request(r)},t.mtop.antiFloodRequest=function(e,t,n){var r={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new o(e).request(r)},t.mtop.middlewares.push((function(e){var t=this.options;return this.params,!0!==t.H5Request||!0!==a.AntiFlood&&!0!==t.AntiFlood?void e():e().then((function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)}))})),t.mtop.antiCreepRequest=function(e,t,n){var r={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new o(e).request(r)},t.mtop.middlewares.push((function(t){var n=this,o=this.options,s=this.params;return!1!==o.AntiCreep&&(o.AntiCreep=!0),!0!==s.forceAntiCreep&&!0!==o.H5Request||!0!==a.AntiCreep&&!0!==o.AntiCreep?void t():t().then((function(){var t=o.retJson,a=t.ret;if(a instanceof Array&&(a=a.join(",")),a.indexOf("CHECKJS_FLAG")>-1&&t.uuid&&t.serid){try{var c=!!window.document._sufei_data2,u=new Image,l="https://fourier.taobao.com/ts?ext=200&uuid="+t.uuid+"&serid="+t.serid+"&sufei="+c;window.location&&location.href&&(l+="&href=="+location.href.substr(0,128)),window.__fyModule&&(l+="&fyModuleLoad="+window.__fyModule.load+"&fyModuleInit="+window.__fyModule.init),window.__umModule&&(l+="&umModuleLoad="+window.__umModule.load+"&umModuleInit="+window.__umModule.init),window.__uabModule&&(l+="&uabModuleLoad="+window.__uabModule.load+"&uabModuleInit="+window.__uabModule.init),window.__ncModule&&(l+="&ncModuleLoad="+window.__ncModule.load+"&ncModuleInit="+window.__ncModule.init),window.__nsModule&&(l+="&nsModuleLoad="+window.__nsModule.load+"&nsModuleInit="+window.__nsModule.init),window.__etModule&&(l+="&etModuleLoad="+window.__etModule.load+"&etModuleInit="+window.__etModule.init),u.src=l,document.body.appendChild(u)}catch(e){console.log(e,"上报异常")}return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}if((a.indexOf("RGV587_ERROR::SM")>-1||a.indexOf("ASSIST_FLAG")>-1)&&t.data.url){if("object"==typeof o.bxOption&&"new"===o.bxOption["bx-"+t.action]){var p=t.data.url+"&x5referer="+encodeURIComponent(location.href);return location.href=p,new i((function(){}))}var d="_m_h5_smt",f=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(d),m=!1;if(!0===o.saveAntiCreepToken&&f)for(var h in f=JSON.parse(f))s[h]&&(m=!0);if(!0===o.saveAntiCreepToken&&f&&!m){for(var h in f)s[h]=f[h];return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}return new i((function(i,a){function c(){l.removeEventListener("close",c),e.removeEventListener("message",u),a("USER_INPUT_CANCEL::用户取消输入")}function u(t){var r;try{r=JSON.parse(t.data)||{}}catch(e){}if(r&&"child"===r.type){var p;l.removeEventListener("close",c),e.removeEventListener("message",u),l.hide();try{for(var f in"string"==typeof(p=JSON.parse(decodeURIComponent(r.content)))&&(p=JSON.parse(p)),p)s[f]=p[f];!0===o.saveAntiCreepToken?(document.cookie=d+"="+JSON.stringify(p)+";",e.location.reload()):n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(i)}catch(e){a("USER_INPUT_FAILURE::用户输入失败")}}}var l=new r("",t.data);l.addEventListener("close",c,!1),e.addEventListener("message",u,!1),l.show()}))}}))}))}(window,window.lib||(window.lib={})),e.exports=window.lib.mtop},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,c,"next",e)}function c(e){n(a,i,o,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(5).default,i=n(14);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(6);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=window.ReactDOM},function(e,t,n){"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");var n={},r=(t||{}).decode||o,i=0;for(;i<e.length;){var a=e.indexOf("=",i);if(-1===a)break;var c=e.indexOf(";",i);if(-1===c)c=e.length;else if(c<a){i=e.lastIndexOf(";",a-1)+1;continue}var u=e.slice(i,a).trim();if(void 0===n[u]){var l=e.slice(a+1,c).trim();34===l.charCodeAt(0)&&(l=l.slice(1,-1)),n[u]=s(l,r)}i=c+1}return n},t.serialize=function(e,t,n){var o=n||{},s=o.encode||a;if("function"!=typeof s)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var c=s(t);if(c&&!i.test(c))throw new TypeError("argument val is invalid");var u=e+"="+c;if(null!=o.maxAge){var l=o.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(l)}if(o.domain){if(!i.test(o.domain))throw new TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw new TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){var p=o.expires;if(!function(e){return"[object Date]"===r.call(e)||e instanceof Date}(p)||isNaN(p.valueOf()))throw new TypeError("option expires is invalid");u+="; Expires="+p.toUTCString()}o.httpOnly&&(u+="; HttpOnly");o.secure&&(u+="; Secure");if(o.priority){switch("string"==typeof o.priority?o.priority.toLowerCase():o.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(o.sameSite){switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var r=Object.prototype.toString,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e){return-1!==e.indexOf("%")?decodeURIComponent(e):e}function a(e){return encodeURIComponent(e)}function s(e,t){try{return t(e)}catch(t){return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferDomain=void 0,t.transferDomain=function(e,t){const n=t||location&&location.hostname;if(n){const t=n.match(/alibaba\.(.*)/);if(t&&t.length>0)return e.replace("com",t[1])}return e}},,function(e,t,n){e.exports=n(20)},function(e,t,n){var r=n(5).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(5).default;function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",p=c.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(t){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),a=new C(r||[]);return s(o,"_invoke",{value:T(e,n,a)}),o}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var h="suspendedStart",v="executing",g="completed",y={};function w(){}function b(){}function _(){}var x={};d(x,u,(function(){return this}));var S=Object.getPrototypeOf,O=S&&S(S(P([])));O&&O!==o&&a.call(O,u)&&(x=O);var k=_.prototype=w.prototype=Object.create(x);function E(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function n(i,o,s,c){var u=m(e[i],e,o);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==r(p)&&a.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}var i;s(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function T(e,n,r){var i=h;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var u=m(e,n,r);if("normal"===u.type){if(i=r.done?g:"suspendedYield",u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=g,r.method="throw",r.arg=u.arg)}}}function A(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=m(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(a.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return b.prototype=_,s(k,"constructor",{value:_,configurable:!0}),s(_,"constructor",{value:b,configurable:!0}),b.displayName=d(_,p,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,d(e,p,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(R.prototype),d(R.prototype,l,(function(){return this})),n.AsyncIterator=R,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new R(f(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),d(k,p,"Generator"),d(k,u,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(17),i=n(18);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],c=t.base?o[0]+t.base:o[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var p=s(l),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==p?(a[p].references++,a[p].updater(d)):a.push({identifier:l,updater:v(d,t),references:1}),r.push(l)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,p=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=p(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var m=null,h=0;function v(e,t){var n,r,i;if(t.singleton){var o=h++;n=m||(m=u(t)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else n=u(t),r=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=s(n[r]);a[i].references--}for(var o=c(e,t),u=0;u<n.length;u++){var l=s(n[u]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=o}}}},function(e,t,n){(t=n(19)(!1)).push([e.i,"/* write style here */\n.icbu-im-plugin {\n  position: fixed;\n  bottom: 48px;\n  width: 210px;\n  height: 200px;\n  z-index: 998;\n}\n\n.icbu-im-plugin.right60 {\n  right: 60px;\n}\n\n.icbu-im-plugin.right80 {\n  right: 80px;\n}\n\n.icbu-im-plugin-inner {\n  position: absolute;\n  bottom: -200px;\n\n  background-color: #fff;\n  width: 210px;\n  height: 200px;\n  border-radius: 4px;\n\n  box-shadow: -4px -4px 14px rgba(0, 0, 0, 0.1);\n  padding: 16px 16px 0 16px;\n  box-sizing: border-box;\n  transition: bottom 1s;\n  transition-timing-function: cubic-bezier(0.53, 0.8, 0.2, 1);\n}\n\n.icbu-im-plugin-inner.active {\n  bottom: 0;\n}\n\n.action-button {\n  width: 178px;\n  height: 28px;\n  border: 1px solid #222;\n  border-radius: 17px;\n  background-color: #fff;\n  display: flex;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  bottom: 16px;\n  cursor: pointer;\n}\n\n.action-text {\n  font-size: 13px;\n  line-height: 18px;\n  color: #222;\n}\n\n.message-text {\n  font-size: 14px;\n  line-height: 20px;\n  color: #222;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n  margin-top: 12px;\n}\n\n.contact-wrap {\n  display: flex;\n  flex-direction: row;\n}\n\n.contact-main-info {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  margin-left: 8px;\n  justify-content: center;\n  overflow: hidden;\n}\n\n.contact-left {\n  position: relative;\n  width: 40px;\n  height: 40px;\n  flex: none;\n}\n\n.contact-avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  border: 1px solid #ddd;\n}\n\n.online-tip {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  width: 8px;\n  height: 8px;\n  background-color: #09ff42;\n  border: 1px solid #fff;\n  border-radius: 50%;\n}\n\n.contact-name,\n.contact-status {\n  font-size: 12px;\n  line-height: 17px;\n  color: #222;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.close-icon {\n  position: absolute;\n  right: 8px;\n  top: 8px;\n  cursor: pointer;\n}\n",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([i]).join("\n")}var a,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(7),a=n.n(o),s=n(8),c=n.n(s),u=n(1),l=n.n(u),p=n(2),d=n.n(p),f=n(0),m=n.n(f),h=n(9),v=n.n(h),g={close:m.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("title",null,"close"),m.a.createElement("g",{id:"Symbols",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},m.a.createElement("g",{id:"close"},m.a.createElement("rect",{id:"矩形",x:"0",y:"0",width:"24",height:"24"}),m.a.createElement("path",{d:"M17.9084453,4.97249428 L18.9715547,6.03501718 L13.057,11.9990513 L18.9715547,17.9649828 L17.9084453,19.0275057 L12,13.0670513 L6.09155473,19.0275057 L5.02844527,17.9649828 L10.942,11.9990513 L5.02844527,6.03501718 L6.09155473,4.97249428 L12,10.9320513 L17.9084453,4.97249428 Z",fill:"#222222",transform:"translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) "}))))},y=(n(16),function(e){return e.minisite="minisite",e.detail="detail",e.upcoming="upcoming",e.replay="replay",e}({})),w=function(e){return e[e.minisite=2]="minisite",e[e.detail=1]="detail",e}({});function b(e){var t=e.avatarUrl,n=e.contactName,r=e.onlineStatus,i=void 0===r||r,o=e.onlineStatusText,a=e.message,s=e.actionText,c=e.onClose,u=e.onActionClick,l=e.fromPage===y.minisite?"icbu-im-plugin right80":"icbu-im-plugin right60";return m.a.createElement("div",{className:l},m.a.createElement("div",{className:"icbu-im-plugin-inner"},m.a.createElement("div",{className:"close-icon",onClick:c},g.close),m.a.createElement("div",{className:"contact-wrap"},m.a.createElement("div",{className:"contact-left"},m.a.createElement("img",{className:"contact-avatar",src:t}),i&&m.a.createElement("div",{className:"online-tip"})),m.a.createElement("div",{className:"contact-main-info"},m.a.createElement("span",{className:"contact-name"},n),m.a.createElement("span",{className:"contact-status"},o))),m.a.createElement("span",{className:"message-text"},a),m.a.createElement("div",{className:"action-button",onClick:u},m.a.createElement("span",{className:"action-text"},s))))}var _=function(e){return e.upcoming="visiter_markting_live",e.replay="visiter_markting_live",e.minisite="visiter_markting_shopDetail",e.detail="visiter_markting_productDetail",e}({}),x=n(3);var S=n(10),O=n(11);function k(e){return e?Object(O.transferDomain)(e):e}var E=function(e){if(window){var t=e.ext,n=void 0===t?"":t,r=e.bizData,i=void 0===r?{}:r,o="".concat(n,"&bizData=").concat(encodeURIComponent(JSON.stringify(i)));if(window.goldlog&&window.goldlog.record)window.goldlog.record("/sc.ma.im","CLK",o,"GET");else(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:["/sc.ma.im","CLK",o,"GET"]})}},R={};var T=function(){var e,t,n,r,i=function(){var e;if(null===(e=document)||void 0===e||!e.cookie)return{buyer:"en_US",seller:"zh_CN"};var t=document.cookie.match(/sc_b_locale=(\w+)/),n=document.cookie.match(/intl_locale=(\w+)/);return{buyer:t&&t[1]?t[1]:"en_US",seller:n&&n[1]?n[1]:"zh_CN"}}().buyer,o="".concat("intl-gangesweb","_").concat("webliteMarketing");t=(e={namespace:o,language:i}).namespace,n=e.language,r="https://s.alicdn.com/@mcms/combine?name=".concat(t,"&language=").concat(n,"&type=json"),fetch(r,{method:"GET",credentials:"omit",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},mode:"cors",cache:"no-cache"}).then((function(e){var n=e.json();Object.assign(R,n[t])}))},A=function(e,t){return R[e]||t};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}x.config.mainDomain=k("alibaba.com"),x.config.subDomain="h",x.config.prefix="acs";var C={visiter_markting_productDetail:{key:"im.chat.arrive.marketing.product.reply",defaultValue:"Hi, I want to know more about this product.",bizType:"1",bizIdKey:"productId"},visiter_markting_shopDetail:{key:"im.chat.arrive.marketing.company.reply",defaultValue:"Hi, I want to know more about your company.",bizType:"2",bizIdKey:"companyId"},visiter_markting_live:{key:"im.chat.arrive.marketing.company.reply",defaultValue:"Hi, I want to know more about your company."}};function P(e){return x.request(e).then((function(e){return e.data})).catch((function(t){throw E({ext:"marketingRequestError",bizData:{params:e,errorMsg:t}}),t}))}function q(){var e=function(){var e="",t="",n=document.cookie,r=S.parse(n).xman_us_f;if(r){var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return e.replace(/([^?&]+)=([^?&]+)/g,(function(e,r,i){return t?n[decodeURIComponent(r)]=decodeURIComponent(i):n[r]=i,i+"="+r})),n}(r).x_user,o=void 0===i?"":i;if(o){var a=o.split("|");e=a[1]||"",t=a[2]||""}}return{firstName:e,lastName:t}}().firstName;return A("im_chat_arrive_marketing_hi_name","Hi, {name}!").replace(/{name}/g,e)||e}function j(e){var t=e.slrAliId,n=e.bucket,r=e.scene,i=function(e){var t;return(null===(t=C[e])||void 0===t?void 0:t.bizType)||""}(r),o=function(e){var t,n=e.scene;return e[null===(t=C[n])||void 0===t?void 0:t.bizIdKey]||""}(e);return P({api:"mtop.alibaba.intl.im.marmaterial.query",v:"1.0",appKey:"24889839",data:{scene:r,slrAliId:t,bucketName:n,bizType:i,bizId:o},ecode:1,dataType:"json"}).then((function(e){var t=e.marketMaterialInfo,n=void 0===t?"{}":t,i=JSON.parse(n),o=i.speechcraft;"1"===i.system_flag&&(o=A(i.medusa_key,o));var a=q();o="".concat(a," ").concat(o);var s=function(e){var t=C[e];return A(null==t?void 0:t.key,null==t?void 0:t.defaultValue)}(r);return N(N({},e),{},{marketingText:o,buyerMarketingText:s})}))}function L(e){return P({api:"mtop.alibaba.intl.ai.visitor.reception.satisfied",v:"1.0",appKey:"24889839",data:{sellerAliId:(null!=e?e:{}).sellerAliId},ecode:1,dataType:"json"}).then((function(e){return(null==e?void 0:e.data)||!1})).catch((function(){return!1}))}var M=function(e){var t=null!=e?e:{};return P({api:"mtop.alibaba.intl.ai.visitor.reception.content",v:"1.0",appKey:"24889839",data:{slrAliId:t.slrAliId,bizType:t.bizType,bizId:t.bizId,token:t.chatToken},ecode:1,dataType:"json"}).then((function(e){var t;if(0!==e.code)return{};var n=(null==e?void 0:e.data)||{},r=n.satisfyReception,i=n.buyerTired,o=n.inABTestBucket,a=(n.avatar,n.receptionAliId),s=n.secReceptionAliId,c=n.receptionName,u=n.receptionShowContent,l=n.receptionSendContent,p=Number(r&&"boolean"==typeof i&&!i&&o);return N(N({},null!==(t=null==e?void 0:e.data)&&void 0!==t?t:{}),{},{isHit:p,receptAliId:a,secReceptAliId:s,receptName:c,marketingText:u,sellerMarketingText:l})})).catch((function(){return{}}))};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}T();var V=function(){function e(){a()(this,e),l()(this,"initialized",!1),l()(this,"container",void 0),l()(this,"entryParams",void 0),l()(this,"marketingInfo",{}),l()(this,"isSatisfiedIcbuVisitor",void 0)}return c()(e,[{key:"initEntryParams",value:function(e){var t=e.slrAliId,n=e.bucket,r=e.fromPage,i=e.productId,o=e.companyId;return t&&n&&r?Object.values(y).includes(r)?y.detail!==r||i?y.minisite!==r||o?(this.entryParams=J(J({},e),{},{scene:_[r]}),!0):(console.log("必须传入companyId"),!1):(console.log("必须传入productId"),!1):(console.log("fromPage传入错误"),!1):(console.log("初始化入参错误"),!1)}},{key:"renderApp",value:function(e){var t=this;!this.container&&document&&(this.container=document.createElement("div"),this.container.id="im-marketing-dialog",document.body.appendChild(this.container),v.a.render(m.a.createElement(b,e),this.container,(function(){setTimeout((function(){t.container.children[0].children[0].classList.add("active")}),10)})))}},{key:"doAction",value:(r=i()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.closeMarketingDialog(),e.next=3,t=this.entryParams,n=this.marketingInfo,r={isSatisfiedIcbuVisitor:this.isSatisfiedIcbuVisitor},i=void 0,o=void 0,a=void 0,s=void 0,c=void 0,u=void 0,l=void 0,p=void 0,d=void 0,f=void 0,m=void 0,h=void 0,v=void 0,i=t.fromPage,o=void 0===i?"live":i,a=t.productId,s=t.scene,c=t.chatToken,u=n.secReceptAliId,l=n.marketingText,p=n.buyerMarketingText,d=n.sellerMarketingText,f=(null!=r?r:{}).isSatisfiedIcbuVisitor,v=[{chatType:1,messageType:1,entranceSource:m=f?"AIVisitorReception":s,content:f&&(p||d)||l,ip:h=o,clientInfo:"web",number:0}],s===_.detail&&a&&!f&&v.push({chatType:1,messageType:2e3,entranceSource:m,content:{cardType:2e3,params:{ids:a,ctime:Date.now()}},ip:h,clientInfo:"web",number:1}),f||v.push({chatType:1,messageType:1,entranceSource:m,content:p,ip:h,clientInfo:"web",number:v.length}),E({ext:"sendMarketingMessages",bizData:{length:v.length,secReceptAliId:u,isSatisfiedIcbuVisitor:f}}),P({api:"mtop.alibaba.icbu.im.xiaoman.visiter.markting.message",v:"1.0",appKey:"24889839",data:{sellerEncryptAliId:u,chatToken:c,xiaoManVisiterMarktingMessages:JSON.stringify(v)},ecode:1,dataType:"json"});case 3:e.sent.result||E({ext:"sendMarketingMessagesFail",bizData:{entryParams:JSON.stringify(this.entryParams),marketingInfo:JSON.stringify(this.marketingInfo),isSatisfiedIcbuVisitor:this.isSatisfiedIcbuVisitor}}),this.openChat();case 6:case"end":return e.stop()}var t,n,r,i,o,a,s,c,u,l,p,d,f,m,h,v}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"openChat",value:function(){var e,t=this.entryParams,n=t.fromPage,r=t.chatToken,i=this.marketingInfo,o=i.secReceptAliId,a=i.receptAliId;E({ext:"openChatAfterMarketing",bizData:{receptAliId:a,isSatisfiedIcbuVisitor:this.isSatisfiedIcbuVisitor}});var s=null===(e=document)||void 0===e?void 0:e.getElementById("#weblite-iframe");if(s){var c=JSON.stringify({type:"weblite:open",data:{fromPage:n,aliId:a,aliIdEncrypt:o,chatToken:r}});E({ext:"marketingOpenChat",bizData:{data:c,isSatisfiedIcbuVisitor:this.isSatisfiedIcbuVisitor}});var u=k("".concat(location.protocol,"//onetalk.alibaba.com"));s.contentWindow.postMessage(c,u)}}},{key:"getMarketingTreatment",value:(n=i()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{success:!0,treatment:"marketing_group_3"});case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"showMarketingDialog",value:(t=i()(d.a.mark((function e(t){var n,r,i,o,a,s,c,u,l,p,f,m,h,v,g,b,_,x=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.initialized){e.next=2;break}return e.abrupt("return");case 2:if(this.initEntryParams(t)){e.next=6;break}return E({ext:"marketingEntryParamsError",bizData:t}),e.abrupt("return");case 6:if(this.initialized=!0,E({ext:"marketingEntry",bizData:this.entryParams}),r=this.entryParams,i=r.slrAliId,o=r.bucket,a=r.fromPage,s=r.scene,c=r.companyId,u=r.productId,l=r.chatToken,null!==(n=this.marketingInfo)&&void 0!==n&&n.marketingText){e.next=25;break}return e.next=12,L({sellerAliId:i});case 12:if(this.isSatisfiedIcbuVisitor=e.sent,p={},!this.isSatisfiedIcbuVisitor){e.next=21;break}return f=a===y.detail?u:a===y.minisite?c:void 0,e.next=18,M({slrAliId:i,bizType:a?Number(w[a||""]):void 0,bizId:f,chatToken:l});case 18:p=e.sent,e.next=24;break;case 21:return e.next=23,j(this.entryParams);case 23:p=e.sent;case 24:this.marketingInfo=p;case 25:m=this.marketingInfo,h=m.avatar,v=m.isHit,g=m.receptAliId,b=m.receptName,_=m.marketingText,E({ext:"gotMarketingInfo",bizData:{marketingInfo:JSON.stringify(this.marketingInfo),isSatisfiedIcbuVisitor:this.isSatisfiedIcbuVisitor}}),(this.isSatisfiedIcbuVisitor?1===v:(1===v||"1"===v)&&_)&&(E({ext:"marketingDialogShow",bizData:{slrAliId:i,receptAliId:g,bucket:o,scene:s,productId:u,companyId:c,isSatisfiedIcbuVisitor:this.isSatisfiedIcbuVisitor}}),this.renderApp({fromPage:a,avatarUrl:h,contactName:b,onlineStatusText:A("im.chat.arrive.marketing.online","Online"),message:_,actionText:A("im.chat.arrive.marketing.action","Message now"),onClose:function(){x.closeMarketingDialog(),E({ext:"marketingDialogClose",bizData:{slrAliId:i,receptAliId:g,bucket:o,scene:s,productId:u,companyId:c,isSatisfiedIcbuVisitor:x.isSatisfiedIcbuVisitor}})},onActionClick:function(){E({ext:"marketingAskClick",bizData:{slrAliId:i,receptAliId:g,bucket:o,scene:s,productId:u,companyId:c,isSatisfiedIcbuVisitor:x.isSatisfiedIcbuVisitor}}),x.doAction()}}));case 29:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"closeMarketingDialog",value:function(){this.container&&this.container.parentNode&&(this.container.parentNode.removeChild(this.container),this.container=null)}}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}]);var t,n,r}();l()(V,"instance",void 0);var H=V.getInstance();t.default=H;window.IMPlugin=H}]);